(function(a){a.plugins.TextColor=function(c){var b=a.DOM,e=a.Event,p=a.each,k=a.extend,f;c.settings.textcolor&&!c.settings.textcolor.skip_css||b.loadCSS(a.baseURL+"/plugins/textcolor/css/editor.css");f=k({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF"},c.settings.textcolor);
k(c.commands,{mceColor:function(a,k,n){function g(a){c.hideMenu=null;e.remove(document,"click",g);e.remove(c.getDoc(),"click",g);b.get(h+"_mcolor").style.display="none";return 1}var d,m=this,h=c.settings.id;a=b.getPos(n.target);var l;if(c.hideMenu)return c.hideMenu();d=b.get(h+"_mcolor");d||(d=b.get(h+"_t"),d=b.add(document.body,"div",{id:h+"_mcolor","class":"punymce_color punymce"}),d=b.add(d,"table",{"class":"punymce"}),d=b.add(d,"tbody"),l=8,p(f.colors.split(","),function(a){8==l&&(r=b.add(d,"tr"),
l=0);l++;e.add(b.add(b.add(r,"td"),"a",{href:"#",style:"background:#"+a}),"mousedown",function(b){g.call(m);c.execCommand("forecolor",0,"#"+a);return e.cancel(b)})}));e.add(document,"click",g,m);e.add(c.getDoc(),"click",g,m);c.hideMenu=g;f=b.get(h+"_mcolor").style;f.left=a.x+"px";f.top=a.y+n.target.clientHeight+2+"px";f.display="block"}});k(c.tools,{textcolor:{cmd:"mceColor",title:a.I18n.textcolor}})};a.extend(a.I18n,{textcolor:"Text color"})})(punymce);
