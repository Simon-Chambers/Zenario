tinymce.ThemeManager.add("modern",function(e){function p(){function a(a){var g=[],f;if(a)return q(a.split(/[ ,]/),function(a){function b(){var f=e.selection;"bullist"==d&&f.selectorChanged("ul > li",function(f,e){for(var c,b=e.parents.length;b--&&(c=e.parents[b].nodeName,"OL"!=c&&"UL"!=c););a.active(f&&"UL"==c)});"numlist"==d&&f.selectorChanged("ol > li",function(f,c){for(var e,b=c.parents.length;b--&&(e=c.parents[b].nodeName,"OL"!=e&&"UL"!=e););a.active(f&&"OL"==e)});a.settings.stateSelector&&f.selectorChanged(a.settings.stateSelector,
function(f){a.active(f)},!0);a.settings.disabledStateSelector&&f.selectorChanged(a.settings.disabledStateSelector,function(f){a.disabled(f)})}var d;if("|"==a)f=null;else if(m.has(a))a={type:a},c.toolbar_items_size&&(a.size=c.toolbar_items_size),g.push(a),f=null;else if(f||(f={type:"buttongroup",items:[]},g.push(f)),e.buttons[a])if(d=a,a=e.buttons[d],"function"==typeof a&&(a=a()),a.type=a.type||"button",c.toolbar_items_size&&(a.size=c.toolbar_items_size),a=m.create(a),f.items.push(a),e.initialized)b();
else e.on("init",b)}),b.push({type:"toolbar",layout:"flow",items:g}),!0}for(var b=[],g=1;10>g&&a(c["toolbar"+g]);g++);b.length||a(c.toolbar||v);return b}function r(){function a(a){var b,g,d,h,k;k=tinymce.makeMap((c.removed_menuitems||"").split(/[ ,]/));c.menu?(g=c.menu[a],h=!0):g=u[a];if(g){b={text:g.title};d=[];q((g.items||"").split(/[ ,]/),function(a){"|"!=a&&!e.menuItems[a]||k[a]||d.push("|"==a?{text:"|"}:e.menuItems[a])});h||q(e.menuItems,function(b){b.context==a&&("before"==b.separator&&d.push({text:"|"}),
b.prependToContext?d.unshift(b):d.push(b),"after"==b.separator&&d.push({text:"|"}))});for(g=0;g<d.length;g++)"|"==d[g].text&&(0!==g&&g!=d.length-1||d.splice(g,1));b.menu=d;if(!b.menu.length)return null}return b}var b,g=[],d=[];if(c.menu)for(b in c.menu)d.push(b);else for(b in u)d.push(b);b="string"==typeof c.menubar?c.menubar.split(/[ ,]/):d;for(d=0;d<b.length;d++){var h=b[d];(h=a(h))&&g.push(h)}return g}function s(a){function b(b){(b=a.find(b)[0])&&b.focus(!0)}e.shortcuts.add("Alt+F9","",function(){b("menubar")});
e.shortcuts.add("Alt+F10","",function(){b("toolbar")});e.shortcuts.add("Alt+F11","",function(){b("elementpath")});a.on("cancel",function(){e.focus()})}function t(a,b){var g,d,h,f;h=e.getContainer();f=e.getContentAreaContainer().firstChild;d=h.clientWidth;g=f.clientWidth;null!==a&&(a=Math.max(c.min_width||100,a),a=Math.min(c.max_width||65535,a),l.css(h,"width",a+(d-g)),l.css(f,"width",a));b=Math.max(c.min_height||100,b);b=Math.min(c.max_height||65535,b);l.css(f,"height",b);e.fire("ResizeEditor")}function w(a){function b(){if(f&&
f.moveRel&&f.visible()&&!f._fixed){var a=e.selection.getScrollContainer(),b=e.getBody(),c=0,d=0;a&&(d=l.getPos(b),a=l.getPos(a),c=Math.max(0,a.x-d.x),d=Math.max(0,a.y-d.y));f.fixed(!1).moveRel(b,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl"]).moveBy(c,d)}}function g(){f&&(f.show(),b(),l.addClass(e.getBody(),"mce-edit-focus"))}function d(){f&&(f.hide(),l.removeClass(e.getBody(),"mce-edit-focus"))}function h(){f?f.visible()||g():(f=k.panel=m.create({type:n?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",
layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!n,border:1,items:[!1===c.menubar?null:{type:"menubar",border:"0 0 1 0",items:r()},!1===c.toolbar?null:{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:p()}]}),e.fire("BeforeRenderUI"),f.renderTo(n||document.body).reflow(),s(f),g(),e.on("nodeChange",b),e.on("activate",g),e.on("deactivate",d),e.nodeChanged())}var f,n;c.fixed_toolbar_container&&(n=l.select(c.fixed_toolbar_container)[0]);
c.content_editable=!0;e.on("focus",function(){a.skinUiCss?tinymce.DOM.styleSheetLoader.load(a.skinUiCss,h,h):h()});e.on("blur",d);e.on("remove",function(){f&&(f.remove(),f=null)});a.skinUiCss&&tinymce.DOM.styleSheetLoader.load(a.skinUiCss);return{}}function x(a){zenario.getContainerIdFromEl(a.targetNode);var b=document.getElementById("zenario_at_toolbars");a.skinUiCss&&tinymce.DOM.loadCSS(a.skinUiCss);a=k.panel=m.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",
layout:"stack",border:1,items:[!1===c.menubar?null:{type:"menubar",border:"0 0 1 0",items:r()},{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:p()},{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",html:"",border:"1 0 0 0"}]});b.innerHTML="";e.fire("BeforeRenderUI");a.renderTo(b).reflow();s(a);c.content_editable=!0;return{}}function y(a){var b,g,d,h;a.skinUiCss&&tinymce.DOM.loadCSS(a.skinUiCss);d=k.panel=m.create({type:"panel",role:"application",classes:"tinymce",
style:"visibility: hidden",layout:"stack",border:1,items:[!1===c.menubar?null:{type:"menubar",border:"0 0 1 0",items:r()},!1===c.toolbar?null:{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:p()},{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",html:"",border:"1 0 0 0"}]});!1!==c.resize&&(h={type:"resizehandle",direction:c.resize,onResizeStart:function(){var a=e.getContentAreaContainer().firstChild;b=a.clientWidth;g=a.clientHeight},onResize:function(a){"both"==
c.resize?t(b+a.deltaX,g+a.deltaY):t(null,g+a.deltaY)}});!1!==c.statusbar&&d.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath"},h]});c.readonly&&d.find("*").disabled(!0);e.fire("BeforeRenderUI");d.renderBefore(a.targetNode).reflow();c.width&&tinymce.DOM.setStyle(d.getEl(),"width",c.width);e.on("remove",function(){d.remove();d=null});s(d);return{iframeContainer:d.find("#iframe")[0].getEl(),editorContainer:d.getEl()}}var k=this,
c=e.settings,m=tinymce.ui.Factory,q=tinymce.each,l=tinymce.DOM,u={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},v="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";
k.renderUI=function(a){var b=!1!==c.skin?c.skin||"lightgray":!1;if(b){var g=c.skin_url,g=g?e.documentBaseURI.toAbsolute(g):tinymce.baseURL+"/skins/"+b;a.skinUiCss=7>=tinymce.Env.documentMode?g+"/skin.ie7.min.css":g+"/skin.min.css";e.contentCSS.push(g+"/content"+(e.inline?".inline":"")+".min.css")}e.on("ProgressState",function(a){k.throbber=k.throbber||new tinymce.ui.Throbber(k.panel.getEl("body"));a.state?k.throbber.show(a.time):k.throbber.hide()});return c.zenario_inline_ui?x(a):c.inline?w(a):y(a)};
k.resizeTo=t;k.resizeBy=function(a,b){var c=e.getContentAreaContainer();k.resizeTo(c.clientWidth+a,c.clientHeight+b)}});
