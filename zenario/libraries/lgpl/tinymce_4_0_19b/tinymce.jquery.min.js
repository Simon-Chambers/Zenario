(function(ca,P){function ea(l,k){for(var d,h=[],a=0;a<l.length;++a){if(!(d=$[l[a]]))a:{d=ca;for(var b=l[a].split(/[.\/]/),c=0;c<b.length;++c){if(!d[b[c]]){d=void 0;break a}d=d[b[c]]}}if(!d)throw"module definition dependecy not found: "+l[a];h.push(d)}k.apply(null,h)}function y(l,k,d){if("string"!==typeof l)throw"invalid module definition, module id must be defined and be a string";if(k===P)throw"invalid module definition, dependencies must be specified";if(d===P)throw"invalid module definition, definition function must be specified";
ea(k,function(){$[l]=d.apply(null,arguments)})}var $={};y("tinymce/dom/Sizzle",[],function(){if(!window.jQuery)throw Error("Load jQuery first");return jQuery.find});y("tinymce/html/Styles",[],function(){return function(l,k){function d(a,e,b,g){function f(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+f(e)+f(b)+f(g)}var h=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
b=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,f,e={},g;l=l||{};g="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(f=0;f<g.length;f++)e[g[f]]="\ufeff"+f,e["\ufeff"+f]=g[f];return{toHex:function(a){return a.replace(h,d)},parse:function(g){function u(a,e,b){var g,m,c,d;if(g=n[a+"-top"+e])if(m=n[a+"-right"+e])if(c=n[a+"-bottom"+e])if(d=n[a+"-left"+e]){g=[g,m,c,d];for(f=g.length-1;f--&&g[f]===g[f+1];);-1<f&&b||(n[a+e]=-1==f?g[0]:g.join(" "),delete n[a+"-top"+e],delete n[a+"-right"+e],delete n[a+"-bottom"+e],delete n[a+
"-left"+e])}}function m(a){var e=n[a],b;if(e){e=e.split(" ");for(b=e.length;b--;)if(e[b]!==e[0])return!1;n[a]=e[0];return!0}}function q(a,e,b,g){m(e)&&m(b)&&m(g)&&(n[a]=n[e]+" "+n[b]+" "+n[g],delete n[e],delete n[b],delete n[g])}function p(a){C=!0;return e[a]}function r(a,b){C&&(a=a.replace(/\uFEFF[0-9]/g,function(a){return e[a]}));b||(a=a.replace(/\\([\'\";:])/g,"$1"));return a}function s(a,e,b,g,f,m){if(f=f||m)return f=r(f),"'"+f.replace(/\'/g,"\\'")+"'";e=r(e||b||g);if(!l.allow_script_urls&&/(java|vb)script:/i.test(e.replace(/[\s\r\n]+/,
"")))return"";k&&(e=k.call(B,e,"style"));return"url('"+e.replace(/\'/g,"\\'")+"')"}var n={},v,w,F,C,k=l.url_converter,B=l.url_converter_scope||this;if(g){g=g.replace(/[\u0000-\u001F]/g,"");for(g=g.replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,p)});v=b.exec(g);){w=v[1].replace(c,"").toLowerCase();F=v[2].replace(c,"");if(w&&0<F.length){if(!l.allow_script_urls&&("behavior"==w||/expression\s*\(/.test(F)))continue;if("font-weight"===w&&"700"===F)F=
"bold";else if("color"===w||"background-color"===w)F=F.toLowerCase();F=F.replace(h,d);F=F.replace(a,s);n[w]=C?r(F,!0):F}b.lastIndex=v.index+v[0].length}u("border","",!0);u("border","-width");u("border","-color");u("border","-style");u("padding","");u("margin","");q("border","border-width","border-style","border-color");"medium none"===n.border&&delete n.border;"none"===n["border-image"]&&delete n["border-image"]}return n},serialize:function(a,e){function b(e){var f,m,c,d;if(f=k.styles[e])for(m=0,
c=f.length;m<c;m++)e=f[m],d=a[e],void 0!==d&&0<d.length&&(g+=(0<g.length?" ":"")+e+": "+d+";")}var g="",f,c;if(e&&k&&k.styles)b("*"),b(e);else for(f in a)c=a[f],void 0!==c&&0<c.length&&(g+=(0<g.length?" ":"")+f+": "+c+";");return g}}}});y("tinymce/dom/EventUtils",[],function(){function l(a,b,f,c){a.addEventListener?a.addEventListener(b,f,c||!1):a.attachEvent&&a.attachEvent("on"+b,f)}function k(a,b,f,c){a.removeEventListener?a.removeEventListener(b,f,c||!1):a.detachEvent&&a.detachEvent("on"+b,f)}function d(a,
b){function d(){return!1}function h(){return!0}var m,q=b||{};for(m in a)f[m]||(q[m]=a[m]);q.target||(q.target=q.srcElement||document);if(a&&c.test(a.type)&&void 0===a.pageX&&void 0!==a.clientX){var p=q.target.ownerDocument||document;m=p.documentElement;p=p.body;q.pageX=a.clientX+(m&&m.scrollLeft||p&&p.scrollLeft||0)-(m&&m.clientLeft||p&&p.clientLeft||0);q.pageY=a.clientY+(m&&m.scrollTop||p&&p.scrollTop||0)-(m&&m.clientTop||p&&p.clientTop||0)}q.preventDefault=function(){q.isDefaultPrevented=h;a&&(a.preventDefault?
a.preventDefault():a.returnValue=!1)};q.stopPropagation=function(){q.isPropagationStopped=h;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)};q.stopImmediatePropagation=function(){q.isImmediatePropagationStopped=h;q.stopPropagation()};q.isDefaultPrevented||(q.isDefaultPrevented=d,q.isPropagationStopped=d,q.isImmediatePropagationStopped=d);return q}function h(a,b,f){function c(){f.domLoaded||(f.domLoaded=!0,b(r))}function m(){if("complete"===h.readyState||"interactive"===h.readyState&&
h.body)k(h,"readystatechange",m),c()}function d(){try{h.documentElement.doScroll("left")}catch(a){setTimeout(d,0);return}c()}var h=a.document,r={type:"ready"};f.domLoaded?b(r):(h.addEventListener?"complete"===h.readyState?c():l(a,"DOMContentLoaded",c):(l(h,"readystatechange",m),h.documentElement.doScroll&&a.self===a.top&&d()),l(a,"load",c))}function a(){function a(e,b){var g,m,c,d;if(g=(g=f[b])&&g[e.type])for(m=0,c=g.length;m<c&&((d=g[m])&&!1===d.func.call(d.scope,e)&&e.preventDefault(),!e.isImmediatePropagationStopped());m++);
}var g=this,f={},c,m,q,p,r;m=b+(+new Date).toString(32);p="onmouseenter"in document.documentElement;q="onfocusin"in document.documentElement;r={mouseenter:"mouseover",mouseleave:"mouseout"};c=1;g.domLoaded=!1;g.events=f;g.bind=function(b,n,v,w){function F(b){a(d(b||E.event),C)}var C,k,B,z,J,A,M,E=window;if(b&&3!==b.nodeType&&8!==b.nodeType){b[m]?C=b[m]:(C=c++,b[m]=C,f[C]={});w=w||b;n=n.split(" ");for(B=n.length;B--;)z=n[B],A=F,J=M=!1,"DOMContentLoaded"===z&&(z="ready"),g.domLoaded&&"ready"===z&&"complete"==
b.readyState?v.call(w,d({type:z})):(p||(J=r[z])&&(A=function(b){var f,g;f=b.currentTarget;if((g=b.relatedTarget)&&f.contains)g=f.contains(g);else for(;g&&g!==f;)g=g.parentNode;g||(b=d(b||E.event),b.type="mouseout"===b.type?"mouseleave":"mouseenter",b.target=f,a(b,C))}),q||"focusin"!==z&&"focusout"!==z||(M=!0,J="focusin"===z?"focus":"blur",A=function(b){b=d(b||E.event);b.type="focus"===b.type?"focusin":"focusout";a(b,C)}),(k=f[C][z])?"ready"===z&&g.domLoaded?v({type:z}):k.push({func:v,scope:w}):(f[C][z]=
k=[{func:v,scope:w}],k.fakeName=J,k.capture=M,k.nativeHandler=A,"ready"===z?h(b,A,g):l(b,J||z,A,M)));b=k=0;return v}};g.unbind=function(a,b,e){var c,d,h,q,p,u;if(!a||3===a.nodeType||8===a.nodeType)return g;if(c=a[m]){u=f[c];if(b)for(b=b.split(" "),h=b.length;h--;){if(p=b[h],d=u[p]){if(e)for(q=d.length;q--;)if(d[q].func===e){var r=d.nativeHandler;d=d.slice(0,q).concat(d.slice(q+1));d.nativeHandler=r;u[p]=d}e&&0!==d.length||(delete u[p],k(a,d.fakeName||p,d.nativeHandler,d.capture))}}else{for(p in u)d=
u[p],k(a,d.fakeName||p,d.nativeHandler,d.capture);u={}}for(p in u)return g;delete f[c];try{delete a[m]}catch(l){a[m]=null}}return g};g.fire=function(b,f,c){if(!b||3===b.nodeType||8===b.nodeType)return g;c=d(null,c);c.type=f;c.target=b;do(f=b[m])&&a(c,f),b=b.parentNode||b.ownerDocument||b.defaultView||b.parentWindow;while(b&&!c.isPropagationStopped());return g};g.clean=function(a){var b,e,f=g.unbind;if(!a||3===a.nodeType||8===a.nodeType)return g;a[m]&&f(a);a.getElementsByTagName||(a=a.document);if(a&&
a.getElementsByTagName)for(f(a),e=a.getElementsByTagName("*"),b=e.length;b--;)a=e[b],a[m]&&f(a);return g};g.destroy=function(){f={}};g.cancel=function(a){a&&(a.preventDefault(),a.stopImmediatePropagation());return!1}}var b="mce-data-",c=/^(?:mouse|contextmenu)|click/,f={keyLocation:1,layerX:1,layerY:1,returnValue:1};a.Event=new a;a.Event.bind(window,"ready",function(){});return a});y("tinymce/dom/TreeWalker",[],function(){return function(l,k){function d(a,b,c,f){if(a){if(!f&&a[b])return a[b];if(a!=
k){if(b=a[c])return b;for(a=a.parentNode;a&&a!=k;a=a.parentNode)if(b=a[c])return b}}}var h=l;this.current=function(){return h};this.next=function(a){return h=d(h,"firstChild","nextSibling",a)};this.prev=function(a){return h=d(h,"lastChild","previousSibling",a)}}});y("tinymce/util/Tools",[],function(){function l(a){return null===a||a===P?"":(""+a).replace(b,"")}function k(a,b){return b?"array"==b&&c(a)?!0:typeof a==b:a!==P}function d(a,b,g){var c,d;if(!a)return 0;g=g||a;if(a.length!==P)for(c=0,d=a.length;c<
d;c++){if(!1===b.call(g,a[c],c,a))return 0}else for(c in a)if(a.hasOwnProperty(c)&&!1===b.call(g,a[c],c,a))return 0;return 1}function h(a,b){var g=[];d(a,function(a){g.push(b(a))});return g}function a(b,e,g,c){c=c||this;b&&(g&&(b=b[g]),d(b,function(b,f){if(!1===e.call(c,b,f,g))return!1;a(b,e,g,c)}))}var b=/^\s*|\s*$/g,c=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{trim:l,isArray:c,is:k,toArray:function(a){var b=[],g,c;g=0;for(c=a.length;g<c;g++)b[g]=
a[g];return b},makeMap:function(a,b,g){a=a||[];"string"==typeof a&&(a=a.split(b||","));g=g||{};for(b=a.length;b--;)g[a[b]]={};return g},each:d,map:h,grep:function(a,b){var g=[];d(a,function(a){b&&!b(a)||g.push(a)});return g},inArray:function(a,b){var g,c;if(a)for(g=0,c=a.length;g<c;g++)if(a[g]===b)return g;return-1},extend:function(a,b){var g,c,d,m=arguments,h;g=1;for(c=m.length;g<c;g++)for(d in b=m[g],b)b.hasOwnProperty(d)&&(h=b[d],h!==P&&(a[d]=h));return a},create:function(a,b,g){var c,d,m,h,p,
r=0;a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a);m=a[3].match(/(^|\.)(\w+)$/i)[2];d=this.createNS(a[3].replace(/\.\w+$/,""),g);if(!d[m])if("static"==a[2]){if(d[m]=b,this.onCreate)this.onCreate(a[2],a[3],d[m])}else b[m]||(b[m]=function(){},r=1),d[m]=b[m],this.extend(d[m].prototype,b),a[5]&&(c=this.resolve(a[5]).prototype,h=a[5].match(/\.(\w+)$/i)[1],p=d[m],d[m]=r?function(){return c[h].apply(this,arguments)}:function(){this.parent=c[h];return p.apply(this,arguments)},d[m].prototype[m]=d[m],this.each(c,
function(a,b){d[m].prototype[b]=c[b]}),this.each(b,function(a,b){c[b]?d[m].prototype[b]=function(){this.parent=c[b];return a.apply(this,arguments)}:b!=m&&(d[m].prototype[b]=a)})),this.each(b["static"],function(a,b){d[m][b]=a})},walk:a,createNS:function(a,b){var g,c;b=b||window;a=a.split(".");for(g=0;g<a.length;g++)c=a[g],b[c]||(b[c]={}),b=b[c];return b},resolve:function(a,b){var g,c;b=b||window;a=a.split(".");g=0;for(c=a.length;g<c&&(b=b[a[g]],b);g++);return b},explode:function(a,b){return!a||k(a,
"array")?a:h(a.split(b||","),l)}}});y("tinymce/dom/Range",["tinymce/util/Tools"],function(l){function k(d){function h(a,b){t(C,a,b)}function a(a,b){t(G,a,b)}function b(a){h(a.parentNode,E(a))}function c(b){a(b.parentNode,E(b)+1)}function f(){return u(w)}function e(a,b){var e;if(3==a.nodeType||0>b)return a;for(e=a.firstChild;e&&0<b;)--b,e=e.nextSibling;return e?e:a}function g(a,b,e,g){var c,m;if(a==e)return b==g?0:b<g?-1:1;for(c=e;c&&c.parentNode!=a;)c=c.parentNode;if(c){m=0;for(e=a.firstChild;e!=
c&&m<b;)m++,e=e.nextSibling;return b<=m?-1:1}for(c=a;c&&c.parentNode!=e;)c=c.parentNode;if(c){m=0;for(e=e.firstChild;e!=c&&m<g;)m++,e=e.nextSibling;return m<g?-1:1}for(b=d.findCommonAncestor(a,e);a&&a.parentNode!=b;)a=a.parentNode;a||(a=b);for(g=e;g&&g.parentNode!=b;)g=g.parentNode;g||(g=b);if(a==g)return 0;for(e=b.firstChild;e;){if(e==a)return-1;if(e==g)return 1;e=e.nextSibling}}function t(a,b,e){a?(n[z]=b,n[B]=e):(n[J]=b,n[A]=e);for(b=n[J];b.parentNode;)b=b.parentNode;for(e=n[z];e.parentNode;)e=
e.parentNode;e==b?0<g(n[z],n[B],n[J],n[A])&&n.collapse(a):n.collapse(a);n.collapsed=n[z]==n[J]&&n[B]==n[A];n.commonAncestorContainer=d.findCommonAncestor(n[z],n[J])}function u(a){var b,e=0,g=0,c;if(n[z]==n[J])return m(a);b=n[J];for(c=b.parentNode;c;b=c,c=c.parentNode){if(c==n[z]){var f=b;c=g=e=e=c=b=void 0;a!=F&&(b=v.createDocumentFragment());c=q(f,a);b&&b.appendChild(c);e=E(f);e-=n[B];if(!(0>=e))for(c=f.previousSibling;0<e;)g=c.previousSibling,c=s(c,a),b&&b.insertBefore(c,b.firstChild),--e,c=g;a!=
w&&(n.setEndBefore(f),n.collapse(G));a=b;return a}++e}b=n[z];for(c=b.parentNode;c;b=c,c=c.parentNode){if(c==n[J]){f=b;c=g=e=c=e=b=void 0;a!=F&&(b=v.createDocumentFragment());c=p(f,a);b&&b.appendChild(c);e=E(f);++e;e=n[A]-e;for(c=f.nextSibling;c&&0<e;)g=c.nextSibling,c=s(c,a),b&&b.appendChild(c),--e,c=g;a!=w&&(n.setStartAfter(f),n.collapse(C));return b}++g}g-=e;for(b=n[z];0<g;)b=b.parentNode,g--;for(e=n[J];0>g;)e=e.parentNode,g++;g=b.parentNode;for(c=e.parentNode;g!=c;g=g.parentNode,c=c.parentNode)b=
g,e=c;var d;a!=F&&(f=v.createDocumentFragment());d=p(b,a);f&&f.appendChild(d);g=E(b);c=E(e);++g;g=c-g;for(d=b.nextSibling;0<g;)c=d.nextSibling,d=s(d,a),f&&f.appendChild(d),d=c,--g;d=q(e,a);f&&f.appendChild(d);a!=w&&(n.setStartAfter(b),n.collapse(C));return f}function m(a){var b,c,g,m,f;a!=F&&(b=v.createDocumentFragment());if(n[B]==n[A])return b;if(3==n[z].nodeType){c=n[z].nodeValue;g=c.substring(n[B],n[A]);a!=w&&(c=n[z],m=n[B],f=n[A]-n[B],0===m&&f>=c.nodeValue.length-1?c.parentNode.removeChild(c):
c.deleteData(m,f),n.collapse(C));if(a==F)return;0<g.length&&b.appendChild(v.createTextNode(g));return b}c=e(n[z],n[B]);for(g=n[A]-n[B];c&&0<g;)m=c.nextSibling,c=s(c,a),b&&b.appendChild(c),--g,c=m;a!=w&&n.collapse(C);return b}function q(a,b){var c=e(n[J],n[A]-1),g,m,f,d=c!=n[J];if(c==a)return r(c,d,G,b);g=c.parentNode;for(m=r(g,G,G,b);g;){for(;c;)f=c.previousSibling,c=r(c,d,G,b),b!=F&&m.insertBefore(c,m.firstChild),d=C,c=f;if(g==a)return m;c=g.previousSibling;g=g.parentNode;f=r(g,G,G,b);b!=F&&f.appendChild(m);
m=f}}function p(a,b){var c=e(n[z],n[B]),g=c!=n[z],m,f,d;if(c==a)return r(c,g,C,b);m=c.parentNode;for(f=r(m,G,C,b);m;){for(;c;)d=c.nextSibling,c=r(c,g,C,b),b!=F&&f.appendChild(c),g=C,c=d;if(m==a)return f;c=m.nextSibling;m=m.parentNode;d=r(m,G,C,b);b!=F&&d.appendChild(f);f=d}}function r(a,b,c,e){var g;if(b)return s(a,e);if(3==a.nodeType){b=a.nodeValue;c?(g=n[B],c=b.substring(g),b=b.substring(0,g)):(g=n[A],c=b.substring(0,g),b=b.substring(g));e!=w&&(a.nodeValue=b);if(e==F)return;a=d.clone(a,G);a.nodeValue=
c;return a}if(e!=F)return d.clone(a,G)}function s(a,b){if(b!=F)return b==w?d.clone(a,C):a;a.parentNode.removeChild(a)}var n=this,v=d.doc,w=1,F=2,C=!0,G=!1,B="startOffset",z="startContainer",J="endContainer",A="endOffset",M=l.extend,E=d.nodeIndex;M(n,{startContainer:v,startOffset:0,endContainer:v,endOffset:0,collapsed:C,commonAncestorContainer:v,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:h,setEnd:a,setStartBefore:b,setStartAfter:function(a){h(a.parentNode,E(a)+1)},setEndBefore:function(b){a(b.parentNode,
E(b))},setEndAfter:c,collapse:function(a){a?(n[J]=n[z],n[A]=n[B]):(n[z]=n[J],n[B]=n[A]);n.collapsed=C},selectNode:function(a){b(a);c(a)},selectNodeContents:function(b){h(b,0);a(b,1===b.nodeType?b.childNodes.length:b.nodeValue.length)},compareBoundaryPoints:function(a,b){var c=n[z],e=n[B],m=n[J],f=n[A],d=b.startContainer,h=b.startOffset,F=b.endContainer,q=b.endOffset;if(0===a)return g(c,e,d,h);if(1===a)return g(m,f,d,h);if(2===a)return g(m,f,F,q);if(3===a)return g(c,e,F,q)},deleteContents:function(){u(F)},
extractContents:function(){return u(0)},cloneContents:f,insertNode:function(a){var b=this[z],c=this[B],e;3!==b.nodeType&&4!==b.nodeType||!b.nodeValue?(0<b.childNodes.length&&(e=b.childNodes[c]),e?b.insertBefore(a,e):3==b.nodeType?d.insertAfter(a,b):b.appendChild(a)):c?c>=b.nodeValue.length?d.insertAfter(a,b):(c=b.splitText(c),b.parentNode.insertBefore(a,c)):b.parentNode.insertBefore(a,b)},surroundContents:function(a){var b=n.extractContents();n.insertNode(a);a.appendChild(b);n.selectNode(a)},cloneRange:function(){return M(new k(d),
{startContainer:n[z],startOffset:n[B],endContainer:n[J],endOffset:n[A],collapsed:n.collapsed,commonAncestorContainer:n.commonAncestorContainer})},toStringIE:function(){return d.create("body",null,f()).outerText}});return n}k.prototype.toString=function(){return this.toStringIE()};return k});y("tinymce/html/Entities",["tinymce/util/Tools"],function(l){function k(b,c){var e,g,f,d={};if(b){b=b.split(",");c=c||10;for(e=0;e<b.length;e+=2)g=String.fromCharCode(parseInt(b[e],c)),a[g]||(f="&"+b[e+1]+";",
d[g]=f,d[f]=g);return d}}var d=l.makeMap,h,a,b,c=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,e=/[<>&\"\']/g,g=/&(#x|#)?([\w]+);/g,t={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",
154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};a={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"};b={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};h=k("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);var u={encodeRaw:function(b,e){return b.replace(e?c:f,function(b){return a[b]||b})},encodeAllRaw:function(b){return(""+b).replace(e,function(b){return a[b]||b})},encodeNumeric:function(b,e){return b.replace(e?c:f,function(b){return 1<b.length?"&#"+(1024*(b.charCodeAt(0)-55296)+(b.charCodeAt(1)-56320)+65536)+";":a[b]||"&#"+b.charCodeAt(0)+";"})},encodeNamed:function(b,e,g){g=g||h;return b.replace(e?c:f,function(b){return a[b]||g[b]||b})},getEncodeFunc:function(b,e){function g(b,m){return b.replace(m?
c:f,function(b){return a[b]||e[b]||"&#"+b.charCodeAt(0)+";"||b})}function t(a,b){return u.encodeNamed(a,b,e)}e=k(e)||h;b=d(b.replace(/\+/g,","));return b.named&&b.numeric?g:b.named?e?t:u.encodeNamed:b.numeric?u.encodeNumeric:u.encodeRaw},decode:function(a){return a.replace(g,function(a,e,c){if(e)return c=parseInt(c,2===e.length?16:10),65535<c?(c-=65536,String.fromCharCode(55296+(c>>10),56320+(c&1023))):t[c]||String.fromCharCode(c);(e=b[a])||(e=h[a])||(e=document.createElement("div"),e.innerHTML=a,
e=e.textContent||e.innerText||a);return e})}};return u});y("tinymce/Env",[],function(){var l=navigator,k=l.userAgent,d,h,a,b,c;d=window.opera&&window.opera.buildNumber;h=/WebKit/.test(k);a=(a=!h&&!d&&/MSIE/gi.test(k)&&/Explorer/gi.test(l.appName))&&/MSIE (\w+)\./.exec(k)[1];l=-1==k.indexOf("Trident/")||-1==k.indexOf("rv:")&&-1==l.appName.indexOf("Netscape")?!1:11;a=a||l;l=!h&&!l&&/Gecko/.test(k);b=-1!=k.indexOf("Mac");c=/(iPad|iPhone)/.test(k);k=!c||534<=k.match(/AppleWebKit\/(\d*)/)[1];return{opera:d,
webkit:h,ie:a,gecko:l,mac:b,iOS:c,contentEditable:k,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=a,range:window.getSelection&&"Range"in window,documentMode:a?document.documentMode||7:10}});y("tinymce/dom/StyleSheetLoader",[],function(){return function(l,k){function d(a){l.getElementsByTagName("head")[0].appendChild(a)}var h=0,a={},b;k=k||{};b=k.maxLoadTime||5E3;this.load=function(c,f,e){function g(){for(var a=v.passed,b=a.length;b--;)a[b]();
v.status=2;v.passed=[];v.failed=[]}function t(){for(var a=v.failed,b=a.length;b--;)a[b]();v.status=3;v.passed=[];v.failed=[]}function u(){var a=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(a&&536>a[1])}function m(a,e){a()||((new Date).getTime()-n<b?window.setTimeout(e,0):t())}function q(){m(function(){for(var a=l.styleSheets,b,e=a.length;e--;)if(b=a[e],(b=b.ownerNode?b.ownerNode:b.owningElement)&&b.id===r.id)return g(),!0},q)}function p(){m(function(){try{var a=s.sheet.cssRules;g();return!!a}catch(b){}},
p)}var r,s,n,v;a[c]?v=a[c]:(v={passed:[],failed:[]},a[c]=v);f&&v.passed.push(f);e&&v.failed.push(e);if(1!=v.status)if(2==v.status)g();else if(3==v.status)t();else{v.status=1;r=l.createElement("link");r.rel="stylesheet";r.type="text/css";r.id="u"+h++;r.async=!1;r.defer=!1;n=(new Date).getTime();if("onload"in r&&!u())r.onload=q,r.onerror=t;else{if(0<navigator.userAgent.indexOf("Firefox")){s=l.createElement("style");s.textContent='@import "'+c+'"';p();d(s);return}q()}d(r);r.href=c}}}});y("tinymce/dom/DOMUtils",
"tinymce/dom/Sizzle tinymce/html/Styles tinymce/dom/EventUtils tinymce/dom/TreeWalker tinymce/dom/Range tinymce/html/Entities tinymce/Env tinymce/util/Tools tinymce/dom/StyleSheetLoader".split(" "),function(l,k,d,h,a,b,c,f,e){function g(a,b){var c;this.doc=a;this.win=window;this.files={};this.counter=0;this.stdMode=!s||8<=a.documentMode;this.boxModel=!s||"CSS1Compat"==a.compatMode||this.stdMode;this.hasOuterHTML="outerHTML"in a.createElement("a");this.styleSheetLoader=new e(a);this.boundEvents=[];
this.settings=b=p({keep_values:!1,hex_colors:1},b);this.schema=b.schema;this.styles=new k({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema);this.fixDoc(a);this.events=b.ownEvents?new d(b.proxy):d.Event;c=b.schema?b.schema.getBlockElements():{};this.isBlock=function(a){if(!a)return!1;var b=a.nodeType;return b?!(1!==b||!c[a.nodeName]):!!c[a]}}var t=f.each,u=f.is,m=f.grep,q=f.trim,p=f.extend,r=c.webkit,s=c.ie,n=/^([a-z0-9],?)+$/i,v=/^[ \t\r\n]*$/,w=f.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom",
" ");g.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(a){var b=this.settings,e;if(s&&b.schema)for(e in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(b){a.createElement(b)}),b.schema.getCustomElements())a.createElement(e)},
clone:function(a,b){var e=this,c,g;if(!s||1!==a.nodeType||b)return a.cloneNode(b);g=e.doc;return b?c.firstChild:(c=g.createElement(a.nodeName),t(e.getAttribs(a),function(b){e.setAttrib(c,b.nodeName,e.getAttrib(a,b.nodeName))}),c)},getRoot:function(){return this.get(this.settings.root_element)||this.doc.body},getViewPort:function(a){var b;a=a?a:this.win;b=a.document;b=this.boxModel?b.documentElement:b.body;return{x:a.pageXOffset||b.scrollLeft,y:a.pageYOffset||b.scrollTop,w:a.innerWidth||b.clientWidth,
h:a.innerHeight||b.clientHeight}},getRect:function(a){var b;a=this.get(a);b=this.getPos(a);a=this.getSize(a);return{x:b.x,y:b.y,w:a.w,h:a.h}},getSize:function(a){var b,e;a=this.get(a);b=this.getStyle(a,"width");e=this.getStyle(a,"height");-1===b.indexOf("px")&&(b=0);-1===e.indexOf("px")&&(e=0);return{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(e,10)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,e){return this.getParents(a,b,e,!1)},getParents:function(a,b,e,c){var g=this,f,
m=[];a=g.get(a);c=c===P;e=e||("BODY"!=g.getRoot().nodeName?g.getRoot().parentNode:null);u(b,"string")&&(f=b,b="*"===b?function(a){return 1==a.nodeType}:function(a){return g.is(a,f)});for(;a&&a!=e&&a.nodeType&&9!==a.nodeType;){if(!b||b(a))if(c)m.push(a);else return a;a=a.parentNode}return c?m:null},get:function(a){var b;return a&&this.doc&&"string"==typeof a&&(b=a,(a=this.doc.getElementById(a))&&a.id!==b)?this.doc.getElementsByName(b)[1]:a},getNext:function(a,b){return this._findSib(a,b,"nextSibling")},
getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(a,b){return l(a,this.get(b)||this.get(this.settings.root_element)||this.doc,[])},is:function(a,b){var e;if(a.length===P){if("*"===b)return 1==a.nodeType;if(n.test(b)){b=b.toLowerCase().split(/,/);a=a.nodeName.toLowerCase();for(e=b.length-1;0<=e;e--)if(b[e]==a)return!0;return!1}}return a.nodeType&&1!=a.nodeType?!1:0<l.matches(b,a.nodeType?[a]:a).length},add:function(a,b,e,c,g){var f=this;return this.run(a,function(a){var m;
m=u(b,"string")?f.doc.createElement(b):b;f.setAttribs(m,e);c&&(c.nodeType?m.appendChild(c):f.setHTML(m,c));return g?m:a.appendChild(m)})},create:function(a,b,e){return this.add(this.doc.createElement(a),a,b,e,1)},createHTML:function(a,b,e){var c,g;c="<"+a;for(g in b)b.hasOwnProperty(g)&&null!==b[g]&&(c+=" "+g+'="'+this.encode(b[g])+'"');return"undefined"!=typeof e?c+">"+e+"</"+a+">":c+" />"},createFragment:function(a){var b;b=this.doc;var e;e=b.createElement("div");b=b.createDocumentFragment();a&&
(e.innerHTML=a);for(;a=e.firstChild;)b.appendChild(a);return b},remove:function(a,b){return this.run(a,function(a){var e,c=a.parentNode;if(!c)return null;if(b)for(;e=a.firstChild;)!s||3!==e.nodeType||e.nodeValue?c.insertBefore(e,a):a.removeChild(e);return c.removeChild(a)})},setStyle:function(a,b,e){return this.run(a,function(a){var c;if(b)if("string"===typeof b){c=a.style;b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});"number"!==typeof e||w[b]||(e+="px");"opacity"===b&&a.runtimeStyle&&
"undefined"===typeof a.runtimeStyle.opacity&&(c.filter=""===e?"":"alpha(opacity="+100*e+")");"float"==b&&(b="cssFloat"in a.style?"cssFloat":"styleFloat");try{c[b]=e}catch(g){}this.settings.update_styles&&a.removeAttribute("data-mce-style")}else for(c in b)this.setStyle(a,c,b[c])})},getStyle:function(a,b,e){if(a=this.get(a)){if(this.doc.defaultView&&e){b=b.replace(/[A-Z]/g,function(a){return"-"+a});try{return this.doc.defaultView.getComputedStyle(a,null).getPropertyValue(b)}catch(c){return null}}b=
b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});"float"==b&&(b=s?"styleFloat":"cssFloat");return a.currentStyle&&e?a.currentStyle[b]:a.style?a.style[b]:P}},setStyles:function(a,b){this.setStyle(a,b)},css:function(a,b,e){this.setStyle(a,b,e)},removeAllAttribs:function(a){return this.run(a,function(a){var b,e=a.attributes;for(b=e.length-1;0<=b;b--)a.removeAttributeNode(e.item(b))})},setAttrib:function(a,b,e){var c=this;if(a&&b)return this.run(a,function(a){var g=c.settings,f=a.getAttribute(b);
if(null!==e)switch(b){case "style":if(!u(e,"string")){t(e,function(b,e){c.setStyle(a,e,b)});return}g.keep_values&&(e?a.setAttribute("data-mce-style",e,2):a.removeAttribute("data-mce-style",2));a.style.cssText=e;break;case "class":a.className=e||"";break;case "src":case "href":g.keep_values&&(g.url_converter&&(e=g.url_converter.call(g.url_converter_scope||c,e,b,a)),c.setAttrib(a,"data-mce-"+b,e,2));break;case "shape":a.setAttribute("data-mce-style",e)}u(e)&&null!==e&&0!==e.length?a.setAttribute(b,
""+e,2):a.removeAttribute(b,2);if(f!=e&&g.onSetAttrib)g.onSetAttrib({attrElm:a,attrName:b,attrValue:e})})},setAttribs:function(a,b){var e=this;return this.run(a,function(a){t(b,function(b,c){e.setAttrib(a,c,b)})})},getAttrib:function(a,b,e){var c;a=this.get(a);if(!a||1!==a.nodeType)return void 0===e?!1:e;u(e)||(e="");if(/^(src|href|style|coords|shape)$/.test(b)&&(c=a.getAttribute("data-mce-"+b)))return c;s&&this.props[b]&&(c=(c=a[this.props[b]])&&c.nodeValue?c.nodeValue:c);c||(c=a.getAttribute(b,
2));if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(b))return!0===a[this.props[b]]&&""===c?b:c?b:"";if("FORM"===a.nodeName&&a.getAttributeNode(b))return a.getAttributeNode(b).nodeValue;"style"===b&&(c=c||a.style.cssText)&&(c=this.serializeStyle(this.parseStyle(c),a.nodeName),this.settings.keep_values&&a.setAttribute("data-mce-style",c));r&&"class"===b&&c&&(c=c.replace(/(apple|webkit)\-[a-z\-]+/gi,""));if(s)switch(b){case "rowspan":case "colspan":1===
c&&(c="");break;case "size":if("+0"===c||20===c||0===c)c="";break;case "width":case "height":case "vspace":case "checked":case "disabled":case "readonly":0===c&&(c="");break;case "hspace":-1===c&&(c="");break;case "maxlength":case "tabindex":if(32768===c||2147483647===c||"32768"===c)c="";break;case "multiple":case "compact":case "noshade":case "nowrap":return 65535===c?b:e;case "shape":c=c.toLowerCase();break;default:0===b.indexOf("on")&&c&&(c=(""+c).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,
"$1"))}return void 0!==c&&null!==c&&""!==c?""+c:e},getPos:function(a,b){var e=0,c=0,g;g=this.doc;a=this.get(a);b=b||g.body;if(a){if(b===g.body&&a.getBoundingClientRect)return c=a.getBoundingClientRect(),b=this.boxModel?g.documentElement:g.body,e=c.left+(g.documentElement.scrollLeft||g.body.scrollLeft)-b.clientLeft,c=c.top+(g.documentElement.scrollTop||g.body.scrollTop)-b.clientTop,{x:e,y:c};for(g=a;g&&g!=b&&g.nodeType;)e+=g.offsetLeft||0,c+=g.offsetTop||0,g=g.offsetParent;for(g=a.parentNode;g&&g!=
b&&g.nodeType;)e-=g.scrollLeft||0,c-=g.scrollTop||0,g=g.parentNode}return{x:e,y:c}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,b)},addStyle:function(a){var b=this.doc,e,c;if(this!==g.DOM&&b===document){e=(e=g.DOM.addedStyles)||[];if(e[a])return;e[a]=!0;g.DOM.addedStyles=e}c=b.getElementById("mceDefaultStyles");c||(c=b.createElement("style"),c.id="mceDefaultStyles",c.type="text/css",e=b.getElementsByTagName("head")[0],e.firstChild?
e.insertBefore(c,e.firstChild):e.appendChild(c));c.styleSheet?c.styleSheet.cssText+=a:c.appendChild(b.createTextNode(a))},loadCSS:function(a){var b=this,e=b.doc,c;b!==g.DOM&&e===document?g.DOM.loadCSS(a):(a||(a=""),c=e.getElementsByTagName("head")[0],t(a.split(","),function(a){var g;b.files[a]||(b.files[a]=!0,g=b.create("link",{rel:"stylesheet",href:a}),s&&e.documentMode&&e.recalc&&(g.onload=function(){e.recalc&&e.recalc();g.onload=null}),c.appendChild(g))}))},addClass:function(a,b){return this.run(a,
function(a){var e;if(!b)return 0;if(this.hasClass(a,b))return a.className;e=this.removeClass(a,b);return a.className=e=(""!==e?e+" ":"")+b})},removeClass:function(a,b){var e=this,c;return e.run(a,function(a){var g;return e.hasClass(a,b)?(c||(c=RegExp("(^|\\s+)"+b+"(\\s+|$)","g")),g=a.className.replace(c," "),g=q(" "!=g?g:""),a.className=g,g||(a.removeAttribute("class"),a.removeAttribute("className")),g):a.className})},hasClass:function(a,b){return(a=this.get(a))&&b?-1!==(" "+a.className+" ").indexOf(" "+
b+" "):!1},toggleClass:function(a,b,e){e=e===P?!this.hasClass(a,b):e;this.hasClass(a,b)!==e&&(e?this.addClass(a,b):this.removeClass(a,b))},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){a=this.get(a);return!a||"none"==a.style.display||"none"==this.getStyle(a,"display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,b){var e=this;return e.run(a,function(a){if(s){for(;a.firstChild;)a.removeChild(a.firstChild);
try{a.innerHTML="<br />"+b,a.removeChild(a.firstChild)}catch(c){var g=e.create("div");g.innerHTML="<br />"+b;t(m(g.childNodes),function(b,e){e&&a.canHaveHTML&&a.appendChild(b)})}}else a.innerHTML=b;return b})},getOuterHTML:function(a){var b;a=this.get(a);if(!a)return null;if(1===a.nodeType&&this.hasOuterHTML)return a.outerHTML;b=(a.ownerDocument||this.doc).createElement("body");b.appendChild(a.cloneNode(!0));return b.innerHTML},setOuterHTML:function(a,b,e){var c=this;return c.run(a,function(a){function g(){var f;
f=e.createElement("body");f.innerHTML=b;for(f=f.lastChild;f;)c.insertAfter(f.cloneNode(!0),a),f=f.previousSibling;c.remove(a)}if(1==a.nodeType)if(e=e||a.ownerDocument||c.doc,s)try{1==a.nodeType&&c.hasOuterHTML?a.outerHTML=b:g()}catch(f){g()}else g()})},decode:b.decode,encode:b.encodeAllRaw,insertAfter:function(a,b){b=this.get(b);return this.run(a,function(a){var e,c;e=b.parentNode;(c=b.nextSibling)?e.insertBefore(a,c):e.appendChild(a);return a})},replace:function(a,b,e){return this.run(b,function(b){u(b,
"array")&&(a=a.cloneNode(!0));e&&t(m(b.childNodes),function(b){a.appendChild(b)});return b.parentNode.replaceChild(a,b)})},rename:function(a,b){var e=this,c;a.nodeName!=b.toUpperCase()&&(c=e.create(b),t(e.getAttribs(a),function(b){e.setAttrib(c,b.nodeName,e.getAttrib(a,b.nodeName))}),e.replace(c,a,1));return c||a},findCommonAncestor:function(a,b){for(var e=a,c;e;){for(c=b;c&&e!=c;)c=c.parentNode;if(e==c)break;e=e.parentNode}return!e&&a.ownerDocument?a.ownerDocument.documentElement:e},toHex:function(a){return this.styles.toHex(f.trim(a))},
run:function(a,b,e){var c=this,g;"string"===typeof a&&(a=c.get(a));if(!a)return!1;e=e||this;return a.nodeType||!a.length&&0!==a.length?b.call(e,a):(g=[],t(a,function(a,f){a&&("string"==typeof a&&(a=c.get(a)),g.push(b.call(e,a,f)))}),g)},getAttribs:function(a){var b;a=this.get(a);if(!a)return[];if(s){b=[];if("OBJECT"==a.nodeName)return a.attributes;"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"});a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,
"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,nodeName:a})});return b}return a.attributes},isEmpty:function(a,b){var e,c,g,f,m=0;if(a=a.firstChild){g=new h(a,a.parentNode);b=b||this.schema?this.schema.getNonEmptyElements():null;do{c=a.nodeType;if(1===c){if(a.getAttribute("data-mce-bogus"))continue;f=a.nodeName.toLowerCase();if(b&&b[f]){if("br"===f){m++;continue}return!1}this.getAttribs(a);for(e=a.attributes.length;e--;)if(f=a.attributes[e].nodeName,"name"===f||"data-mce-bookmark"===f)return!1}if(8==
c||3===c&&!v.test(a.nodeValue))return!1}while(a=g.next())}return 1>=m},createRng:function(){var b=this.doc;return b.createRange?b.createRange():new a(this)},nodeIndex:function(a,b){var e=0,c,g;if(a)for(c=a.nodeType,a=a.previousSibling;a;a=a.previousSibling)if(g=a.nodeType,!b||3!=g||g!=c&&a.nodeValue.length)e++,c=g;return e},split:function(a,b,e){function c(a){var b,e=a.childNodes,f=a.nodeType;if(1!=f||"bookmark"!=a.getAttribute("data-mce-type")){for(b=e.length-1;0<=b;b--)c(e[b]);if(9!=f){if(3==f&&
0<a.nodeValue.length){b=q(a.nodeValue).length;if(!(e=!g.isBlock(a.parentNode))&&!(e=0<b)){if(b=0===b)b=a.nextSibling&&"SPAN"==a.nextSibling.nodeName,b=a.previousSibling&&"SPAN"==a.previousSibling.nodeName&&b;e=b}if(e)return}else if(1==f&&(e=a.childNodes,1==e.length&&e[0]&&1==e[0].nodeType&&"bookmark"==e[0].getAttribute("data-mce-type")&&a.parentNode.insertBefore(e[0],a),e.length||/^(br|hr|input|img)$/i.test(a.nodeName)))return;g.remove(a)}return a}}var g=this,f=g.createRng(),m,d;if(a&&b)return f.setStart(a.parentNode,
g.nodeIndex(a)),f.setEnd(b.parentNode,g.nodeIndex(b)),m=f.extractContents(),f=g.createRng(),f.setStart(b.parentNode,g.nodeIndex(b)+1),f.setEnd(a.parentNode,g.nodeIndex(a)+1),f=f.extractContents(),d=a.parentNode,d.insertBefore(c(m),a),e?d.replaceChild(e,b):d.insertBefore(b,a),d.insertBefore(c(f),a),g.remove(a),e||b},bind:function(a,b,e,c){if(f.isArray(a)){for(var g=a.length;g--;)a[g]=this.bind(a[g],b,e,c);return a}!this.settings.collect||a!==this.doc&&a!==this.win||this.boundEvents.push([a,b,e,c]);
return this.events.bind(a,b,e,c||this)},unbind:function(a,b,e){var c;if(f.isArray(a)){for(c=a.length;c--;)a[c]=this.unbind(a[c],b,e);return a}if(this.boundEvents&&(a===this.doc||a===this.win))for(c=this.boundEvents.length;c--;){var g=this.boundEvents[c];a!=g[0]||b&&b!=g[1]||e&&e!=g[2]||this.events.unbind(g[0],g[1],g[2])}return this.events.unbind(a,b,e)},fire:function(a,b,e){return this.events.fire(a,b,e)},getContentEditable:function(a){var b;return 1!=a.nodeType?null:(b=a.getAttribute("data-mce-contenteditable"))&&
"inherit"!==b?b:"inherit"!==a.contentEditable?a.contentEditable:null},destroy:function(){if(this.boundEvents){for(var a=this.boundEvents.length;a--;){var b=this.boundEvents[a];this.events.unbind(b[0],b[1],b[2])}this.boundEvents=null}l.setDocument&&l.setDocument();this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(a,b){for(;a;){if(b===a)return!0;a=a.parentNode}return!1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+
a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(a,b,e){var c=this,g=b;if(a)for("string"==typeof g&&(g=function(a){return c.is(a,b)}),a=a[e];a;a=a[e])if(g(a))return a;return null}};g.DOM=new g(document);return g});y("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(l,k){function d(){function c(a,b){function e(){c.remove(f);g&&(g.onreadystatechange=g.onload=g=null);b()}var c=h,g,f;f=c.uniqueId();g=document.createElement("script");g.id=f;g.type=
"text/javascript";g.src=a;"onreadystatechange"in g?g.onreadystatechange=function(){/loaded|complete/.test(g.readyState)&&e()}:g.onload=e;g.onerror=function(){"undefined"!==typeof console&&console.log&&console.log("Failed to load: "+a)};(document.getElementsByTagName("head")[0]||document.body).appendChild(g)}var f={},e=[],g={},d=[],u=0;this.isDone=function(a){return 2==f[a]};this.markDone=function(a){f[a]=2};this.add=this.load=function(a,b,c){void 0==f[a]&&(e.push(a),f[a]=0);b&&(g[a]||(g[a]=[]),g[a].push({func:b,
scope:c||this}))};this.loadQueue=function(a,b){this.loadScripts(e,a,b)};this.loadScripts=function(e,h,p){function r(b){a(g[b],function(a){a.func.call(a.scope)});g[b]=void 0}var s;d.push({func:h,scope:p||this});s=function(){var g=b(e);e.length=0;a(g,function(a){2==f[a]?r(a):1!=f[a]&&(f[a]=1,u++,c(a,function(){f[a]=2;u--;r(a);s()}))});u||(a(d,function(a){a.func.call(a.scope)}),d.length=0)};s()}}var h=l.DOM,a=k.each,b=k.grep;d.ScriptLoader=new d;return d});y("tinymce/AddOnManager",["tinymce/dom/ScriptLoader",
"tinymce/util/Tools"],function(l,k){function d(){this.items=[];this.urls={};this.lookup={}}var h=k.each;d.prototype={get:function(a){return this.lookup[a]?this.lookup[a].instance:P},dependencies:function(a){var b;this.lookup[a]&&(b=this.lookup[a].dependencies);return b||[]},requireLangPack:function(a,b){!d.language||!1===d.languageLoad||b&&!1===RegExp("([, ]|\\b)"+d.language+"([, ]|\\b)").test(b)||l.ScriptLoader.add(this.urls[a]+"/langs/"+d.language+".js")},add:function(a,b,c){this.items.push(b);
this.lookup[a]={instance:b,dependencies:c};return b},createUrl:function(a,b){return"object"===typeof b?b:{prefix:a.prefix,resource:b,suffix:a.suffix}},addComponents:function(a,b){var c=this.urls[a];h(b,function(a){l.ScriptLoader.add(c+"/"+a)})},load:function(a,b,c,f){function e(){var e=g.dependencies(a);h(e,function(a){a=g.createUrl(b,a);g.load(a.resource,a,P,P)});c&&(f?c.call(f):c.call(l))}var g=this,t=b;g.urls[a]||("object"===typeof b&&(t=b.prefix+b.resource+b.suffix),0!==t.indexOf("/")&&-1==t.indexOf("://")&&
(t=d.baseURL+"/"+t),g.urls[a]=t.substring(0,t.lastIndexOf("/")),g.lookup[a]?e():l.ScriptLoader.add(t,e,f))}};d.PluginManager=new d;d.ThemeManager=new d;return d});y("tinymce/html/Node",[],function(){function l(a,b,c){var f;f=c?"lastChild":"firstChild";c=c?"prev":"next";if(a[f])return a[f];if(a!==b){if(f=a[c])return f;for(a=a.parent;a&&a!==b;a=a.parent)if(f=a[c])return f}}function k(a,b){this.name=a;this.type=b;1===b&&(this.attributes=[],this.attributes.map={})}var d=/^[ \t\r\n]*$/,h={"#text":3,"#comment":8,
"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};k.prototype={replace:function(a){a.parent&&a.remove();this.insert(a,this);this.remove();return this},attr:function(a,b){var c,f;if("string"!==typeof a){for(f in a)this.attr(f,a[f]);return this}if(c=this.attributes){if(void 0!==b){if(null===b){if(a in c.map)for(delete c.map[a],f=c.length;f--;)if(c[f].name===a){c.splice(f,1);break}return this}if(a in c.map)for(f=c.length;f--;){if(c[f].name===a){c[f].value=b;break}}else c.push({name:a,value:b});
c.map[a]=b;return this}return c.map[a]}},clone:function(){var a=new k(this.name,this.type),b,c,f,e,g;if(f=this.attributes){g=[];g.map={};b=0;for(c=f.length;b<c;b++)e=f[b],"id"!==e.name&&(g[g.length]={name:e.name,value:e.value},g.map[e.name]=e.value);a.attributes=g}a.value=this.value;a.shortEnded=this.shortEnded;return a},wrap:function(a){this.parent.insert(a,this);a.append(this);return this},unwrap:function(){var a,b;for(a=this.firstChild;a;)b=a.next,this.insert(a,this,!0),a=b;this.remove()},remove:function(){var a=
this.parent,b=this.next,c=this.prev;if(a){if(a.firstChild===this){if(a.firstChild=b)b.prev=null}else c.next=b;if(a.lastChild===this){if(a.lastChild=c)c.next=null}else b.prev=c;this.parent=this.next=this.prev=null}return this},append:function(a){var b;a.parent&&a.remove();(b=this.lastChild)?(b.next=a,a.prev=b,this.lastChild=a):this.lastChild=this.firstChild=a;a.parent=this;return a},insert:function(a,b,c){var f;a.parent&&a.remove();f=b.parent||this;c?(b===f.firstChild?f.firstChild=a:b.prev.next=a,
a.prev=b.prev,a.next=b,b.prev=a):(b===f.lastChild?f.lastChild=a:b.next.prev=a,a.next=b.next,a.prev=b,b.next=a);a.parent=f;return a},getAll:function(a){var b,c=[];for(b=this.firstChild;b;b=l(b,this))b.name===a&&c.push(b);return c},empty:function(){var a,b,c;if(this.firstChild){a=[];for(c=this.firstChild;c;c=l(c,this))a.push(c);for(b=a.length;b--;)c=a[b],c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}this.firstChild=this.lastChild=null;return this},isEmpty:function(a){var b=this.firstChild,c,
f;if(b){do{if(1===b.type){if(b.attributes.map["data-mce-bogus"])continue;if(a[b.name])return!1;for(c=b.attributes.length;c--;)if(f=b.attributes[c].name,"name"===f||0===f.indexOf("data-mce-"))return!1}if(8===b.type||3===b.type&&!d.test(b.value))return!1}while(b=l(b,this))}return!0},walk:function(a){return l(this,null,a)}};k.create=function(a,b){var c,f;c=new k(a,h[a]||1);if(b)for(f in b)c.attr(f,b[f]);return c};return k});y("tinymce/html/Schema",["tinymce/util/Tools"],function(l){function k(a,b){return a?
a.split(b||" "):[]}function d(a,e){function c(a,b,e){function g(a){var b={},c,e;c=0;for(e=a.length;c<e;c++)b[a[c]]={};return b}var f,m;m=arguments;e=e||[];b=b||"";"string"===typeof e&&(e=k(e));for(f=3;f<m.length;f++)"string"===typeof m[f]&&(m[f]=k(m[f])),e.push.apply(e,m[f]);a=k(a);for(f=a.length;f--;)m=[].concat(p,k(b)),d[a[f]]={attributes:g(m),attributesOrder:m,children:g(e)}}function f(a,b){var c,e,g,m;a=k(a);c=a.length;for(b=k(b);c--;)for(e=d[a[c]],g=0,m=b.length;g<m;g++)e.attributes[b[g]]={},
e.attributesOrder.push(b[g])}var d={},p,r,s,n,v;if(h[a])return h[a];p=k("id accesskey class dir lang style tabindex title");eventAttributes=k("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting");
r=k("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul");s=k("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment");e.allow_events&&(p=p.concat(p,eventAttributes));"html4"!=a&&(p.push.apply(p,k("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),r.push.apply(r,k("article aside details dialog figure header footer hgroup section nav")),
s.push.apply(s,k("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen")));"html5-strict"!=a&&(p.push("xml:lang"),v=k("acronym applet basefont big font strike tt"),s.push.apply(s,v),b(v,function(a){c(a,"",s)}),v=k("center dir isindex noframes"),r.push.apply(r,v),n=[].concat(r,s),b(v,function(a){c(a,"",n)}));n=n||[].concat(r,s);c("html","manifest","head body");c("head","","base command link meta noscript script style title");c("title hr noscript br");c("base","href target");
c("link","href rel media hreflang type sizes hreflang");c("meta","name http-equiv content charset");c("style","media type scoped");c("script","src async defer type charset");c("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",n);c("address dt dd div caption","",n);c("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn",
"",s);c("blockquote","cite",n);c("ol","reversed start type","li");c("ul","","li");c("li","value",n);c("dl","","dt dd");c("a","href target rel media hreflang type",s);c("q","cite",s);c("ins del","cite datetime",n);c("img","src alt usemap ismap width height");c("iframe","src name width height",n);c("embed","src type width height");c("object","data type typemustmatch name usemap form width height",n,"param");c("param","name value");c("map","name",n,"area");c("area","alt coords shape href target rel media hreflang type");
c("table","border","caption colgroup thead tfoot tbody tr"+("html4"==a?" col":""));c("colgroup","span","col");c("col","span");c("tbody thead tfoot","","tr");c("tr","","td th");c("td","colspan rowspan headers",n);c("th","colspan rowspan headers scope abbr",n);c("form","accept-charset action autocomplete enctype method name novalidate target",n);c("fieldset","disabled form name",n,"legend");c("label","form for",s);c("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");
c("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==a?n:s);c("select","disabled form multiple name required size","option optgroup");c("optgroup","disabled label","option");c("option","disabled label selected value");c("textarea","cols dirname disabled form maxlength name readonly required rows wrap");c("menu","type label",n,"li");c("noscript","",n);"html4"!=a&&(c("wbr"),c("ruby","",s,"rt rp"),c("figcaption","",n),c("mark rt rp summary bdi",
"",s),c("canvas","width height",n),c("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height",n,"track source"),c("audio","src crossorigin preload autoplay mediagroup loop muted controls",n,"track source"),c("source","src type media"),c("track","kind src srclang label default"),c("datalist","",s,"option"),c("article section nav aside header footer","",n),c("hgroup","","h1 h2 h3 h4 h5 h6"),c("figure","",n,"figcaption"),c("time","datetime",s),c("dialog","open",n),
c("command","type label icon disabled checked radiogroup command"),c("output","for form name",s),c("progress","value max",s),c("meter","value min max low high optimum",s),c("details","open",n,"summary"),c("keygen","autofocus challenge disabled form keytype name"));"html5-strict"!=a&&(f("script","language xml:space"),f("style","xml:space"),f("object","declare classid codebase codetype archive standby align border hspace vspace"),f("param","valuetype type"),f("a","charset name rev shape coords"),f("br",
"clear"),f("applet","codebase archive code object alt name width height align hspace vspace"),f("img","name longdesc align border hspace vspace"),f("iframe","longdesc frameborder marginwidth marginheight scrolling align"),f("font basefont","size color face"),f("input","usemap align"),f("select","onchange"),f("textarea"),f("h1 h2 h3 h4 h5 h6 div p legend caption","align"),f("ul","type compact"),f("li","type"),f("ol dl menu dir","compact"),f("pre","width xml:space"),f("hr","align noshade size width"),
f("isindex","prompt"),f("table","summary width frame rules cellspacing cellpadding align bgcolor"),f("col","width align char charoff valign"),f("colgroup","width align char charoff valign"),f("thead","align char charoff valign"),f("tr","align char charoff valign bgcolor"),f("th","axis align char charoff valign nowrap bgcolor width height"),f("form","accept"),f("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),f("tfoot","align char charoff valign"),f("tbody","align char charoff valign"),
f("area","nohref"),f("body","background bgcolor text link vlink alink"));"html4"!=a&&(f("input button select textarea","autofocus"),f("input textarea","placeholder"),f("a","download"),f("link script img","crossorigin"),f("iframe","srcdoc sandbox seamless allowfullscreen"));b(k("a form meter progress dfn"),function(a){d[a]&&delete d[a].children[a]});delete d.caption.children.table;return h[a]=d}var h={},a=l.makeMap,b=l.each,c=l.extend,f=l.explode,e=l.inArray;return function(g){function t(b,e,f){var d=
g[b];d?d=a(d,",",a(d.toUpperCase()," ")):(d=h[b],d||(d=a(e," ",a(e.toUpperCase()," ")),d=c(d,f),h[b]=d));return d}function u(b){var c,g,f,d,m,h,q,n,p,t,w,u,r,l,F,z,C,A,B=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,G=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,da=/[*?+]/;if(b)for(b=k(b,","),s["@"]&&(z=s["@"].attributes,C=s["@"].attributesOrder),c=0,g=b.length;c<g;c++)if(m=B.exec(b[c])){l=m[1];p=m[2];F=m[3];n=m[5];u={};r=[];h={attributes:u,attributesOrder:r};"#"===l&&(h.paddEmpty=
!0);"-"===l&&(h.removeEmpty=!0);"!"===m[4]&&(h.removeEmptyAttrs=!0);if(z){for(A in z)u[A]=z[A];r.push.apply(r,C)}if(n)for(n=k(n,"|"),f=0,d=n.length;f<d;f++)if(m=G.exec(n[f]))q={},w=m[1],t=m[2].replace(/::/g,":"),l=m[3],m=m[4],"!"===w&&(h.attributesRequired=h.attributesRequired||[],h.attributesRequired.push(t),q.required=!0),"-"===w?(delete u[t],r.splice(e(r,t),1)):(l&&("="===l&&(h.attributesDefault=h.attributesDefault||[],h.attributesDefault.push({name:t,value:m}),q.defaultValue=m),":"===l&&(h.attributesForced=
h.attributesForced||[],h.attributesForced.push({name:t,value:m}),q.forcedValue=m),"<"===l&&(q.validValues=a(m,"?"))),da.test(t)?(h.attributePatterns=h.attributePatterns||[],q.pattern=RegExp("^"+t.replace(/([?+*])/g,".$1")+"$"),h.attributePatterns.push(q)):(u[t]||r.push(t),u[t]=q));z||"@"!=p||(z=u,C=r);F&&(h.outputName=p,s[F]=h);da.test(p)?(h.pattern=RegExp("^"+p.replace(/([?+*])/g,".$1")+"$"),v.push(h)):s[p]=h}}function m(a){s={};v=[];u(a);b(l,function(a,b){n[b]=a.children})}function q(a){var e=/^(~)?(.+)$/;
a&&b(k(a,","),function(a){a=e.exec(a);var g="~"===a[1],f=g?"span":"div",d=a[2];n[d]=n[f];E[d]=f;g||(J[d.toUpperCase()]={},J[d]={});s[d]||(a=s[f],a=c({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,s[d]=a);b(n,function(a){a[f]&&(a[d]=a[f])})})}function p(a){var c=/^([+\-]?)(\w+)\[([^\]]+)\]$/;a&&b(k(a,","),function(a){a=c.exec(a);var e,g;a&&(e=(g=a[1])?n[a[2]]:n[a[2]]={"#comment":{}},e=n[a[2]],b(k(a[3],"|"),function(a){"-"===g?delete e[a]:e[a]={}}))})}function r(a){var b=s[a],c;if(b)return b;
for(c=v.length;c--;)if(b=v[c],b.pattern.test(a))return b}var s={},n={},v=[],w,l,C,G,B,z,J,A,M,E={},K={};g=g||{};l=d(g.schema,g);!1===g.verify_html&&(g.valid_elements="*[*]");g.valid_styles&&(w={},b(g.valid_styles,function(a,b){w[b]=f(a)}));C=t("whitespace_elements","pre script noscript style textarea video audio iframe object");G=t("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");B=t("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");
z=t("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");A=t("non_empty_elements","td th iframe video audio object script",B);M=t("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");J=t("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",
M);b((g.special||"script noscript style textarea").split(" "),function(a){K[a]=RegExp("</"+a+"[^>]*>","gi")});g.valid_elements?m(g.valid_elements):(b(l,function(a,b){s[b]={attributes:a.attributes,attributesOrder:a.attributesOrder};n[b]=a.children}),"html5"!=g.schema&&b(k("strong/b em/i"),function(a){a=k(a,"/");s[a[1]].outputName=a[0]}),s.img.attributesDefault=[{name:"alt",value:""}],b(k("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){s[a]&&(s[a].removeEmpty=!0)}),
b(k("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(a){s[a].paddEmpty=!0}),b(k("span"),function(a){s[a].removeEmptyAttrs=!0}));q(g.custom_elements);p(g.valid_children);u(g.extended_valid_elements);p("+ol[ul|ol],+ul[ul|ol]");g.invalid_elements&&b(f(g.invalid_elements),function(a){s[a]&&delete s[a]});r("span")||u("span[!data-mce-type|*]");this.children=n;this.styles=w;this.getBoolAttrs=function(){return z};this.getBlockElements=function(){return J};this.getTextBlockElements=function(){return M};
this.getShortEndedElements=function(){return B};this.getSelfClosingElements=function(){return G};this.getNonEmptyElements=function(){return A};this.getWhiteSpaceElements=function(){return C};this.getSpecialElements=function(){return K};this.isValidChild=function(a,b){var c=n[a];return!(!c||!c[b])};this.isValid=function(a,b){var c,e;if(c=r(a))if(b){if(c.attributes[b])return!0;if(c=c.attributePatterns)for(e=c.length;e--;)if(c[e].pattern.test(a))return!0}else return!0;return!1};this.getElementRule=r;
this.getCustomElements=function(){return E};this.addValidElements=u;this.setValidElements=m;this.addCustomElements=q;this.addValidChildren=p;this.elements=s}});y("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(l,k,d){var h=d.each;return function(a,b){function c(){}var f=this;a=a||{};f.schema=b=b||new l;!1!==a.fix_self_closing&&(a.fix_self_closing=!0);h("comment cdata text start end pi doctype".split(" "),function(b){b&&(f[b]=a[b]||c)});f.parse=
function(c){function g(a){var b,c;for(b=s.length;b--&&s[b].name!==a;);if(0<=b){for(c=s.length-1;c>=b;c--)a=s[c],a.valid&&h.end(a.name);s.length=b}}function f(b,c,e,g,d){b=/[\s\u0000-\u001F]+/g;c=c.toLowerCase();e=c in z?c:S(e||g||d||"");if(J&&!C&&0!==c.indexOf("data-")){g=y[c];if(!g&&x){for(d=x.length;d--&&(g=x[d],!g.pattern.test(c)););-1===d&&(g=null)}if(!g||g.validValues&&!(e in g.validValues))return}if(U[c]&&!a.allow_script_urls){b=e.replace(b,"");try{if(b=decodeURIComponent(b),V.test(b))return}catch(m){if(b=
unescape(b),V.test(b))return}}n.map[c]=e;n.push({name:c,value:e})}var h=this,m,q=0,p,r,s=[],n,v,w,l,C,G,B,z,J,A,M,E,K,y,x,H,L,D,I,O,N,T=0,S=k.decode,R,U=d.makeMap("src,href"),V=/(java|vb)script:/i;I=RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g");O=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;
B=b.getShortEndedElements();D=a.self_closing_elements||b.getSelfClosingElements();z=b.getBoolAttrs();J=a.validate;G=a.remove_internals;R=a.fix_self_closing;for(N=b.getSpecialElements();m=I.exec(c);){q<m.index&&h.text(S(c.substr(q,m.index-q)));if(p=m[6])p=p.toLowerCase(),":"===p.charAt(0)&&(p=p.substr(1)),g(p);else if(p=m[7]){p=p.toLowerCase();":"===p.charAt(0)&&(p=p.substr(1));q=p in B;R&&D[p]&&0<s.length&&s[s.length-1].name===p&&g(p);if(!J||(A=b.getElementRule(p))){M=!0;J&&(y=A.attributes,x=A.attributePatterns);
(K=m[8])?((C=-1!==K.indexOf("data-mce-type"))&&G&&(M=!1),n=[],n.map={},K.replace(O,f)):(n=[],n.map={});if(J&&!C){r=A.attributesRequired;H=A.attributesDefault;L=A.attributesForced;(v=A.removeEmptyAttrs)&&!n.length&&(M=!1);if(L)for(v=L.length;v--;)E=L[v],l=E.name,E=E.value,"{$uid}"===E&&(E="mce_"+T++),n.map[l]=E,n.push({name:l,value:E});if(H)for(v=H.length;v--;)E=H[v],l=E.name,l in n.map||(E=E.value,"{$uid}"===E&&(E="mce_"+T++),n.map[l]=E,n.push({name:l,value:E}));if(r){for(v=r.length;v--&&!(r[v]in
n.map););-1===v&&(M=!1)}n.map["data-mce-bogus"]&&(M=!1)}M&&h.start(p,n,q)}else M=!1;if(r=N[p]){r.lastIndex=q=m.index+m[0].length;(m=r.exec(c))?(M&&(w=c.substr(q,m.index-q)),q=m.index+m[0].length):(w=c.substr(q),q=c.length);M&&(0<w.length&&h.text(w,!0),h.end(p));I.lastIndex=q;continue}q||(K&&K.indexOf("/")==K.length-1?M&&h.end(p):s.push({name:p,valid:M}))}else(p=m[1])?(">"===p.charAt(0)&&(p=" "+p),a.allow_conditional_comments||"[if"!==p.substr(0,3)||(p=" "+p),h.comment(p)):(p=m[2])?h.cdata(p):(p=m[3])?
h.doctype(p):(p=m[4])&&h.pi(p,m[5]);q=m.index+m[0].length}q<c.length&&h.text(S(c.substr(q)));for(v=s.length-1;0<=v;v--)p=s[v],p.valid&&h.end(p.name)}}});y("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(l,k,d,h){var a=h.makeMap,b=h.each,c=h.explode,f=h.extend;return function(e,g){function h(b){var c,e,f,d,m,q,p,t,r,k,M,E;k=a("tr,td,th,tbody,thead,tfoot,table");r=g.getNonEmptyElements();M=g.getTextBlockElements();for(c=0;c<
b.length;c++)if(e=b[c],e.parent&&!e.fixed)if(M[e.name]&&"li"==e.parent.name){for(f=e.next;f;){if(M[f.name])f.name="li",f.fixed=!0,e.parent.insert(f,e.parent);else break;f=f.next}e.unwrap(e)}else{d=[e];for(f=e.parent;f&&!g.isValidChild(f.name,e.name)&&!k[f.name];f=f.parent)d.push(f);if(f&&1<d.length){d.reverse();m=q=u.filterNode(d[0].clone());for(t=0;t<d.length-1;t++){g.isValidChild(q.name,d[t].name)?(p=u.filterNode(d[t].clone()),q.append(p)):p=q;for(q=d[t].firstChild;q&&q!=d[t+1];)E=q.next,p.append(q),
q=E;q=p}m.isEmpty(r)?f.insert(e,d[0],!0):(f.insert(m,d[0],!0),f.insert(e,m));f=d[0];(f.isEmpty(r)||f.firstChild===f.lastChild&&"br"===f.firstChild.name)&&f.empty().remove()}else e.parent&&("li"===e.name?(f=e.prev,!f||"ul"!==f.name&&"ul"!==f.name?(f=e.next,!f||"ul"!==f.name&&"ul"!==f.name?e.wrap(u.filterNode(new l("ul",1))):f.insert(e,f.firstChild,!0)):f.append(e)):g.isValidChild(e.parent.name,"div")&&g.isValidChild("div",e.name)?e.wrap(u.filterNode(new l("div",1))):"style"===e.name||"script"===e.name?
e.empty().remove():e.unwrap())}}var u=this,m={},q=[],p={},r={};e=e||{};e.validate="validate"in e?e.validate:!0;e.root_name=e.root_name||"body";u.schema=g=g||new k;u.filterNode=function(a){var b,c,e;c in m&&((e=p[c])?e.push(a):p[c]=[a]);for(b=q.length;b--;)c=q[b].name,c in a.attributes.map&&((e=r[c])?e.push(a):r[c]=[a]);return a};u.addNodeFilter=function(a,e){b(c(a),function(a){var b=m[a];b||(m[a]=b=[]);b.push(e)})};u.addAttributeFilter=function(a,e){b(c(a),function(a){var b;for(b=0;b<q.length;b++)if(q[b].name===
a){q[b].callbacks.push(e);return}q.push({name:a,callbacks:[e]})})};u.parse=function(b,c){function u(){function a(c){c&&((b=c.firstChild)&&3==b.type&&(b.value=b.value.replace(x,"")),(b=c.lastChild)&&3==b.type&&(b.value=b.value.replace(D,"")))}var b=G.firstChild,c,f;if(g.isValidChild(G.name,R.toLowerCase())){for(;b;)c=b.next,3==b.type||1==b.type&&"p"!==b.name&&!y[b.name]&&!b.attr("data-mce-type")?(f||(f=k(R,1),f.attr(e.forced_root_block_attrs),G.insert(f,b)),f.append(b)):(a(f),f=null),b=c;a(f)}}function k(a,
b){var c=new l(a,b),e;a in m&&((e=p[a])?e.push(c):p[a]=[c]);return c}function F(a){var b;for(a=a.prev;a&&3===a.type;)b=a.value.replace(D,""),0<b.length?(a.value=b,a=a.prev):(b=a.prev,a.remove(),a=b)}var C,G,B,z,J,A,M,E,K,y,x,H=[],L,D,I,O,N,T,S,R;c=c||{};p={};r={};y=f(a("script,style,head,html,body,title,meta,param"),g.getBlockElements());S=g.getNonEmptyElements();T=g.children;K=e.validate;R="forced_root_block"in c?c.forced_root_block:e.forced_root_block;N=g.getWhiteSpaceElements();x=/^[ \t\r\n]+/;
D=/[ \t\r\n]+$/;I=/[ \t\r\n]+/g;O=/^[ \t\r\n]+$/;C=new d({validate:K,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:function(a){var b,c={};for(b in a)"li"!==b&&"p"!=b&&(c[b]=a[b]);return c}(g.getSelfClosingElements()),cdata:function(a){B.append(k("#cdata",4)).value=a},text:function(a,b){var c;L||(a=a.replace(I," "),B.lastChild&&y[B.lastChild.name]&&(a=a.replace(x,"")));0!==a.length&&(c=k("#text",3),c.raw=!!b,B.append(c).value=a)},
comment:function(a){B.append(k("#comment",8)).value=a},pi:function(a,b){B.append(k(a,7)).value=b;F(B)},doctype:function(a){B.append(k("#doctype",10)).value=a;F(B)},start:function(a,b,c){var e,f,d;if(e=K?g.getElementRule(a):{}){e=k(e.outputName||a,1);e.attributes=b;e.shortEnded=c;B.append(e);(f=T[B.name])&&T[e.name]&&!f[e.name]&&H.push(e);for(f=q.length;f--;)d=q[f].name,d in b.map&&((E=r[d])?E.push(e):r[d]=[e]);y[a]&&F(e);c||(B=e);!L&&N[a]&&(L=!0)}},end:function(a){var b,c,e,f;if(c=K?g.getElementRule(a):
{}){if(y[a]&&!L){if((b=B.firstChild)&&3===b.type)if(e=b.value.replace(x,""),0<e.length)b.value=e;else for(f=b.next,b.remove(),b=f;b&&3===b.type;)e=b.value,f=b.next,(0===e.length||O.test(e))&&b.remove(),b=f;if((b=B.lastChild)&&3===b.type)if(e=b.value.replace(D,""),0<e.length)b.value=e;else for(f=b.prev,b.remove(),b=f;b&&3===b.type;)e=b.value,f=b.prev,(0===e.length||O.test(e))&&b.remove(),b=f}L&&N[a]&&(L=!1);if((c.removeEmpty||c.paddEmpty)&&B.isEmpty(S))if(c.paddEmpty)B.empty().append(new l("#text",
"3")).value="\u00a0";else if(!B.attributes.map.name&&!B.attributes.map.id){a=B.parent;B.empty().remove();B=a;return}B=B.parent}}},g);G=B=new l(c.context||e.root_name,11);C.parse(b);K&&H.length&&(c.context?c.invalid=!0:h(H));R&&("body"==G.name||c.isRootContent)&&u();if(!c.invalid){for(M in p){E=m[M];C=p[M];for(A=C.length;A--;)C[A].parent||C.splice(A,1);z=0;for(J=E.length;z<J;z++)E[z](C,M,c)}z=0;for(J=q.length;z<J;z++)if(E=q[z],E.name in r){C=r[E.name];for(A=C.length;A--;)C[A].parent||C.splice(A,1);
A=0;for(M=E.callbacks.length;A<M;A++)E.callbacks[A](C,E.name,c)}}return G};e.remove_trailing_brs&&u.addNodeFilter("br",function(a){var b,c=a.length,e,d=f({},g.getBlockElements()),m=g.getNonEmptyElements(),h,q,p;d.body=1;for(b=0;b<c;b++)if(e=a[b],h=e.parent,d[e.parent.name]&&e===h.lastChild){for(q=e.prev;q;){p=q.name;if("span"!==p||"bookmark"!==q.attr("data-mce-type")){if("br"!==p)break;if("br"===p){e=null;break}}q=q.prev}e&&(e.remove(),h.isEmpty(m)&&(e=g.getElementRule(h.name)))&&(e.removeEmpty?h.remove():
e.paddEmpty&&(h.empty().append(new l("#text",3)).value="\u00a0"))}else{for(q=e;h&&h.firstChild===q&&h.lastChild===q;){q=h;if(d[h.name])break;h=h.parent}q===h&&(h=new l("#text",3),h.value="\u00a0",e.replace(h))}});e.allow_html_in_named_anchor||u.addAttributeFilter("id,name",function(a){for(var b=a.length,c,e,g,f;b--;)if(f=a[b],"a"===f.name&&f.firstChild&&!f.attr("href")){g=f.parent;c=f.lastChild;do e=c.prev,g.insert(c,f),c=e;while(c)}})}});y("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],
function(l,k){var d=k.makeMap;return function(h){var a=[],b,c,f,e,g;h=h||{};b=h.indent;c=d(h.indent_before||"");f=d(h.indent_after||"");e=l.getEncodeFunc(h.entity_encoding||"raw",h.entities);g="html"==h.element_format;return{start:function(d,h,m){var q,p,r;b&&c[d]&&0<a.length&&(q=a[a.length-1],0<q.length&&"\n"!==q&&a.push("\n"));a.push("<",d);if(h)for(q=0,p=h.length;q<p;q++)r=h[q],a.push(" ",r.name,'="',e(r.value,!0),'"');a[a.length]=!m||g?">":" />";m&&b&&f[d]&&0<a.length&&(q=a[a.length-1],0<q.length&&
"\n"!==q&&a.push("\n"))},end:function(c){a.push("</",c,">");b&&f[c]&&0<a.length&&(c=a[a.length-1],0<c.length&&"\n"!==c&&a.push("\n"))},text:function(b,c){0<b.length&&(a[a.length]=c?b:e(b))},cdata:function(b){a.push("<![CDATA[",b,"]]\x3e")},comment:function(b){a.push("\x3c!--",b,"--\x3e")},pi:function(c,e){e?a.push("<?",c," ",e,"?>"):a.push("<?",c,"?>");b&&a.push("\n")},doctype:function(c){a.push("<!DOCTYPE",c,">",b?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,
"")}}}});y("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(l,k){return function(d,h){var a=new l(d);d=d||{};d.validate="validate"in d?d.validate:!0;this.schema=h=h||new k;this.writer=a;this.serialize=function(b){function c(b){var d=f[b.type],k,m,q,p,r,s,n,v;if(d)d(b);else{d=b.name;k=b.shortEnded;m=b.attributes;if(e&&m&&1<m.length){r=[];r.map={};v=h.getElementRule(b.name);s=0;for(n=v.attributesOrder.length;s<n;s++)q=v.attributesOrder[s],q in m.map&&(p=m.map[q],r.map[q]=
p,r.push({name:q,value:p}));s=0;for(n=m.length;s<n;s++)q=m[s].name,q in r.map||(p=m.map[q],r.map[q]=p,r.push({name:q,value:p}));m=r}a.start(b.name,m,k);if(!k){if(b=b.firstChild){do c(b);while(b=b.next)}a.end(d)}}}var f,e;e=d.validate;f={3:function(b){a.text(b.value,b.raw)},8:function(b){a.comment(b.value)},7:function(b){a.pi(b.name,b.value)},10:function(b){a.doctype(b.value)},4:function(b){a.cdata(b.value)},11:function(a){if(a=a.firstChild){do c(a);while(a=a.next)}}};a.reset();if(1!=b.type||d.inner)f[11](b);
else c(b);return a.getContent()}}});y("tinymce/dom/Serializer","tinymce/dom/DOMUtils tinymce/html/DomParser tinymce/html/Entities tinymce/html/Serializer tinymce/html/Node tinymce/html/Schema tinymce/Env tinymce/util/Tools".split(" "),function(l,k,d,h,a,b,c,f){var e=f.each,g=f.trim,t=l.DOM;return function(a,f){var q,p,r;f&&(q=f.dom,p=f.schema);q=q||t;p=p||new b(a);a.entity_encoding=a.entity_encoding||"named";a.remove_trailing_brs="remove_trailing_brs"in a?a.remove_trailing_brs:!0;r=new k(a,p);r.addAttributeFilter("src,href,style",
function(b,c){for(var e=b.length,g,f,d="data-mce-"+c,m=a.url_converter,h=a.url_converter_scope;e--;)g=b[e],f=g.attributes.map[d],void 0!==f?(g.attr(c,0<f.length?f:null),g.attr(d,null)):(f=g.attributes.map[c],"style"===c?f=q.serializeStyle(q.parseStyle(f),g.name):m&&(f=m.call(h,f,c,g.name)),g.attr(c,0<f.length?f:null))});r.addAttributeFilter("class",function(a){for(var b=a.length,c,e;b--;)c=a[b],e=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",0<e.length?e:null)});r.addAttributeFilter("data-mce-type",
function(a,b,c){b=a.length;for(var e;b--;)e=a[b],"bookmark"!==e.attributes.map["data-mce-type"]||c.cleanup||e.remove()});r.addAttributeFilter("data-mce-expando",function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)});r.addNodeFilter("noscript",function(a){for(var b=a.length,c;b--;)if(c=a[b].firstChild)c.value=d.decode(c.value)});r.addNodeFilter("script,style",function(a,b){function c(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi,
"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g,"")}for(var e=a.length,g,f;e--;)if(g=a[e],f=g.firstChild?g.firstChild.value:"","script"===b){var d=(g.attr("type")||"text/javascript").replace(/^mce\-/,"");g.attr("type","text/javascript"===d?null:d);0<f.length&&(g.firstChild.value="// <![CDATA[\n"+c(f)+"\n// ]]\x3e")}else 0<f.length&&(g.firstChild.value="\x3c!--\n"+c(f)+"\n--\x3e")});r.addNodeFilter("#comment",function(a){for(var b=
a.length,c;b--;)c=a[b],0===c.value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))});r.addNodeFilter("xml:namespace,input",function(a,b){for(var c=a.length,e;c--;)e=a[c],7===e.type?e.remove():1===e.type&&("input"!==b||"type"in e.attributes.map||e.attr("type","text"))});a.fix_list_elements&&r.addNodeFilter("ul,ol",function(a){for(var b=a.length,
c,e;b--;)c=a[b],e=c.parent,("ul"===e.name||"ol"===e.name)&&c.prev&&"li"===c.prev.name&&c.prev.append(c)});r.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)});return{schema:p,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:function(b,f){var d,m,t;c.ie&&0<q.select("script,style,select,map").length?(d=b.innerHTML,b=b.cloneNode(!1),q.setHTML(b,d)):b=b.cloneNode(!0);d=b.ownerDocument.implementation;
d.createHTMLDocument&&(m=d.createHTMLDocument(""),e("BODY"==b.nodeName?b.childNodes:[b],function(a){m.body.appendChild(m.importNode(a,!0))}),b="BODY"!=b.nodeName?m.body.firstChild:m.body,t=q.doc,q.doc=m);f=f||{};f.format=f.format||"html";f.selection&&(f.forced_root_block="");f.no_events||(f.node=b,this.onPreProcess(f));d=new h(a,p);f.content=d.serialize(r.parse(g(f.getInner?b.innerHTML:q.getOuterHTML(b)),f));f.cleanup||(f.content=f.content.replace(/\uFEFF/g,""));if(!f.no_events)this.onPostProcess(f);
t&&(q.doc=t);f.node=null;return f.content},addRules:function(a){p.addValidElements(a)},setRules:function(a){p.setValidElements(a)},onPreProcess:function(a){f&&f.fire("PreProcess",a)},onPostProcess:function(a){f&&f.fire("PostProcess",a)}}}});y("tinymce/dom/TridentSelection",[],function(){return function(l){function k(a,c){var f,e=0,g,d,h,m,q,p=-1,r;f=a.duplicate();f.collapse(c);r=f.parentElement();if(r.ownerDocument===l.dom.doc){for(;"false"===r.contentEditable;)r=r.parentNode;if(!r.hasChildNodes())return{node:r,
inside:1};h=r.children;for(g=h.length-1;e<=g;)if(q=Math.floor((e+g)/2),m=h[q],f.moveToElementText(m),p=f.compareEndPoints(c?"StartToStart":"EndToEnd",a),0<p)g=q-1;else if(0>p)e=q+1;else return{node:m};if(0>p)for(m?f.collapse(!1):(f.moveToElementText(r),f.collapse(!0),m=r,d=!0),e=0;0!==f.compareEndPoints(c?"StartToStart":"StartToEnd",a)&&0!==f.move("character",1)&&r==f.parentElement();)e++;else for(f.collapse(!0),e=0;0!==f.compareEndPoints(c?"StartToStart":"StartToEnd",a)&&0!==f.move("character",-1)&&
r==f.parentElement();)e++;return{node:m,position:p,offset:e,inside:d}}}var d=this,h=l.dom,a=!1;this.getBookmark=function(a){function c(a){var b,c,e,g,f=[];b=a.parentNode;for(c=h.getRoot().parentNode;b!=c&&9!==b.nodeType;){e=b.children;for(g=e.length;g--;)if(a===e[g]){f.push(g);break}a=b;b=b.parentNode}return f}function f(a){if(a=k(e,a))return{position:a.position,offset:a.offset,indexes:c(a.node),inside:a.inside}}var e=l.getRng(),g={};2===a&&(e.item?g.start={ctrl:!0,indexes:c(e.item(0))}:(g.start=
f(!0),l.isCollapsed()||(g.end=f())));return g};this.moveToBookmark=function(a){function c(a){var b,c,e,g;b=h.getRoot();for(c=a.length-1;0<=c;c--)g=b.children,e=a[c],e<=g.length-1&&(b=g[e]);return b}function f(f){var d=a[f?"start":"end"],h,q,p;d&&(h=0<d.position,q=g.createTextRange(),q.moveToElementText(c(d.indexes)),p=d.offset,void 0!==p?(q.collapse(d.inside||h),q.moveStart("character",h?-p:p)):q.collapse(f),e.setEndPoint(f?"StartToStart":"EndToStart",q),f&&e.collapse(!0))}var e,g=h.doc.body;a.start&&
(a.start.ctrl?(e=g.createControlRange(),e.addElement(c(a.start.indexes))):(e=g.createTextRange(),f(!0),f()),e.select())};this.addRange=function(b){function c(b){var c,e,n,s,r;n=h.create("a");c=b?g:k;e=b?d:m;s=f.duplicate();if(c==q||c==q.documentElement)c=p,e=0;3==c.nodeType?(c.parentNode.insertBefore(n,c),s.moveToElementText(n),s.moveStart("character",e),h.remove(n),f.setEndPoint(b?"StartToStart":"EndToEnd",s)):(r=c.childNodes,r.length?(e>=r.length?h.insertAfter(n,r[r.length-1]):c.insertBefore(n,
r[e]),s.moveToElementText(n)):c.canHaveHTML&&(c.innerHTML="<span>&#xFEFF;</span>",n=c.firstChild,s.moveToElementText(n),s.collapse(a)),f.setEndPoint(b?"StartToStart":"EndToEnd",s),h.remove(n))}var f,e,g,d,k,m,q=l.dom.doc,p=q.body,r,s;g=b.startContainer;d=b.startOffset;k=b.endContainer;m=b.endOffset;f=p.createTextRange();if(g==k&&1==g.nodeType){if(d==m&&!g.hasChildNodes()){if(g.canHaveHTML){(b=g.previousSibling)&&!b.hasChildNodes()&&h.isBlock(b)?b.innerHTML="&#xFEFF;":b=null;g.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";
f.moveToElementText(g.lastChild);f.select();h.doc.selection.clear();g.innerHTML="";b&&(b.innerHTML="");return}d=h.nodeIndex(g);g=g.parentNode}if(d==m-1)try{if(s=g.childNodes[d],e=p.createControlRange(),e.addElement(s),e.select(),r=l.getRng(),r.item&&s===r.item(0))return}catch(n){}}c(!0);c();f.select()};this.getRangeAt=function(){function a(b){var e=k(c,b),g,d,h=0,m;g=e.node;d=e.offset;if(e.inside&&!g.hasChildNodes())f[b?"setStart":"setEnd"](g,0);else if(void 0===d)f[b?"setStartBefore":"setEndAfter"](g);
else{if(0>e.position){e=e.inside?g.firstChild:g.nextSibling;if(!e){f[b?"setStartAfter":"setEndAfter"](g);return}if(!d){if(3==e.nodeType)f[b?"setStart":"setEnd"](e,0);else f[b?"setStartBefore":"setEndBefore"](e);return}for(;e;){m=e.nodeValue;h+=m.length;if(h>=d){g=e;h-=d;h=m.length-h;break}e=e.nextSibling}}else{e=g.previousSibling;if(!e)return f[b?"setStartBefore":"setEndBefore"](g);if(!d){if(3==g.nodeType)f[b?"setStart":"setEnd"](e,g.nodeValue.length);else f[b?"setStartAfter":"setEndAfter"](e);return}for(;e;){h+=
e.nodeValue.length;if(h>=d){g=e;h-=d;break}e=e.previousSibling}}f[b?"setStart":"setEnd"](g,h)}}var c=l.getRng(),f=h.createRng(),e,g,t,u;e=c.item?c.item(0):c.parentElement();if(e.ownerDocument!=h.doc)return f;g=l.isCollapsed();if(c.item)return f.setStart(e.parentNode,h.nodeIndex(e)),f.setEnd(f.startContainer,f.startOffset+1),f;try{a(!0),g||a()}catch(m){if(-2147024809==m.number)u=d.getBookmark(2),t=c.duplicate(),t.collapse(!0),e=t.parentElement(),g||(t=c.duplicate(),t.collapse(!1),t=t.parentElement(),
t.innerHTML=t.innerHTML),e.innerHTML=e.innerHTML,d.moveToBookmark(u),c=l.getRng(),a(!0),g||a();else throw m;}return f}}});y("tinymce/util/VK",["tinymce/Env"],function(l){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(k){return k.shiftKey||k.ctrlKey||k.altKey},metaKeyPressed:function(k){return(l.mac?k.metaKey:k.ctrlKey)&&!k.altKey}}});y("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/Env"],function(l,k,
d){return function(h,a){function b(b){var c=a.settings.object_resizing;if(!1===c||d.iOS)return!1;"string"!=typeof c&&(c="table,img,div");return"false"===b.getAttribute("data-mce-resize")?!1:a.dom.is(b,c)}function c(b){var c,e;c=b.screenX-z;e=b.screenY-J;H=c*G[2]+E;L=e*G[3]+K;H=5>H?5:H;L=5>L?5:L;if(l.modifierPressed(b)||"IMG"==w.nodeName&&0!==G[2]*G[3])H=Math.round(L/y),L=Math.round(H*y);n.setStyles(F,{width:H,height:L});0>G[2]&&F.clientWidth<=H&&n.setStyle(F,"left",A+(E-H));0>G[3]&&F.clientHeight<=
L&&n.setStyle(F,"top",M+(K-L));x||(a.fire("ObjectResizeStart",{target:w,width:E,height:K}),x=!0)}function f(){function b(c,e){e&&(w.style[c]||!a.schema.isValid(w.nodeName.toLowerCase(),c)?n.setStyle(w,c,e):n.setAttrib(w,c,e))}x=!1;b("width",H);b("height",L);n.unbind(D,"mousemove",c);n.unbind(D,"mouseup",f);I!=D&&(n.unbind(I,"mousemove",c),n.unbind(I,"mouseup",f));n.remove(F);O&&"TABLE"!=w.nodeName||e(w);a.fire("ObjectResized",{target:w,width:H,height:L});a.nodeChanged()}function e(e,h,m){var q,t,
s;q=a.getBody();q=n.getPos(e,q);A=q.x;M=q.y;q=e.getBoundingClientRect();t=q.width||q.right-q.left;s=q.height||q.bottom-q.top;w!=e&&(p(),w=e,H=L=0);q=a.fire("ObjectSelected",{target:e});b(e)&&!q.isDefaultPrevented()?v(C,function(b,e){function g(e){z=e.screenX;J=e.screenY;E=w.clientWidth;K=w.clientHeight;y=K/E;G=b;F=w.cloneNode(!0);n.addClass(F,"mce-clonedresizable");F.contentEditable=!1;F.unSelectabe=!0;n.setStyles(F,{left:A,top:M,margin:0});F.removeAttribute("data-mce-selected");a.getBody().appendChild(F);
n.bind(D,"mousemove",c);n.bind(D,"mouseup",f);I!=D&&(n.bind(I,"mousemove",c),n.bind(I,"mouseup",f))}var q;h?e==h&&g(m):((q=n.get("mceResizeHandle"+e))?n.show(q):(q=a.getBody(),q=n.add(q,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":!0,"class":"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),d.ie&&(q.contentEditable=!1),n.bind(q,"mousedown",function(a){a.stopImmediatePropagation();a.preventDefault();g(a)})),n.setStyles(q,{left:t*b[0]+A-q.offsetWidth/2,top:s*b[1]+
M-q.offsetHeight/2}))}):g();w.setAttribute("data-mce-selected","1")}function g(){var a,b;w&&w.removeAttribute("data-mce-selected");for(a in C)if(b=n.get("mceResizeHandle"+a))n.unbind(b),n.remove(b)}function t(b){function c(a,b){if(a){do if(a===b)return!0;while(a=a.parentNode)}}v(n.select("img[data-mce-selected],hr[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")});b="mousedown"==b.type?b.target:h.getNode();b=n.getParent(b,O?"table":"table,img,hr");if(c(b,a.getBody())&&(r(),
c(h.getStart(),b)&&c(h.getEnd(),b)&&(!O||b!=h.getStart()&&"IMG"!==h.getStart().nodeName))){e(b);return}g()}function u(a,b,c){a&&a.attachEvent&&a.attachEvent("on"+b,c)}function m(b){b=b.srcElement;var c,g,f,d,h,m;c=b.getBoundingClientRect();h=B.clientX-c.left;m=B.clientY-c.top;for(g in C)if(c=C[g],f=b.offsetWidth*c[0],d=b.offsetHeight*c[1],8>Math.abs(f-h)&&8>Math.abs(d-m)){G=c;break}x=!0;a.getDoc().selection.empty();e(b,g,B)}function q(a){var b=a.srcElement;if(b!=w)if(p(),0===b.id.indexOf("mceResizeHandle"))a.returnValue=
!1;else if("IMG"==b.nodeName||"TABLE"==b.nodeName)g(),w=b,u(b,"resizestart",m)}function p(){w&&w.detachEvent&&w.detachEvent("onresizestart",m)}function r(){try{a.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(b){}}function s(a){var b;if(O){b=D.body.createControlRange();try{return b.addElement(a),b.select(),!0}catch(c){}}}var n=a.dom,v=k.each,w,F,C,G,B,z,J,A,M,E,K,y,x,H,L,D=a.getDoc(),I=document,O=d.ie&&11>d.ie;C={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,
0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};a.contentStyles.push(".mce-content-body div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: "+(zenarioAB.isOpen?31E4:1E4)+"}.mce-content-body .mce-resizehandle:hover {background: #000}.mce-content-body img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}.mce-content-body .mce-clonedresizable {position: absolute;"+(d.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: "+
(zenarioAB.isOpen?31E4:1E4)+"}");a.on("init",function(){O?(a.on("ObjectResized",function(a){"TABLE"!=a.target.nodeName&&(g(),s(a.target))}),u(a.getBody(),"controlselect",q),a.on("mousedown",function(a){B=a})):(r(),11<=d.ie&&(a.on("mouseup",function(b){var c=b.target.nodeName;/^(TABLE|IMG|HR)$/.test(c)&&(a.selection.select(b.target,"TABLE"==c),a.nodeChanged())}),a.dom.bind(a.getBody(),"mscontrolselect",function(b){/^(TABLE|IMG|HR)$/.test(b.target.nodeName)&&(b.preventDefault(),"IMG"==b.target.tagName&&
window.setTimeout(function(){a.selection.select(b.target)},0))})));a.on("nodechange mousedown mouseup ResizeEditor",t);a.on("keydown keyup",function(a){w&&"TABLE"==w.nodeName&&t(a)})});return{isResizable:b,showResizeRect:e,hideResizeRect:g,updateResizeRect:t,controlSelect:s,destroy:function(){w=F=null;if(O){p();var b=a.getBody();b&&b.detachEvent&&b.detachEvent("oncontrolselect",q)}}}}});y("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker"],function(l,k){function d(a){this.walk=
function(b,c){function f(a){var b;b=a[0];3===b.nodeType&&b===k&&m>=b.nodeValue.length&&a.splice(0,1);b=a[a.length-1];0===p&&0<a.length&&b===q&&3===b.nodeType&&a.splice(a.length-1,1);return a}function e(a,b,c){for(var e=[];a&&a!=c;a=a[b])e.push(a);return e}function g(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function d(a,b,g){var h=g?"nextSibling":"previousSibling";n=a;for(l=n.parentNode;n&&n!=b;n=l)l=n.parentNode,w=e(n==a?n:n[h],h),w.length&&(g||w.reverse(),c(f(w)))}var k=b.startContainer,
m=b.startOffset,q=b.endContainer,p=b.endOffset,r,s,n,l,w;s=a.select("td.mce-item-selected,th.mce-item-selected");if(0<s.length)h(s,function(a){c([a])});else{1==k.nodeType&&k.hasChildNodes()&&(k=k.childNodes[m]);1==q.nodeType&&q.hasChildNodes()&&(q=q.childNodes[Math.min(p-1,q.childNodes.length-1)]);if(k==q)return c(f([k]));r=a.findCommonAncestor(k,q);for(n=k;n;n=n.parentNode){if(n===q)return d(k,r,!0);if(n===r)break}for(n=q;n;n=n.parentNode){if(n===k)return d(q,r);if(n===r)break}s=g(k,r)||k;r=g(q,
r)||q;d(k,s,!0);w=e(s==k?s:s.nextSibling,"nextSibling",r==q?r.nextSibling:r);w.length&&c(f(w));d(q,r)}};this.split=function(a){var c=a.startContainer,f=a.startOffset,e=a.endContainer;a=a.endOffset;c==e&&3==c.nodeType?0<f&&f<c.nodeValue.length&&(e=c.splitText(f),c=e.previousSibling,a>f?(c=e=e.splitText(a-f).previousSibling,a=e.nodeValue.length,f=0):a=0):(3==c.nodeType&&0<f&&f<c.nodeValue.length&&(c=c.splitText(f),f=0),3==e.nodeType&&0<a&&a<e.nodeValue.length&&(e=e.splitText(a).previousSibling,a=e.nodeValue.length));
return{startContainer:c,startOffset:f,endContainer:e,endOffset:a}};this.normalize=function(b){function c(c){function d(b,c){for(var e=new k(b,a.getParent(b.parentNode,a.isBlock)||r);b=e[c?"prev":"next"]();)if("BR"===b.nodeName)return!0}function h(b,c){var g,d;c=c||m;g=a.getParent(c.parentNode,a.isBlock)||r;if(b&&"BR"==c.nodeName&&w&&a.isEmpty(g))m=c.parentNode,q=a.nodeIndex(c),f=!0;else{for(g=new k(c,g);s=g[b?"prev":"next"]();){if(3===s.nodeType&&0<s.nodeValue.length){m=s;q=b?s.nodeValue.length:0;
f=!0;return}if(a.isBlock(s)||n[s.nodeName.toLowerCase()])return;d=s}e&&d&&(m=d,f=!0,q=0)}}var m,q,p,r=a.getRoot(),s,n,l,w;m=b[(c?"start":"end")+"Container"];q=b[(c?"start":"end")+"Offset"];w=1==m.nodeType&&q===m.childNodes.length;n=a.schema.getNonEmptyElements();l=c;1==m.nodeType&&q>m.childNodes.length-1&&(l=!1);9===m.nodeType&&(m=a.getRoot(),q=0);if(m===r){if(l&&(s=m.childNodes[0<q?q-1:0])&&(s.nodeName.toLowerCase(),n[s.nodeName]||"TABLE"==s.nodeName))return;if(m.hasChildNodes()&&(q=Math.min(!l&&
0<q?q-1:q,m.childNodes.length-1),m=m.childNodes[q],q=0,m.hasChildNodes()&&!/TABLE/.test(m.nodeName))){s=m;p=new k(m,r);do{if(3===s.nodeType&&0<s.nodeValue.length){q=l?0:s.nodeValue.length;m=s;f=!0;break}if(n[s.nodeName.toLowerCase()]){q=a.nodeIndex(s);m=s.parentNode;"IMG"!=s.nodeName||l||q++;f=!0;break}}while(s=l?p.next():p.prev())}}e&&(3===m.nodeType&&0===q&&h(!0),1===m.nodeType&&((s=m.childNodes[q])||(s=m.childNodes[q-1]),!s||"BR"!==s.nodeName||s.previousSibling&&"A"==s.previousSibling.nodeName||
d(s)||d(s,!0)||h(!0,s)));l&&!e&&3===m.nodeType&&q===m.nodeValue.length&&h(!1);if(f)b["set"+(c?"Start":"End")](m,q)}var f,e;e=b.collapsed;c(!0);e||c();f&&e&&b.collapse(!0);return f}}var h=l.each;d.compareRanges=function(a,b){if(a&&b)if(a.item||a.duplicate){if(a.item&&b.item&&a.item(0)===b.item(0)||a.isEqual&&b.isEqual&&b.isEqual(a))return!0}else return a.startContainer==b.startContainer&&a.startOffset==b.startOffset;return!1};return d});y("tinymce/dom/Selection","tinymce/dom/TreeWalker tinymce/dom/TridentSelection tinymce/dom/ControlSelection tinymce/dom/RangeUtils tinymce/Env tinymce/util/Tools".split(" "),
function(l,k,d,h,a,b){function c(a,b,c,e){this.dom=a;this.win=b;this.serializer=c;this.editor=e;this.controlSelection=new d(this,e);this.win.getSelection||(this.tridentSel=new k(this))}var f=b.each,e=b.grep,g=b.trim,t=a.ie,u=a.opera;c.prototype={setCursorLocation:function(a,b){var c=this.dom.createRng();a?(c.setStart(a,b),c.setEnd(a,b),this.setRng(c),this.collapse(!1)):(this._moveEndPoint(c,this.editor.getBody(),!0),this.setRng(c))},getContent:function(a){var b=this.getRng(),c=this.dom.create("body"),
e=this.getSel(),g,f;a=a||{};g=f="";a.get=!0;a.format=a.format||"html";a.selection=!0;this.editor.fire("BeforeGetContent",a);if("text"==a.format)return this.isCollapsed()?"":b.text||(e.toString?e.toString():"");b.cloneContents?(b=b.cloneContents())&&c.appendChild(b):b.item!==P||b.htmlText!==P?(c.innerHTML="<br>"+(b.item?b.item(0).outerHTML:b.htmlText),c.removeChild(c.firstChild)):c.innerHTML=b.toString();/^\s/.test(c.innerHTML)&&(g=" ");/\s+$/.test(c.innerHTML)&&(f=" ");a.getInner=!0;a.content=this.isCollapsed()?
"":g+this.serializer.serialize(c,a)+f;this.editor.fire("GetContent",a);return a.content},setContent:function(a,b){var c=this.getRng(),e,g=this.win.document,f;b=b||{format:"html"};b.set=!0;b.selection=!0;b.content=a;b.no_events||this.editor.fire("BeforeSetContent",b);a=b.content;if(c.insertNode){a+='<span id="__caret">_</span>';c.startContainer==g&&c.endContainer==g?g.body.innerHTML=a:(c.deleteContents(),0===g.body.childNodes.length?g.body.innerHTML=a:c.createContextualFragment?c.insertNode(c.createContextualFragment(a)):
(e=g.createDocumentFragment(),f=g.createElement("div"),e.appendChild(f),f.outerHTML=a,c.insertNode(e)));e=this.dom.get("__caret");c=g.createRange();c.setStartBefore(e);c.setEndBefore(e);this.setRng(c);this.dom.remove("__caret");try{this.setRng(c)}catch(d){}}else c.item&&(g.execCommand("Delete",!1,null),c=this.getRng()),/^\s+/.test(a)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+a),this.dom.remove("__mce_tmp")):c.pasteHTML(a);b.no_events||this.editor.fire("SetContent",b)},getStart:function(){var a=
this.getRng(),b,c;if(a.duplicate||a.item){if(a.item)return a.item(0);b=a.duplicate();b.collapse(1);b=b.parentElement();b.ownerDocument!==this.dom.doc&&(b=this.dom.getRoot());for(a=c=a.parentElement();c=c.parentNode;)if(c==b){b=a;break}return b}b=a.startContainer;1==b.nodeType&&b.hasChildNodes()&&(b=b.childNodes[Math.min(b.childNodes.length-1,a.startOffset)]);return b&&3==b.nodeType?b.parentNode:b},getEnd:function(){var a=this.getRng(),b;if(a.duplicate||a.item){if(a.item)return a.item(0);a=a.duplicate();
a.collapse(0);b=a.parentElement();b.ownerDocument!==this.dom.doc&&(b=this.dom.getRoot());return b&&"BODY"==b.nodeName?b.lastChild||b:b}b=a.endContainer;a=a.endOffset;1==b.nodeType&&b.hasChildNodes()&&(b=b.childNodes[0<a?a-1:a]);return b&&3==b.nodeType?b.parentNode:b},getBookmark:function(a,b){function c(a,b){var e=0;f(h.select(a),function(a,c){a==b&&(e=c)});return e}function e(a){function b(c){var e,g;g=c?"start":"end";e=a[g+"Container"];g=a[g+"Offset"];1==e.nodeType&&"TR"==e.nodeName&&(e=e.childNodes,
e=e[Math.min(c?g:g-1,e.length-1)])&&(g=c?0:e.childNodes.length,a["set"+(c?"Start":"End")](e,g))}b(!0);b();return a}function g(){function a(c,g){var f=c[g?"startContainer":"endContainer"],h=c[g?"startOffset":"endOffset"],m=[],p,t=0;if(3==f.nodeType){if(b)for(p=f.previousSibling;p&&3==p.nodeType;p=p.previousSibling)h+=p.nodeValue.length;m.push(h)}else p=f.childNodes,h>=p.length&&p.length&&(t=1,h=Math.max(0,p.length-1)),m.push(d.dom.nodeIndex(p[h],b)+t);for(;f&&f!=e;f=f.parentNode)m.push(d.dom.nodeIndex(f,
b));return m}var c=d.getRng(!0),e=h.getRoot(),f={};f.start=a(c,!0);d.isCollapsed()||(f.end=a(c));return f}var d=this,h=d.dom,t,k,l,u,B;if(2==a)return k=(B=d.getNode())?B.nodeName:null,"IMG"==k?{name:k,index:c(k,B)}:d.tridentSel?d.tridentSel.getBookmark(a):g();if(a)return{rng:d.getRng()};t=d.getRng();l=h.uniqueId();u=d.isCollapsed();if(t.duplicate||t.item){if(t.item)return B=t.item(0),k=B.nodeName,{name:k,index:c(k,B)};k=t.duplicate();try{t.collapse(),t.pasteHTML('<span data-mce-type="bookmark" id="'+
l+'_start" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'),u||(k.collapse(!1),t.moveToElementText(k.parentElement()),0===t.compareEndPoints("StartToEnd",k)&&k.move("character",-1),k.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_end" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'))}catch(z){return null}}else{B=d.getNode();k=B.nodeName;if("IMG"==k)return{name:k,index:c(k,B)};k=e(t.cloneRange());u||(k.collapse(!1),k.insertNode(h.create("span",{"data-mce-type":"bookmark",id:l+
"_end",style:"overflow:hidden;line-height:0px"},"&#xFEFF;")));t=e(t);t.collapse(!0);t.insertNode(h.create("span",{"data-mce-type":"bookmark",id:l+"_start",style:"overflow:hidden;line-height:0px"},"&#xFEFF;"))}d.moveToBookmark({id:l,keep:1});return{id:l}},moveToBookmark:function(a){function b(c){var e=a[c?"start":"end"],g,f,d;if(e){d=e[0];f=k;for(g=e.length-1;1<=g;g--){f=f.childNodes;if(e[g]>f.length-1)return;f=f[e[g]]}3===f.nodeType&&(d=Math.min(e[0],f.nodeValue.length));1===f.nodeType&&(d=Math.min(e[0],
f.childNodes.length));c?h.setStart(f,d):h.setEnd(f,d)}return!0}function c(b){var g=d.get(a.id+"_"+b),h,q,p;p=a.keep;if(g&&(h=g.parentNode,"start"==b?(p?(h=g.firstChild,q=1):q=d.nodeIndex(g),l=F=h,C=G=q):(p?(h=g.firstChild,q=1):q=d.nodeIndex(g),F=h,G=q),!p)){p=g.previousSibling;h=g.nextSibling;for(f(e(g.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});g=d.get(a.id+"_"+b);)d.remove(g,1);p&&h&&p.nodeType==h.nodeType&&3==p.nodeType&&!u&&(q=p.nodeValue.length,p.appendData(h.nodeValue),
d.remove(h),"start"==b?(l=F=p,C=G=q):(F=p,G=q))}}function g(a){!d.isBlock(a)||a.innerHTML||t||(a.innerHTML='<br data-mce-bogus="1" />');return a}var d=this.dom,h,k,l,F,C,G;if(a)if(a.start){h=d.createRng();k=d.getRoot();if(this.tridentSel)return this.tridentSel.moveToBookmark(a);b(!0)&&b()&&this.setRng(h)}else a.id?(c("start"),c("end"),l&&(h=d.createRng(),h.setStart(g(l),C),h.setEnd(g(F),G),this.setRng(h))):a.name?this.select(d.select(a.name)[a.index]):a.rng&&this.setRng(a.rng)},select:function(a,
b){var c=this.dom,e=c.createRng();this.lastFocusBookmark=null;if(a){if(!b&&this.controlSelection.controlSelect(a))return;c=c.nodeIndex(a);e.setStart(a.parentNode,c);e.setEnd(a.parentNode,c+1);b&&(this._moveEndPoint(e,a,!0),this._moveEndPoint(e,a));this.setRng(e)}return a},isCollapsed:function(){var a=this.getRng(),b=this.getSel();return!a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!b||a.collapsed},collapse:function(a){var b=this.getRng(),c;b.item&&(c=b.item(0),b=this.win.document.body.createTextRange(),
b.moveToElementText(c));b.collapse(!!a);this.setRng(b)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(a){function b(a,c,e){try{return c.compareBoundaryPoints(a,e)}catch(g){return-1}}var c,e,g=this.win.document,f;if(!a&&this.lastFocusBookmark)return a=this.lastFocusBookmark,a.startContainer?(e=g.createRange(),e.setStart(a.startContainer,a.startOffset),e.setEnd(a.endContainer,a.endOffset)):e=a,e;if(a&&this.tridentSel)return this.tridentSel.getRangeAt(0);
try{if(c=this.getSel())e=0<c.rangeCount?c.getRangeAt(0):c.createRange?c.createRange():g.createRange()}catch(d){}if(t&&e&&e.setStart&&g.selection){try{f=g.selection.createRange()}catch(h){}f&&f.item&&(a=f.item(0),e=g.createRange(),e.setStartBefore(a),e.setEndAfter(a))}e||(e=g.createRange?g.createRange():g.body.createTextRange());e.setStart&&9===e.startContainer.nodeType&&e.collapsed&&(a=this.dom.getRoot(),e.setStart(a,0),e.setEnd(a,0));this.selectedRange&&this.explicitRange&&(0===b(e.START_TO_START,
e,this.selectedRange)&&0===b(e.END_TO_END,e,this.selectedRange)?e=this.explicitRange:this.explicitRange=this.selectedRange=null);return e},setRng:function(a,b){var c;if(a.select)try{a.select()}catch(e){}else if(!this.tridentSel){if(c=this.getSel()){this.explicitRange=a;try{c.removeAllRanges(),c.addRange(a)}catch(g){}!1===b&&c.extend&&(c.collapse(a.endContainer,a.endOffset),c.extend(a.startContainer,a.startOffset));this.selectedRange=0<c.rangeCount?c.getRangeAt(0):null}}else if(a.cloneRange)try{this.tridentSel.addRange(a)}catch(f){}},
setNode:function(a){this.setContent(this.dom.getOuterHTML(a));return a},getNode:function(){function a(b,c){for(var e=b;b&&3===b.nodeType&&0===b.length;)b=c?b.nextSibling:b.previousSibling;return b||e}var b=this.getRng(),c,e=b.startContainer,g=b.endContainer,f=b.startOffset,d=b.endOffset,h=this.dom.getRoot();if(!b)return h;if(b.setStart)return c=b.commonAncestorContainer,!b.collapsed&&(e==g&&2>d-f&&e.hasChildNodes()&&(c=e.childNodes[f]),3===e.nodeType&&3===g.nodeType&&(e=e.length===f?a(e.nextSibling,
!0):e.parentNode,g=0===d?a(g.previousSibling,!1):g.parentNode,e&&e===g))?e:c&&3==c.nodeType?c.parentNode:c;c=b.item?b.item(0):b.parentElement();c.ownerDocument!==this.win.document&&(c=h);return c},getSelectedBlocks:function(a,b){var c=this.dom,e,g,f=[];g=c.getRoot();a=c.getParent(a||this.getStart(),c.isBlock);b=c.getParent(b||this.getEnd(),c.isBlock);a&&a!=g&&f.push(a);if(a&&b&&a!=b){e=a;for(var d=new l(a,g);(e=d.next())&&e!=b;)c.isBlock(e)&&f.push(e)}b&&a!=b&&b!=g&&f.push(b);return f},isForward:function(){var a=
this.dom,b=this.getSel(),c;if(!b||!b.anchorNode||!b.focusNode)return!0;c=a.createRng();c.setStart(b.anchorNode,b.anchorOffset);c.collapse(!0);a=a.createRng();a.setStart(b.focusNode,b.focusOffset);a.collapse(!0);return 0>=c.compareBoundaryPoints(c.START_TO_START,a)},normalize:function(){var a=this.getRng();!t&&(new h(this.dom)).normalize(a)&&this.setRng(a,this.isForward());return a},selectorChanged:function(a,b){var c=this,e;c.selectorChangedData||(c.selectorChangedData={},e={},c.editor.on("NodeChange",
function(a){var b=a.element,g=c.dom,d=g.getParents(b,null,g.getRoot()),h={};f(c.selectorChangedData,function(a,b){f(d,function(c){if(g.is(c,b))return e[b]||(f(a,function(a){a(!0,{node:c,selector:b,parents:d})}),e[b]=a),h[b]=a,!1})});f(e,function(a,c){h[c]||(delete e[c],f(a,function(a){a(!1,{node:b,selector:c,parents:d})}))})}));c.selectorChangedData[a]||(c.selectorChangedData[a]=[]);c.selectorChangedData[a].push(b);return c},getScrollContainer:function(){for(var a,b=this.dom.getRoot();b&&"BODY"!=
b.nodeName;){if(b.scrollHeight>b.clientHeight){a=b;break}b=b.parentNode}return a},scrollIntoView:function(a){function b(a){for(var c=0,e=0;a&&a.nodeType;)c+=a.offsetLeft||0,e+=a.offsetTop||0,a=a.offsetParent;return{x:c,y:e}}var c,e=this.dom,g;if("BODY"!=e.getRoot().nodeName&&(c=this.getScrollContainer())){a=b(a).y-b(c).y;g=c.clientHeight;e=c.scrollTop;if(a<e||a+25>e+g)c.scrollTop=a<e?a:a-g+25;return}c=e.getViewPort(this.editor.getWin());a=e.getPos(a).y;e=c.y;g=c.h;(a<c.y||a+25>e+g)&&this.editor.getWin().scrollTo(0,
a<e?a:a-g+25)},_moveEndPoint:function(b,c,e){var f=c,d=new l(c,f),h=this.dom.schema.getNonEmptyElements();do{if(3==c.nodeType&&0!==g(c.nodeValue).length){e?b.setStart(c,0):b.setEnd(c,c.nodeValue.length);return}if(h[c.nodeName]){e?b.setStartBefore(c):"BR"==c.nodeName?b.setEndBefore(c):b.setEndAfter(c);return}if(a.ie&&11>a.ie&&this.dom.isBlock(c)&&this.dom.isEmpty(c)){e?b.setStart(c,0):b.setEnd(c,0);return}}while(c=e?d.next():d.prev());"BODY"==f.nodeName&&(e?b.setStart(f,0):b.setEnd(f,f.childNodes.length))},
destroy:function(){this.win=null;this.controlSelection.destroy()}};return c});y("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/util/Tools"],function(l,k,d){return function(h){function a(a){a.nodeType&&(a=a.nodeName);return!!h.schema.getTextBlockElements()[a.toLowerCase()]}function b(a,b){return x.getParents(a,b,x.getRoot())}function c(a){return 1===a.nodeType&&"_mce_caret"===a.id}function f(a){return a?W[a]:W}function e(a,b){a&&("string"!==typeof a?Q(a,function(a,
b){e(b,a)}):(b=b.length?b:[b],Q(b,function(a){a.deep===X&&(a.deep=!a.selector);a.split===X&&(a.split=!a.selector||a.inline);a.remove===X&&a.selector&&!a.inline&&(a.remove="none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);"string"===typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),W[a]=b))}function g(a){var b;h.dom.getParent(a,function(a){return(b=h.dom.getStyle(a,"text-decoration"))&&"none"!==b});return b}function t(a){var b;1===a.nodeType&&a.parentNode&&1===a.parentNode.nodeType&&
(b=g(a.parentNode),h.dom.getStyle(a,"color")&&b?h.dom.setStyle(a,"text-decoration",b):h.dom.getStyle(a,"textdecoration")===b&&h.dom.setStyle(a,"text-decoration",null))}function u(b,e,g){function d(a,b){b=b||N;if(a){if(b.onformat)b.onformat(a,b,e,g);Q(b.styles,function(b,c){x.setStyle(a,c,v(b,e))});Q(b.attributes,function(b,c){x.setAttrib(a,c,v(b,e))});Q(b.classes,function(b){b=v(b,e);x.hasClass(a,b)||x.addClass(a,b)})}}function m(){var a=h.selection.getRng(),b=a.startContainer,c=a.endContainer;if(b!=
c&&0===a.endOffset){a:{c=new l(c);for(g=c.current();g;g=c.prev())if(1<g.childNodes.length||g==b||"BR"==g.tagName){b=g;break a}b=void 0}a.setEnd(b,3==b.nodeType?b.length:b.childNodes.length)}return a}function k(a,b,c,e,g){var f=[],d=-1,h,m=-1,t=-1,q;Q(a.childNodes,function(a,b){if("UL"===a.nodeName||"OL"===a.nodeName)return d=b,h=a,!1});Q(a.childNodes,function(a,c){"SPAN"===a.nodeName&&"bookmark"==x.getAttrib(a,"data-mce-type")&&(a.id==b.id+"_start"?m=c:a.id==b.id+"_end"&&(t=c))});if(0>=d||m<d&&t>
d)return Q(Y(a.childNodes),g),0;q=x.clone(c,R);Q(Y(a.childNodes),function(a,b){if(m<d&&b<d||m>d&&b>d)f.push(a),a.parentNode.removeChild(a)});m<d?a.insertBefore(q,h):m>d&&a.insertBefore(q,h.nextSibling);e.push(q);Q(f,function(a){q.appendChild(a)});return q}function p(g,f,h){var m=[],t,l,u=!0;t=N.inline||N.block;l=x.create(t);d(l);L.walk(g,function(g){function p(g){var v,w,V,O,z;z=u;v=g.nodeName.toLowerCase();w=g.parentNode.nodeName.toLowerCase();1===g.nodeType&&Z(g)&&(z=u,u="true"===Z(g),O=!0);if(s(v,
"br"))r=0,N.block&&x.remove(g);else if(N.wrapper&&q(g,b,e))r=0;else if(u&&!O&&N.block&&!N.wrapper&&a(v)&&D(w,t))g=x.rename(g,t),d(g),m.push(g),r=0;else{if(N.selector&&(Q(n,function(a){"collapsed"in a&&a.collapsed!==T||!x.is(g,a.selector)||c(g)||(d(g,a),V=!0)}),!N.inline||V)){r=0;return}!u||O||!D(t,v)||!D(w,t)||!h&&3===g.nodeType&&1===g.nodeValue.length&&65279===g.nodeValue.charCodeAt(0)||c(g)||N.inline&&I(g)?"li"==v&&f?r=k(g,f,l,m,p):(r=0,Q(Y(g.childNodes),p),O&&(u=z),r=0):(r||(r=x.clone(l,R),g.parentNode.insertBefore(r,
g),m.push(r)),r.appendChild(g))}}var r;Q(g,p)});!1===N.wrap_links&&Q(m,function(a){function b(a){var c,e,g;if("A"===a.nodeName){e=x.clone(l,R);m.push(e);g=Y(a.childNodes);for(c=0;c<g.length;c++)e.appendChild(g[c]);a.appendChild(e)}Q(Y(a.childNodes),b)}b(a)});Q(m,function(a){function g(a){var b,e;Q(a.childNodes,function(a){if(1==a.nodeType&&!J(a)&&!c(a))return b=a,R});b&&!J(b)&&r(b,N)&&(e=x.clone(b,R),d(e),x.replace(e,a,U),x.remove(b,1));return e||a}var f;f=function(a){var b=0;Q(a.childNodes,function(a){w(a)||
J(a)||b++});return b}(a);if((1<m.length||!I(a))&&0===f)x.remove(a,1);else if(N.inline||N.wrapper){N.exact||1!==f||(a=g(a));Q(n,function(b){Q(x.select(b.inline,a),function(a){var c;if(!J(a)){if(!1===b.wrap_links){c=a.parentNode;do if("A"===c.nodeName)return;while(c=c.parentNode)}G(b,e,a,b.exact?a:null)}})});if(q(a.parentNode,b,e))return x.remove(a,1),a=0,U;N.merge_with_parents&&x.getParent(a.parentNode,function(c){if(q(c,b,e))return x.remove(a,1),a=0,U});a&&!1!==N.merge_siblings&&(a=A(z(a),a),a=A(a,
z(a,U)))}})}var n=f(b),N=n[0],V,T=!g&&H.isCollapsed();if(N)if(g)g.nodeType?(V=x.createRng(),V.setStartBefore(g),V.setEndAfter(g),p(C(V,n),null,!0)):p(g,null,!0);else if(T&&N.inline&&!x.select("td.mce-item-selected,th.mce-item-selected").length)E("apply",b,e);else{var X=h.selection.getNode();O||!n[0].defaultBlock||x.getParent(X,x.isBlock)||u(n[0].defaultBlock);h.selection.setRng(m());V=H.getBookmark();p(C(H.getRng(U),n),V);N.styles&&(N.styles.color||N.styles.textDecoration)&&(P(X,t,"childNodes"),t(X));
H.moveToBookmark(V);K(H.getRng(U));h.nodeChanged()}}function m(a,c,e){function d(a){var b,e,g,f,h;1===a.nodeType&&Z(a)&&(f=r,r="true"===Z(a),h=!0);b=Y(a.childNodes);if(r&&!h)for(e=0,g=s.length;e<g&&!G(s[e],c,a,a);e++);if(l.deep&&b.length){e=0;for(g=b.length;e<g;e++)d(b[e]);h&&(r=f)}}function m(e){var g;Q(b(e.parentNode).reverse(),function(b){var e;g||"_start"==b.id||"_end"==b.id||(e=q(b,a,c))&&!1!==e.split&&(g=b)});return g}function t(a,b,e,g){var f,d,h,m,k,q;if(a){q=a.parentNode;for(f=b.parentNode;f&&
f!=q;f=f.parentNode){d=x.clone(f,R);for(k=0;k<s.length;k++)if(G(s[k],c,d,d)){d=0;break}d&&(h&&d.appendChild(h),m||(m=d),h=d)}!g||l.mixed&&I(a)||(b=x.split(a,b));h&&(e.parentNode.insertBefore(h,e),m.appendChild(e))}return b}function k(a){var b=x.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];J(c)&&(c=c[a?"firstChild":"lastChild"]);x.remove(b,!0);return c}function n(a){var b,c,e=a.commonAncestorContainer;a=C(a,s,U);l.split&&(b=y(a,U),c=y(a),b!=c?(/^(TR|TH|TD)$/.test(b.nodeName)&&b.firstChild&&
(b="TR"==b.nodeName?b.firstChild.firstChild||b:b.firstChild||b),e&&/^T(HEAD|BODY|FOOT|R)$/.test(e.nodeName)&&/^(TH|TD)$/.test(c.nodeName)&&c.firstChild&&(c=c.firstChild||c),b=F(b,"span",{id:"_start","data-mce-type":"bookmark"}),c=F(c,"span",{id:"_end","data-mce-type":"bookmark"}),t(m(b),b,b,!0),t(m(c),c,c,!0),b=k(U),c=k()):b=c=t(m(b),b,b,!0),a.startContainer=b.parentNode,a.startOffset=N(b),a.endContainer=c.parentNode,a.endOffset=N(c)+1);L.walk(a,function(a){Q(a,function(a){d(a);1===a.nodeType&&"underline"===
h.dom.getStyle(a,"text-decoration")&&a.parentNode&&"underline"===g(a.parentNode)&&G({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,a)})})}var s=f(a),l=s[0],u,r=!0;e?e.nodeType?(u=x.createRng(),u.setStartBefore(e),u.setEndAfter(e),n(u)):n(e):H.isCollapsed()&&l.inline&&!x.select("td.mce-item-selected,th.mce-item-selected").length?E("remove",a,c):(e=H.getBookmark(),n(H.getRng(U)),H.moveToBookmark(e),l.inline&&p(a,c,H.getStart())&&K(H.getRng(!0)),h.nodeChanged())}function q(a,
b,c,e){function g(a,b,f){var d,h,m=b[f];if(b.onmatch)return b.onmatch(a,b,f);if(m)if(m.length===X)for(d in m){if(m.hasOwnProperty(d)&&(h="attributes"===f?x.getAttrib(a,d):n(x.getStyle(a,d),d),e&&!h&&!b.exact||(!e||b.exact)&&!s(h,n(v(m[d],c),d))))return}else for(d=0;d<m.length&&("attributes"===f?!x.getAttrib(a,m[d]):!n(x.getStyle(a,m[d]),m[d]));d++);return b}var d=f(b),h;if(d&&a)for(h=0;h<d.length;h++)if(b=d[h],r(a,b)&&g(a,b,"attributes")&&g(a,b,"styles")){if(d=b.classes)for(h=0;h<d.length;h++)if(!x.hasClass(a,
d[h]))return;return b}}function p(a,b,c){function e(c){var g=x.getRoot();if(c===g)return!1;c=x.getParent(c,function(c){return c.parentNode===g||!!q(c,a,b,!0)});return q(c,a,b)}var g;if(c)return e(c);c=H.getNode();if(e(c))return U;g=H.getStart();return g!=c&&e(g)?U:R}function r(a,b){if(s(a,b.inline)||s(a,b.block))return U;if(b.selector)return 1==a.nodeType&&x.is(a,b.selector)}function s(a,b){a=a||"";b=b||"";a=""+(a.nodeName||a);b=""+(b.nodeName||b);return a.toLowerCase()==b.toLowerCase()}function n(a,
b){if("color"==b||"backgroundColor"==b)a=x.toHex(a);"fontWeight"==b&&700==a&&(a="bold");"fontFamily"==b&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,","));return""+a}function v(a,b){"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a}));return a}function w(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)}function F(a,b,c){b=x.create(b,c);a.parentNode.insertBefore(b,a);b.appendChild(a);return b}function C(c,e,g){function f(a){var b,c,g,d;b=c=a?n:r;g=a?"previousSibling":
"nextSibling";d=x.getRoot();if(3==b.nodeType&&!w(b)&&(a?0<u:v<b.nodeValue.length))return b;for(;;){if(!e[0].block_expand&&I(c))return c;for(a=c[g];a;a=a[g])if(!(J(a)||w(a)||"BR"==a.nodeName&&a.getAttribute("data-mce-bogus")&&!a.nextSibling))return c;if(c.parentNode==d){b=c;break}c=c.parentNode}return b}function d(a,b){for(b===X&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=a.childNodes[b])&&(b=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:b}}function m(a){for(var b=
a;b;){if(1===b.nodeType&&Z(b))return"false"===Z(b)?b:a;b=b.parentNode}return a}function t(a,b,c){function e(a,b){var f,d;d=a.nodeValue;"undefined"==typeof b&&(b=c?d.length:0);c?(f=d.lastIndexOf(" ",b),d=d.lastIndexOf("\u00a0",b),f=f>d?f:d,-1===f||g||f++):(f=d.indexOf(" ",b),d=d.indexOf("\u00a0",b),f=-1!==f&&(-1===d||f<d)?f:d);return f}var f,d;if(3===a.nodeType){b=e(a,b);if(-1!==b)return{container:a,offset:b};d=a}for(a=new l(a,x.getParent(a,I)||h.getBody());f=a[c?"prev":"next"]();)if(3===f.nodeType){if(d=
f,b=e(f),-1!==b)return{container:f,offset:b}}else if(I(f))break;if(d)return b=c?0:d.length,{container:d,offset:b}}function k(a,g){var f,d,h,m;3==a.nodeType&&0===a.nodeValue.length&&a[g]&&(a=a[g]);f=b(a);for(d=0;d<f.length;d++)for(h=0;h<e.length;h++)if(m=e[h],!("collapsed"in m&&m.collapsed!==c.collapsed)&&x.is(f[d],m.selector))return f[d];return a}function q(c,g){var f,d=x.getRoot();e[0].wrapper||(f=x.getParent(c,e[0].block,d));f||(f=x.getParent(3==c.nodeType?c.parentNode:c,function(b){return b!=d&&
a(b)}));f&&e[0].wrapper&&(f=b(f,"ul,ol").reverse()[0]||f);if(!f)for(f=c;f[g]&&!I(f[g])&&(f=f[g],!s(f,"br")););return f||c}var p,n=c.startContainer,u=c.startOffset,r=c.endContainer,v=c.endOffset;1==n.nodeType&&n.hasChildNodes()&&(p=n.childNodes.length-1,n=n.childNodes[u>p?p:u],3==n.nodeType&&(u=0));1==r.nodeType&&r.hasChildNodes()&&(p=r.childNodes.length-1,r=r.childNodes[v>p?p:v-1],3==r.nodeType&&(v=r.nodeValue.length));n=m(n);r=m(r);if(J(n.parentNode)||J(n))n=J(n)?n:n.parentNode,n=n.nextSibling||
n,3==n.nodeType&&(u=0);if(J(r.parentNode)||J(r))r=J(r)?r:r.parentNode,r=r.previousSibling||r,3==r.nodeType&&(v=r.length);if(e[0].inline){if(c.collapsed){if(p=t(n,u,!0))n=p.container,u=p.offset;if(p=t(r,v))r=p.container,v=p.offset}p=d(r,v);if(p.node){for(;p.node&&0===p.offset&&p.node.previousSibling;)p=d(p.node.previousSibling);p.node&&0<p.offset&&3===p.node.nodeType&&" "===p.node.nodeValue.charAt(p.offset-1)&&1<p.offset&&(r=p.node,r.splitText(p.offset-1))}}if(e[0].inline||e[0].block_expand)e[0].inline&&
3==n.nodeType&&0!==u||(n=f(!0)),e[0].inline&&3==r.nodeType&&v!==r.nodeValue.length||(r=f());e[0].selector&&e[0].expand!==R&&!e[0].inline&&(n=k(n,"previousSibling"),r=k(r,"nextSibling"));if(e[0].block||e[0].selector)n=q(n,"previousSibling"),r=q(r,"nextSibling"),e[0].block&&(I(n)||(n=f(!0)),I(r)||(r=f()));1==n.nodeType&&(u=N(n),n=n.parentNode);1==r.nodeType&&(v=N(r)+1,r=r.parentNode);return{startContainer:n,startOffset:u,endContainer:r,endOffset:v}}function G(a,b,c,e){var g,f,d;if(!r(c,a))return R;
if("all"!=a.remove)for(Q(a.styles,function(a,g){a=n(v(a,b),g);"number"===typeof g&&(g=a,e=0);e&&!s(n(x.getStyle(e,g),g),a)||x.setStyle(c,g,"");d=1}),d&&""===x.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style")),Q(a.attributes,function(a,g){var f;a=v(a,b);"number"===typeof g&&(g=a,e=0);if(!e||s(x.getAttrib(e,g),a)){if("class"==g&&(a=x.getAttrib(c,g))&&(f="",Q(a.split(/\s+/),function(a){/mce\w+/.test(a)&&(f+=(f?" ":"")+a)}),f)){x.setAttrib(c,g,f);return}"class"==g&&
c.removeAttribute("className");S.test(g)&&c.removeAttribute("data-mce-"+g);c.removeAttribute(g)}}),Q(a.classes,function(a){a=v(a,b);e&&!x.hasClass(e,a)||x.removeClass(c,a)}),f=x.getAttribs(c),g=0;g<f.length;g++)if(0!==f[g].nodeName.indexOf("_"))return R;if("none"!=a.remove)return B(c,a),U}function B(a,b){function c(a,b,e){a=z(a,b,e);return!a||"BR"==a.nodeName||I(a)}var e=a.parentNode,g;b.block&&(O?e==x.getRoot()&&(b.list_block&&s(a,b.list_block)||Q(Y(a.childNodes),function(a){D(O,a.nodeName.toLowerCase())?
g?g.appendChild(a):(g=F(a,O),x.setAttribs(g,h.settings.forced_root_block_attrs)):g=0})):I(a)&&!I(e)&&(c(a,R)||c(a.firstChild,U,1)||a.insertBefore(x.create("br"),a.firstChild),c(a,U)||c(a.lastChild,R,1)||a.appendChild(x.create("br"))));b.selector&&b.inline&&!s(b.inline,a)||x.remove(a,1)}function z(a,b,c){if(a)for(b=b?"nextSibling":"previousSibling",a=c?a:a[b];a;a=a[b])if(1==a.nodeType||!w(a))return a}function J(a){return a&&1==a.nodeType&&"bookmark"==a.getAttribute("data-mce-type")}function A(a,b){function c(a,
b){function e(a){var b={};Q(x.getAttribs(a),function(c){c=c.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==c&&"data-mce-style"!==c&&(b[c]=x.getAttrib(a,c))});return b}function g(a,b){var c,e;for(e in a)if(a.hasOwnProperty(e)){c=b[e];if(c===X||a[e]!=c)return R;delete b[e]}for(e in b)if(b.hasOwnProperty(e))return R;return U}return a.nodeName==b.nodeName&&g(e(a),e(b))&&g(x.parseStyle(x.getAttrib(a,"style")),x.parseStyle(x.getAttrib(b,"style")))?!J(a)&&!J(b):R}function e(a,b){for(g=a;g&&(3!=g.nodeType||
0===g.nodeValue.length);g=g[b])if(1==g.nodeType&&!J(g))return g;return a}var g,f;if(a&&b&&(a=e(a,"previousSibling"),b=e(b,"nextSibling"),c(a,b))){for(g=a.nextSibling;g&&g!=b;)f=g,g=g.nextSibling,a.appendChild(f);x.remove(b);Q(Y(b.childNodes),function(b){a.appendChild(b)});return a}return b}function y(a,b){var c,e,g;c=a[b?"startContainer":"endContainer"];e=a[b?"startOffset":"endOffset"];1==c.nodeType&&(g=c.childNodes.length-1,!b&&e&&e--,c=c.childNodes[e>g?g:e]);3===c.nodeType&&b&&e>=c.nodeValue.length&&
(c=(new l(c,h.getBody())).next()||c);3!==c.nodeType||b||0!==e||(c=(new l(c,h.getBody())).prev()||c);return c}function E(b,c,e){function g(a){var b=x.create("span",{id:v,"data-mce-bogus":!0,style:N?"color:red":""});a&&b.appendChild(h.getDoc().createTextNode(T));return b}function d(a,b){for(;a;){if(3===a.nodeType&&a.nodeValue!==T||1<a.childNodes.length)return!1;b&&1===a.nodeType&&b.push(a);a=a.firstChild}return!0}function t(a){for(;a;){if(a.id===v)return a;a=a.parentNode}}function k(a){var b;if(a)for(b=
new l(a,a),a=b.current();a;a=b.next())if(3===a.nodeType)return a}function p(a,b){var c,e;if(a)e=H.getRng(!0),d(a)?(!1!==b&&(e.setStartBefore(a),e.setEndBefore(a)),x.remove(a)):(c=k(a),c.nodeValue.charAt(0)===T&&c.deleteData(0,1),x.remove(a,1)),H.setRng(e);else if(a=t(H.getStart()),!a)for(;a=x.get(v);)p(a,!1)}function n(){var a,b,d,h,m;a=H.getRng(!0);h=a.startOffset;m=a.startContainer.nodeValue;(b=t(H.getStart()))&&(d=k(b));m&&0<h&&h<m.length&&/\w/.test(m.charAt(h))&&/\w/.test(m.charAt(h-1))?(b=H.getBookmark(),
a.collapse(!0),a=C(a,f(c)),a=L.split(a),u(c,e,a),H.moveToBookmark(b)):(b&&d.nodeValue===T||(b=g(!0),d=b.firstChild,a.insertNode(b),h=1),u(c,e,b),H.setCursorLocation(d,h))}function s(){var b=H.getRng(!0),d,h,t,k,p,n=[];d=b.startContainer;h=b.startOffset;t=d;if(3==d.nodeType){if(h!=d.nodeValue.length||d.nodeValue===T)k=!0;t=t.parentNode}for(;t;){if(q(t,c,e)){p=t;break}t.nextSibling&&(k=!0);n.push(t);t=t.parentNode}if(p)if(k)t=H.getBookmark(),b.collapse(!0),b=C(b,f(c),!0),b=L.split(b),m(c,e,b),H.moveToBookmark(t);
else{t=b=g();for(d=n.length-1;0<=d;d--)t.appendChild(x.clone(n[d],!1)),t=t.firstChild;t.appendChild(x.doc.createTextNode(T));t=t.firstChild;(n=x.getParent(p,a))&&x.isEmpty(n)?p.parentNode.replaceChild(b,p):x.insertAfter(b,p);H.setCursorLocation(t,1);x.isEmpty(p)&&x.remove(p)}}function r(){var a;(a=t(H.getStart()))&&!x.isEmpty(a)&&P(a,function(a){1!=a.nodeType||a.id===v||x.isEmpty(a)||x.setAttrib(a,"data-mce-bogus",null)},"childNodes")}var v="_mce_caret",N=h.settings.caret_debug;h._hasCaretEvents||
(ba=function(){var a=[],b;if(d(t(H.getStart()),a))for(b=a.length;b--;)x.setAttrib(a[b],"data-mce-bogus","1")},aa=function(a){a=a.keyCode;p();8!=a&&37!=a&&39!=a||p(t(H.getStart()));r()},h.on("SetContent",function(a){a.selection&&r()}),h._hasCaretEvents=!0);"apply"==b?n():s()}function K(a){var b=a.startContainer,c=a.startOffset,e,g;3==b.nodeType&&c>=b.nodeValue.length&&(c=N(b),b=b.parentNode,e=!0);if(1==b.nodeType)for(g=b.childNodes,b=g[Math.min(c,g.length-1)],b=new l(b,x.getParent(b,x.isBlock)),(c>
g.length-1||e)&&b.next(),c=b.current();c;c=b.next())if(3==c.nodeType&&!w(c)){e=x.create("a",null,T);c.parentNode.insertBefore(e,c);a.setStart(c,0);H.setRng(a);x.remove(e);break}}var W={},x=h.dom,H=h.selection,L=new k(x),D=h.schema.isValidChild,I=x.isBlock,O=h.settings.forced_root_block,N=x.nodeIndex,T="\ufeff",S=/^(src|href|style)$/,R=!1,U=!0,V,X,Z=x.getContentEditable,aa,ba,Q=d.each,Y=d.grep,P=d.walk,fa=d.extend;fa(this,{get:f,register:e,apply:u,remove:m,toggle:function(a,b,c){var e=f(a);!p(a,b,
c)||"toggle"in e[0]&&!e[0].toggle?u(a,b,c):m(a,b,c)},match:p,matchAll:function(a,b){var c,e=[],g={};c=H.getStart();x.getParent(c,function(c){var f,d;for(f=0;f<a.length;f++)d=a[f],!g[d]&&q(c,d,b)&&(g[d]=!0,e.push(d))},x.getRoot());return e},matchNode:q,canApply:function(a){a=f(a);var c,e,g,d;if(a)for(c=H.getStart(),c=b(c),g=a.length-1;0<=g;g--){d=a[g].selector;if(!d||a[g].defaultBlock)return U;for(e=c.length-1;0<=e;e--)if(x.is(c[e],d))return U}return R},formatChanged:function(a,c,e){var g;V||(V={},
g={},h.on("NodeChange",function(a){var c=b(a.element),e={};Q(V,function(a,b){Q(c,function(f){if(q(f,b,{},a.similar))return g[b]||(Q(a,function(a){a(!0,{node:f,format:b,parents:c})}),g[b]=a),e[b]=a,!1})});Q(g,function(b,f){e[f]||(delete g[f],Q(b,function(b){b(!1,{node:a.element,format:f,parents:c})}))})}));Q(a.split(","),function(a){V[a]||(V[a]=[],V[a].similar=e);V[a].push(c)});return this}});(function(){e({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},
defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",
collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",
styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},
link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(a,b,c){Q(c,function(b,c){x.setAttrib(a,c,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]});Q("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),
function(a){e(a,{block:a,remove:"all"})});e(h.settings.formats)})();(function(){h.addShortcut("ctrl+b","bold_desc","Bold");h.addShortcut("ctrl+i","italic_desc","Italic");h.addShortcut("ctrl+u","underline_desc","Underline");for(var a=1;6>=a;a++)h.addShortcut("ctrl+"+a,"",["FormatBlock",!1,"h"+a]);h.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]);h.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]);h.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])})();h.on("BeforeGetContent",function(){ba&&ba()});
h.on("mouseup keydown",function(a){aa&&aa(a)})}});y("tinymce/UndoManager",["tinymce/Env","tinymce/util/Tools"],function(l,k){var d=k.trim,h;h=RegExp('<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>|<div[^>]+data-mce-bogus[^>]+><\\/div>|\\s?data-mce-selected="[^"]+"',"gi");return function(a){function b(){return d(a.getContent({format:"raw",no_events:1}).replace(h,""))}function c(a){f.typing=!1;f.add({},a)}var f=this,e=0,g=[],t,k,m;a.on("init",function(){f.add()});a.on("BeforeExecCommand",function(a){a=
a.command;"Undo"!=a&&"Redo"!=a&&"mceRepaint"!=a&&f.beforeChange()});a.on("ExecCommand",function(a){var b=a.command;"Undo"!=b&&"Redo"!=b&&"mceRepaint"!=b&&c(a)});a.on("ObjectResizeStart",function(){f.beforeChange()});a.on("SaveContent ObjectResized blur",c);a.dom.bind(a.dom.getRoot(),"dragend",c);a.on("KeyUp",function(e){var d=e.keyCode;if(33<=d&&36>=d||37<=d&&40>=d||45==d||13==d||e.ctrlKey)c(),a.nodeChanged();(46==d||8==d||l.mac&&(91==d||93==d))&&a.nodeChanged();k&&f.typing&&(a.isDirty()||(a.isNotDirty=
!g[0]||b()==g[0].content,a.isNotDirty||a.fire("change",{level:g[0],lastLevel:null})),a.fire("TypingUndo"),k=!1,a.nodeChanged())});a.on("KeyDown",function(a){var b=a.keyCode;33<=b&&36>=b||37<=b&&40>=b||45==b?f.typing&&c(a):(16>b||20<b)&&224!=b&&91!=b&&!f.typing&&(f.beforeChange(),f.typing=!0,f.add({},a),k=!0)});a.on("MouseDown",function(a){f.typing&&c(a)});a.addShortcut("ctrl+z","","Undo");a.addShortcut("ctrl+y,ctrl+shift+z","","Redo");a.on("AddUndo Undo Redo ClearUndos MouseUp",function(b){b.isDefaultPrevented()||
a.nodeChanged()});return f={data:g,typing:!1,beforeChange:function(){m||(t=a.selection.getBookmark(2,!0))},add:function(c,f){var d;d=a.settings;var h;c=c||{};c.content=b();if(m||a.removed||a.fire("BeforeAddUndo",{level:c,originalEvent:f}).isDefaultPrevented()||(h=g[e])&&h.content==c.content)return null;g[e]&&(g[e].beforeBookmark=t);if(d.custom_undo_redo_levels&&g.length>d.custom_undo_redo_levels){for(d=0;d<g.length-1;d++)g[d]=g[d+1];g.length--;e=g.length}c.bookmark=a.selection.getBookmark(2,!0);e<
g.length-1&&(g.length=e+1);g.push(c);e=g.length-1;h={level:c,lastLevel:h,originalEvent:f};a.fire("AddUndo",h);0<e&&(a.isNotDirty=!1,a.fire("change",h));return c},undo:function(){var b;f.typing&&(f.add(),f.typing=!1);0<e&&(b=g[--e],0===e&&(a.isNotDirty=!0),a.setContent(b.content,{format:"raw"}),a.selection.moveToBookmark(b.beforeBookmark),a.fire("undo",{level:b}));return b},redo:function(){var b;e<g.length-1&&(b=g[++e],a.setContent(b.content,{format:"raw"}),a.selection.moveToBookmark(b.bookmark),a.fire("redo",
{level:b}));return b},clear:function(){g=[];e=0;f.typing=!1;a.fire("ClearUndos")},hasUndo:function(){return 0<e||f.typing&&g[0]&&b()!=g[0].content},hasRedo:function(){return e<g.length-1&&!this.typing},transact:function(a){f.beforeChange();m=!0;a();m=!1;f.add()}}}});y("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(l,k,d){var h=d.ie&&11>d.ie;return function(a){function b(b){function q(a){return a&&c.isBlock(a)&&!/^(TD|TH|CAPTION|FORM)$/.test(a.nodeName)&&
!/^(fixed|absolute)/i.test(a.style.position)&&"true"!==c.getContentEditable(a)}function p(a){var b;c.isBlock(a)&&(b=f.getRng(),a.appendChild(c.create("span",null,"\u00a0")),f.select(a),a.lastChild.outerHTML="",f.setRng(b))}function r(a){for(var b=[],e;a=a.firstChild;){if(c.isBlock(a))return;1!=a.nodeType||u[a.nodeName.toLowerCase()]||b.push(a)}for(e=b.length;e--;)a=b[e],!a.hasChildNodes()||a.firstChild==a.lastChild&&""===a.firstChild.nodeValue?c.remove(a):"A"==a.nodeName&&" "===(a.innerText||a.textContent)&&
c.remove(a)}function s(a){var b,e,g,h=a,m;d.ie&&9>d.ie&&x&&x.firstChild&&x.firstChild==x.lastChild&&"BR"==x.firstChild.tagName&&c.remove(x.firstChild);if("LI"==a.nodeName){a:{for(b=a.firstChild;b;){if(1==b.nodeType||3==b.nodeType&&b.data&&/[\r\n\s]/.test(b.data))break a;b=b.nextSibling}b=void 0}b&&/^(UL|OL)$/.test(b.nodeName)&&a.insertBefore(c.doc.createTextNode("\u00a0"),a.firstChild)}g=c.createRng();if(a.hasChildNodes()){for(b=new l(a,a);e=b.current();){if(3==e.nodeType){g.setStart(e,0);g.setEnd(e,
0);break}if(u[e.nodeName.toLowerCase()]){g.setStartBefore(e);g.setEndBefore(e);break}h=e;b.next()}e||(g.setStart(h,0),g.setEnd(h,0))}else if("BR"==a.nodeName)if(a.nextSibling&&c.isBlock(a.nextSibling)){if(!H||9>H)m=c.create("br"),a.parentNode.insertBefore(m,a);g.setStartBefore(a);g.setEndBefore(a)}else g.setStartAfter(a),g.setEndAfter(a);else g.setStart(a,0),g.setEnd(a,0);f.setRng(g);c.remove(m);f.scrollIntoView(a)}function n(a){var b=e.forced_root_block;b&&b.toLowerCase()===a.tagName.toLowerCase()&&
c.setAttribs(a,e.forced_root_block_attrs)}function v(a){var b=K,g,f;a||"TABLE"==N?(a=c.create(a||S),n(a)):a=x.cloneNode(!1);f=a;if(!1!==e.keep_styles){do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U|VAR|CITE|DFN|CODE|MARK|Q|SUP|SUB|SAMP)$/.test(b.nodeName)&&"_mce_caret"!=b.id&&(g=b.cloneNode(!1),c.setAttrib(g,"id",""),a.hasChildNodes()?g.appendChild(a.firstChild):f=g,a.appendChild(g));while(b=b.parentNode)}h||(f.innerHTML='<br data-mce-bogus="1">');return a}function w(a){var b,c;if(3==K.nodeType&&(a?0<W:W<
K.nodeValue.length))return!1;if(K.parentNode==x&&R&&!a||a&&1==K.nodeType&&K==x.firstChild)return!0;if("TABLE"===K.nodeName||K.previousSibling&&"TABLE"==K.previousSibling.nodeName)return R&&!a||!R&&a;b=new l(K,x);for(3==K.nodeType&&(a&&0===W?b.prev():a||W!=K.nodeValue.length||b.next());c=b.current();){if(1===c.nodeType){if(!c.getAttribute("data-mce-bogus")&&(c=c.nodeName.toLowerCase(),u[c]&&"br"!==c))return!1}else if(3===c.nodeType&&!/^[ \t\r\n]*$/.test(c.nodeValue))return!1;a?b.prev():b.next()}return!0}
function F(b,e){var g,f,d,h,m=S||"P";f=c.getParent(b,c.isBlock);g=a.getBody().nodeName.toLowerCase();if(!f||!q(f)){f=f||E;if(!f.hasChildNodes())return g=c.create(m),n(g),f.appendChild(g),A.setStart(g,0),A.setEnd(g,0),g;for(h=b;h.parentNode!=f;)h=h.parentNode;for(;h&&!c.isBlock(h);)d=h,h=h.previousSibling;if(d&&t.isValidChild(g,m.toLowerCase())){g=c.create(m);n(g);d.parentNode.insertBefore(g,d);for(h=d;h&&!c.isBlock(h);)f=h.nextSibling,g.appendChild(h),h=f;A.setStart(b,e);A.setEnd(b,e)}}return b}function C(){function a(b){for(var c=
O[b?"firstChild":"lastChild"];c&&1!=c.nodeType;)c=c[b?"nextSibling":"previousSibling"];return c===x}function b(){var a=O.parentNode;return"LI"==a.nodeName?a:O}var e=O.parentNode.nodeName;/^(OL|UL|LI)$/.test(e)&&(S="LI");D=S?v(S):c.create("BR");a(!0)&&a()?"LI"==e?c.insertAfter(D,b()):c.replace(D,O):a(!0)?"LI"==e?(c.insertAfter(D,b()),D.appendChild(c.doc.createTextNode(" ")),D.appendChild(O)):O.parentNode.insertBefore(D,O):a()?(c.insertAfter(D,b()),p(D)):(O=b(),y=A.cloneRange(),y.setStartAfter(x),y.setEndAfter(O),
I=y.extractContents(),"LI"==S&&"LI"==I.firstChild.nodeName?(D=I.firstChild,c.insertAfter(I,O)):(c.insertAfter(I,O),c.insertAfter(D,O)));c.remove(x);s(D);g.add()}function G(){var a,b,e;if(K&&3==K.nodeType&&W>=K.nodeValue.length){if(a=!h){a:{for(a=new l(K,x);e=a.next();)if(u[e.nodeName.toLowerCase()]||0<e.length){a=!0;break a}a=void 0}a=!a}a&&(a=c.create("br"),A.insertNode(a),A.setStartAfter(a),A.setEndAfter(a),b=!0)}a=c.create("br");A.insertNode(a);h&&"PRE"==N&&(!H||8>H)&&a.parentNode.insertBefore(c.doc.createTextNode("\r"),
a);e=c.create("span",{},"&nbsp;");a.parentNode.insertBefore(e,a);f.scrollIntoView(e);c.remove(e);b?(A.setStartBefore(a),A.setEndBefore(a)):(A.setStartAfter(a),A.setEndAfter(a));f.setRng(A);g.add()}function B(a){do 3===a.nodeType&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;while(a)}function z(a){for(var b=c.getRoot(),e;a!==b&&"false"!==c.getContentEditable(a);)"true"===c.getContentEditable(a)&&(e=a),a=a.parentNode;return a!==b?e:b}function J(a){var b;h||(a.normalize(),(b=a.lastChild)&&
!/^(left|right)$/gi.test(c.getStyle(b,"float",!0))||c.add(a,"br"))}var A,y,E,K,W,x,H,L,D,I,O,N,T,S,R;A=f.getRng(!0);if(!b.isDefaultPrevented())if(A.collapsed){if((new k(c)).normalize(A),K=A.startContainer,W=A.startOffset,S=(S=(e.force_p_newlines?"p":"")||e.forced_root_block)?S.toUpperCase():"",H=c.doc.documentMode,L=b.shiftKey,1==K.nodeType&&K.hasChildNodes()&&(R=W>K.childNodes.length-1,K=K.childNodes[Math.min(W,K.childNodes.length-1)]||K,W=R&&3==K.nodeType?K.nodeValue.length:0),E=z(K))if(g.beforeChange(),
c.isBlock(E)||E==c.getRoot()){if(S&&!L||!S&&L)K=F(K,W);O=(x=c.getParent(K,c.isBlock))?c.getParent(x.parentNode,c.isBlock):null;N=x?x.nodeName.toUpperCase():"";T=O?O.nodeName.toUpperCase():"";"LI"!=T||b.ctrlKey||(x=O,N=T);if("LI"==N){if(!S&&L){G();return}if(c.isEmpty(x)){C();return}}if("PRE"==N&&!1!==e.br_in_pre){if(!L){G();return}}else if(!S&&!L&&"LI"!=N||S&&L){G();return}S&&x===a.getBody()||(S=S||"P",w()?(D=/^(H[1-6]|PRE|FIGURE)$/.test(N)&&"HGROUP"!=T?v(S):v(),e.end_container_on_empty_block&&q(O)&&
c.isEmpty(x)?D=c.split(O,x):c.insertAfter(D,x),s(D)):w(!0)?(D=x.parentNode.insertBefore(v(),x),p(D),s(x)):(y=A.cloneRange(),y.setEndAfter(x),I=y.extractContents(),B(I),D=I.firstChild,c.insertAfter(I,x),r(D),J(x),s(D)),c.setAttrib(D,"id",""),a.fire("NewBlock",{newBlock:D}),g.add())}else S&&!L||G()}else a.execCommand("Delete")}var c=a.dom,f=a.selection,e=a.settings,g=a.undoManager,t=a.schema,u=t.getNonEmptyElements();a.on("keydown",function(a){13==a.keyCode&&!1!==b(a)&&a.preventDefault()})}});y("tinymce/ForceBlocks",
[],function(){return function(l){function k(){var f=a.getStart(),e=l.getBody(),g,t,k,m,q,p,r,s,n,v,w;w=d.forced_root_block;if(f&&1===f.nodeType&&w){for(;f&&f!=e;){if(c[f.nodeName])return;f=f.parentNode}g=a.getRng();if(g.setStart){t=g.startContainer;k=g.startOffset;m=g.endContainer;q=g.endOffset;try{n=l.getDoc().activeElement===e}catch(F){}}else g.item&&(f=g.item(0),g=l.getDoc().body.createTextRange(),g.moveToElementText(f)),n=g.parentElement().ownerDocument===l.getDoc(),f=g.duplicate(),f.collapse(!0),
k=-1*f.move("character",-16777215),f.collapsed||(f=g.duplicate(),f.collapse(!1),q=-1*f.move("character",-16777215)-k);f=e.firstChild;for(v=e.nodeName.toLowerCase();f;)(3===f.nodeType||1==f.nodeType&&!c[f.nodeName])&&b.isValidChild(v,w.toLowerCase())?3===f.nodeType&&0===f.nodeValue.length?(r=f,f=f.nextSibling,h.remove(r)):(p||(p=h.create(w,l.settings.forced_root_block_attrs),f.parentNode.insertBefore(p,f),s=!0),r=f,f=f.nextSibling,p.appendChild(r)):(p=null,f=f.nextSibling);if(s&&n){if(g.setStart)g.setStart(t,
k),g.setEnd(m,q),a.setRng(g);else try{g=l.getDoc().body.createTextRange(),g.moveToElementText(e),g.collapse(!0),g.moveStart("character",k),0<q&&g.moveEnd("character",q),g.select()}catch(C){}l.nodeChanged()}}}var d=l.settings,h=l.dom,a=l.selection,b=l.schema,c=b.getBlockElements();if(d.forced_root_block)l.on("NodeChange",k)}});y("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools"],function(l,k,d){var h=d.each,a=d.extend,b=d.map,c=d.inArray,f=d.explode,e=k.gecko,g=
k.ie,t=!0,u=!1;return function(d){function q(a,b,c){var e;a=a.toLowerCase();return(e=F.exec[a])?(e(a,b,c),t):u}function p(a){var b;a=a.toLowerCase();return(b=F.state[a])?b(a):-1}function r(a,b){b=b||"exec";h(a,function(a,c){h(c.toLowerCase().split(","),function(c){F[b][c]=a})})}function s(a,b,c){b===P&&(b=u);c===P&&(c=null);return d.getDoc().execCommand(a,b,c)}function n(a,b){G.toggle(a,b?{value:b}:P);d.nodeChanged()}var v=d.dom,w=d.selection,F={state:{},exec:{},value:{}},C=d.settings,G=d.formatter,
B;a(this,{execCommand:q,queryCommandState:p,queryCommandValue:function(a){var b;a=a.toLowerCase();return(b=F.value[a])?b(a):u},addCommands:r});r({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){d.undoManager.add()},"Cut,Copy,Paste":function(a){var b=d.getDoc(),c;try{s(a)}catch(e){c=t}if(c||!b.queryCommandSupported(a))a=d.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),k.mac&&
(a=a.replace(/Ctrl\+/g,"\u2318+")),d.windowManager.alert(a)},unlink:function(){if(w.isCollapsed()){var a=w.getNode();"A"==a.tagName&&d.dom.remove(a,!0)}else G.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var b=a.substring(7);"full"==b&&(b="justify");h(["left","center","right","justify"],function(a){b!=a&&G.remove("align"+a)});n("align"+b);q("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(a){var b;s(a);if(a=v.getParent(w.getNode(),"ol,ul"))b=a.parentNode,
/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(B=w.getBookmark(void 0),v.split(b,a),w.moveToBookmark(B))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){n(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){n(a,c)},FontSize:function(a,b,c){var e;1<=c&&7>=c&&(e=f(C.font_size_style_values),c=(b=f(C.font_size_classes))?b[c-1]||c:e[c-1]||c);n(a,c)},RemoveFormat:function(a){G.remove(a)},mceBlockQuote:function(){n("blockquote")},FormatBlock:function(a,b,c){return n(c||"p")},mceCleanup:function(){var a=
w.getBookmark();d.setContent(d.getContent({cleanup:t}),{cleanup:t});w.moveToBookmark(a)},mceRemoveNode:function(a,b,c){a=c||w.getNode();a!=d.getBody()&&(B=w.getBookmark(void 0),d.dom.remove(a,t),w.moveToBookmark(B))},mceSelectNodeDepth:function(a,b,c){var e=0;v.getParent(w.getNode(),function(a){if(1==a.nodeType&&e++==c)return w.select(a),u},d.getBody())},mceSelectNode:function(a,b,c){w.select(c)},mceInsertContent:function(a,b,c){function e(a){var b,c;b=w.getRng(!0);c=b.startContainer;b=b.startOffset;
3==c.nodeType&&(0<b?a=a.replace(/^&nbsp;/," "):c.previousSibling&&3==c.previousSibling.nodeType||(a=a.replace(/^ /,"&nbsp;")),b<c.length?a=a.replace(/&nbsp;(<br>|)$/," "):c.nextSibling&&3==c.nextSibling.nodeType||(a=a.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")));return a}var f,h,t,k,n;/^ | $/.test(c)&&(c=e(c));b=d.parser;f=new l({},d.schema);a={content:c,format:"html",selection:!0};d.fire("BeforeSetContent",a);c=a.content;-1==c.indexOf("{$caret}")&&(c+="{$caret}");c=c.replace(/\{\$caret\}/,'<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#200B;</span>');
h=w.getRng();h=h.startContainer||(h.parentElement?h.parentElement():null);n=d.getBody();h===n&&w.isCollapsed()&&v.isBlock(n.firstChild)&&v.isEmpty(n.firstChild)&&(h=v.createRng(),h.setStart(n.firstChild,0),h.setEnd(n.firstChild,0),w.setRng(h));w.isCollapsed()||d.getDoc().execCommand("Delete",!1,null);h=w.getNode();t={context:h.nodeName.toLowerCase()};k=b.parse(c,t);n=k.lastChild;if("mce_marker"==n.attr("id"))for(c=n,n=n.prev;n;n=n.walk(!0))if(3==n.type||!v.isBlock(n.name)){n.parent.insert(c,n,"br"===
n.name);break}if(t.invalid){w.setContent('<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#200B;</span>');h=w.getNode();t=d.getBody();for(9==h.nodeType?h=n=t:n=h;n!==t;)h=n,n=n.parentNode;c=h==t?t.innerHTML:v.getOuterHTML(h);c=f.serialize(b.parse(c.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return f.serialize(k)})));h==t?v.setHTML(t,c):v.setOuterHTML(h,c)}else c=f.serialize(k),n=h.firstChild,b=h.lastChild,!n||n===b&&"BR"===n.nodeName?v.setHTML(h,c):w.setContent(c);
c=v.get("mce_marker");w.scrollIntoView(c);h=v.createRng();(n=c.previousSibling)&&3==n.nodeType?(h.setStart(n,n.nodeValue.length),g||(b=c.nextSibling)&&3==b.nodeType&&(n.appendData(b.data),b.parentNode.removeChild(b))):(h.setStartBefore(c),h.setEndBefore(c));v.remove(c);w.setRng(h);d.fire("SetContent",a);d.addVisual()},mceInsertRawHTML:function(a,b,c){w.setContent("tiny_mce_marker");d.setContent(d.getContent().replace(/tiny_mce_marker/g,function(){return c}))},mceToggleFormat:function(a,b,c){n(c)},
mceSetContent:function(a,b,c){d.setContent(c)},"Indent,Outdent":function(a){var b,c,e;b=C.indentation;c=/[a-z%]+$/i.exec(b);b=parseInt(b,10);p("InsertUnorderedList")||p("InsertOrderedList")?s(a):(C.forced_root_block||v.getParent(w.getNode(),v.isBlock)||G.apply("div"),h(w.getSelectedBlocks(),function(g){if("LI"!=g.nodeName){var f=d.getParam("indent_use_margin",!1)?"margin":"padding",f=f+("rtl"==v.getStyle(g,"direction",!0)?"Right":"Left");"outdent"==a?(e=Math.max(0,parseInt(g.style[f]||0,10)-b),v.setStyle(g,
f,e?e+c:"")):(e=parseInt(g.style[f]||0,10)+b+c,v.setStyle(g,f,e))}}))},mceRepaint:function(){if(e)try{B=w.getBookmark(t),w.getSel()&&w.getSel().selectAllChildren(d.getBody()),w.collapse(t),w.moveToBookmark(B)}catch(a){}},InsertHorizontalRule:function(){d.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){d.hasVisual=!d.hasVisual;d.addVisual()},mceReplaceContent:function(a,b,c){d.execCommand("mceInsertContent",!1,c.replace(/\{\$selection\}/g,w.getContent({format:"text"})))},
mceInsertLink:function(a,b,c){"string"==typeof c&&(c={href:c});a=v.getParent(w.getNode(),"a");c.href=c.href.replace(" ","%20");a&&c.href||G.remove("link");c.href&&G.apply("link",c,a)},selectAll:function(){var a=v.getRoot(),b;w.getRng().setStart?(b=v.createRng(),b.setStart(a,0),b.setEnd(a,a.childNodes.length),w.setRng(b)):(b=w.getRng(),b.item||(b.moveToElementText(a),b.select()))},"delete":function(){s("Delete");var a=d.getBody();v.isEmpty(a)&&(d.setContent(""),a.firstChild&&v.isBlock(a.firstChild)?
d.selection.setCursorLocation(a.firstChild,0):d.selection.setCursorLocation(a,0))},mceNewDocument:function(){d.setContent("")}});r({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var e="align"+a.substring(7);a=w.isCollapsed()?[v.getParent(w.getNode(),v.isBlock)]:w.getSelectedBlocks();a=b(a,function(a){return!!G.matchNode(a,e)});return-1!==c(a,t)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return G.match(a)},mceBlockQuote:function(){return G.match("blockquote")},
Outdent:function(){var a;return C.inline_styles&&((a=v.getParent(w.getStart(),v.isBlock))&&0<parseInt(a.style.paddingLeft,10)||(a=v.getParent(w.getEnd(),v.isBlock))&&0<parseInt(a.style.paddingLeft,10))?t:p("InsertUnorderedList")||p("InsertOrderedList")||!C.inline_styles&&!!v.getParent(w.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var b=v.getParent(w.getNode(),"ul,ol");return b&&("insertunorderedlist"===a&&"UL"===b.tagName||"insertorderedlist"===a&&"OL"===b.tagName)}},
"state");r({"FontSize,FontName":function(a){var b=0,c;if(c=v.getParent(w.getNode(),"span"))b="fontsize"==a?c.style.fontSize:c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();return b}},"value");r({Undo:function(){d.undoManager.undo()},Redo:function(){d.undoManager.redo()}})}});y("tinymce/util/URI",["tinymce/util/Tools"],function(l){function k(a,b){var c=this,f;a=h(a);b=c.settings=b||{};if(/^([\w\-]+):([^\/]{2})/i.test(a)||/^\s*#/.test(a))c.source=a;else{var e=0===a.indexOf("//");
0!==a.indexOf("/")||e||(a=(b.base_uri?b.base_uri.protocol||"http":"http")+"://mce_host"+a);/^[\w\-]*:?\/\//.test(a)||(f=b.base_uri?b.base_uri.path:(new k(location.href)).directory,a=""===b.base_uri.protocol?"//mce_host"+c.toAbsPath(f,a):(b.base_uri&&b.base_uri.protocol||"http")+"://mce_host"+c.toAbsPath(f,a));a=a.replace(/@@/g,"(mce_at)");a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a);
d("source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),function(b,e){var f=a[e];f&&(f=f.replace(/\(mce_at\)/g,"@@"));c[b]=f});if(f=b.base_uri)c.protocol||(c.protocol=f.protocol),c.userInfo||(c.userInfo=f.userInfo),c.port||"mce_host"!==c.host||(c.port=f.port),c.host&&"mce_host"!==c.host||(c.host=f.host),c.source="";e&&(c.protocol="")}}var d=l.each,h=l.trim;k.prototype={setPath:function(a){a=/^(.*?)\/?(\w+)?$/.exec(a);this.path=a[0];this.directory=
a[1];this.file=a[2];this.source="";this.getURI()},toRelative:function(a){var b;if("./"===a)return a;a=new k(a,{base_uri:this});if("mce_host"!=a.host&&this.host!=a.host&&a.host||this.port!=a.port||this.protocol!=a.protocol&&""!==a.protocol)return a.getURI();b=this.getURI();var c=a.getURI();if(b==c||"/"==b.charAt(b.length-1)&&b.substr(0,b.length-1)==c)return b;b=this.toRelPath(this.path,a.path);a.query&&(b+="?"+a.query);a.anchor&&(b+="#"+a.anchor);return b},toAbsolute:function(a,b){a=new k(a,{base_uri:this});
return a.getURI(this.host==a.host&&this.protocol==a.protocol?b:0)},toRelPath:function(a,b){var c,f=0,e="",g,d;a=a.substring(0,a.lastIndexOf("/"));a=a.split("/");c=b.split("/");if(a.length>=c.length)for(g=0,d=a.length;g<d;g++)if(g>=c.length||a[g]!=c[g]){f=g+1;break}if(a.length<c.length)for(g=0,d=c.length;g<d;g++)if(g>=a.length||a[g]!=c[g]){f=g+1;break}if(1===f)return b;g=0;for(d=a.length-(f-1);g<d;g++)e+="../";g=f-1;for(d=c.length;g<d;g++)e=g!=f-1?e+("/"+c[g]):e+c[g];return e},toAbsPath:function(a,
b){var c,f=0,e=[],g;g=/\/$/.test(b)?"/":"";a=a.split("/");b=b.split("/");d(a,function(a){a&&e.push(a)});a=e;c=b.length-1;for(e=[];0<=c;c--)0!==b[c].length&&"."!==b[c]&&(".."===b[c]?f++:0<f?f--:e.push(b[c]));c=a.length-f;c=0>=c?e.reverse().join("/"):a.slice(0,c).join("/")+"/"+e.reverse().join("/");0!==c.indexOf("/")&&(c="/"+c);g&&c.lastIndexOf("/")!==c.length-1&&(c+=g);return c},getURI:function(a){var b;if(!this.source||a)b="",a||(b=this.protocol?b+(this.protocol+"://"):b+"//",this.userInfo&&(b+=this.userInfo+
"@"),this.host&&(b+=this.host),this.port&&(b+=":"+this.port)),this.path&&(b+=this.path),this.query&&(b+="?"+this.query),this.anchor&&(b+="#"+this.anchor),this.source=b;return this.source}};return k});y("tinymce/util/Class",["tinymce/util/Tools"],function(l){function k(){}var d=l.each,h=l.extend,a,b;k.extend=a=function(c){function f(){var a,c,e;if(!b&&(this.init&&this.init.apply(this,arguments),c=this.Mixins))for(a=c.length;a--;)e=c[a],e.init&&e.init.apply(this,arguments)}function e(){return this}
function g(a,b){return function(){var c=this._super,e;this._super=t[a];e=b.apply(this,arguments);this._super=c;return e}}var t=this.prototype,k,m,q;b=!0;k=new this;b=!1;c.Mixins&&(d(c.Mixins,function(a){for(var b in a)"init"!==b&&(c[b]=a[b])}),t.Mixins&&(c.Mixins=t.Mixins.concat(c.Mixins)));c.Methods&&d(c.Methods.split(","),function(a){c[a]=e});c.Properties&&d(c.Properties.split(","),function(a){var b="_"+a;c[a]=function(a){return void 0!==a?(this[b]=a,this):this[b]}});c.Statics&&d(c.Statics,function(a,
b){f[b]=a});c.Defaults&&t.Defaults&&(c.Defaults=h({},t.Defaults,c.Defaults));for(m in c)q=c[m],k[m]="function"==typeof q&&t[m]?g(m,q):q;f.prototype=k;f.constructor=f;f.extend=a;return f};return k});y("tinymce/ui/Selector",["tinymce/util/Class"],function(l){function k(a){for(var b=[],c=a.length,d;c--;)d=a[c],d.__checked||(b.push(d),d.__checked=1);for(c=b.length;c--;)delete b[c].__checked;return b}var d=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,
h=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,a=/^\s*|\s*$/g,b,c=l.extend({init:function(b){function c(a){if(a)return a=a.toLowerCase(),function(b){return"*"===a||b.type===a}}function g(a){if(a)return function(b){return b._name===a}}function t(a){if(a)return a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.hasClass(a[c]))return!1;return!0}}function k(a,b,c){if(a)return function(e){e=e[a]?e[a]():"";return b?
"="===b?e===c:"*="===b?0<=e.indexOf(c):"~="===b?0<=(" "+e+" ").indexOf(" "+c+" "):"!="===b?e!=c:"^="===b?0===e.indexOf(c):"$="===b?e.substr(e.length-c.length)===c:!1:!!c}}function m(a){var b;if(a){a=/(?:not\((.+)\))|(.+)/i.exec(a);if(a[1])return b=p(a[1],[]),function(a){return!l(a,b)};a=a[2];return function(b,c,e){return"first"===a?0===c:"last"===a?c===e-1:"even"===a?0===c%2:"odd"===a?1===c%2:b[a]?b[a]():!1}}}function q(b,f,h){function p(a){a&&f.push(a)}b=d.exec(b.replace(a,""));p(c(b[1]));p(g(b[2]));
p(t(b[3]));p(k(b[4],b[5],b[6]));p(m(b[7]));f.psuedo=!!b[7];f.direct=h;return f}function p(a,b){var c=[],e,g;do if(h.exec(""),g=h.exec(a))if(a=g[3],c.push(g[1]),g[2]){e=g[3];break}while(g);e&&p(e,b);a=[];for(e=0;e<c.length;e++)">"!=c[e]&&a.push(q(c[e],[],">"===c[e-1]));b.push(a);return b}var l=this.match;this._selectors=p(b,[])},match:function(a,b){var c,d,h,m,k,p,l,s,n,v,w,F;b=b||this._selectors;c=0;for(d=b.length;c<d;c++){k=b[c];m=k.length;F=a;w=0;for(h=m-1;0<=h;h--)for(s=k[h];F;){if(s.psuedo)for(p=
F.parent().items(),n=v=p.length;n--&&p[n]!==F;);p=0;for(l=s.length;p<l;p++)if(!s[p](F,n,v)){p=l+1;break}if(p===l){w++;break}else if(h===m-1)break;F=F.parent()}if(w===m)return!0}return!1},find:function(a){function e(a,b,c){var f,d,h,m,k,t=b[c];f=0;for(d=a.length;f<d;f++){k=a[f];h=0;for(m=t.length;h<m;h++)if(!t[h](k,f,d)){h=m+1;break}if(h===m)c==b.length-1?g.push(k):k.items&&e(k.items(),b,c+1);else if(t.direct)break;k.items&&e(k.items(),b,c)}}var g=[],d,h,m=this._selectors;if(a.items){d=0;for(h=m.length;d<
h;d++)e(a.items(),m[d],0);1<h&&(g=k(g))}b||(b=c.Collection);return new b(g)}});return c});y("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(l,k,d){var h,a,b=Array.prototype.push,c=Array.prototype.slice;a={length:0,init:function(a){a&&this.add(a)},add:function(a){l.isArray(a)?b.apply(this,a):a instanceof h?this.add(a.toArray()):b.call(this,a);return this},set:function(a){var b=this.length;this.length=0;this.add(a);for(a=this.length;a<b;a++)delete this[a];
return this},filter:function(a){var b,c,d=[],l,m;"string"===typeof a?(a=new k(a),m=function(b){return a.match(b)}):m=a;b=0;for(c=this.length;b<c;b++)l=this[b],m(l)&&d.push(l);return new h(d)},slice:function(){return new h(c.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){l.each(this,a);return this},toArray:function(){return l.toArray(this)},indexOf:function(a){for(var b=this.length;b--&&this[b]!==a;);return b},reverse:function(){return new h(l.toArray(this).reverse())},
hasClass:function(a){return this[0]?this[0].hasClass(a):!1},prop:function(a,b){var c;if(void 0!==b)return this.each(function(c){if(c[a])c[a](b)}),this;if((c=this[0])&&c[a])return c[a]()},exec:function(a){var b=l.toArray(arguments).slice(1);this.each(function(c){c[a]&&c[a].apply(c,b)});return this},remove:function(){for(var a=this.length;a--;)this[a].remove();return this}};l.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(b){a[b]=function(){var a=
l.toArray(arguments);this.each(function(c){b in c&&c[b].apply(c,a)});return this}});l.each("text name disabled active selected checked visible parent value data".split(" "),function(b){a[b]=function(a){return this.prop(b,a)}});h=d.extend(a);return k.Collection=h});y("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(l,k){return{id:function(){return k.DOM.uniqueId()},createFragment:function(d){return k.DOM.createFragment(d)},getWindowSize:function(){return k.DOM.getViewPort()},
getSize:function(d){var h;if(d.getBoundingClientRect){var a=d.getBoundingClientRect();h=Math.max(a.width||a.right-a.left,d.offsetWidth);d=Math.max(a.height||a.bottom-a.bottom,d.offsetHeight)}else h=d.offsetWidth,d=d.offsetHeight;return{width:h,height:d}},getPos:function(d,h){return k.DOM.getPos(d,h)},getViewPort:function(d){return k.DOM.getViewPort(d)},get:function(d){return document.getElementById(d)},addClass:function(d,h){return k.DOM.addClass(d,h)},removeClass:function(d,h){return k.DOM.removeClass(d,
h)},hasClass:function(d,h){return k.DOM.hasClass(d,h)},toggleClass:function(d,h,a){return k.DOM.toggleClass(d,h,a)},css:function(d,h,a){return k.DOM.setStyle(d,h,a)},on:function(d,h,a,b){return k.DOM.bind(d,h,a,b)},off:function(d,h,a){return k.DOM.unbind(d,h,a)},fire:function(d,h,a){return k.DOM.fire(d,h,a)},innerHtml:function(d,h){k.DOM.setHTML(d,h)}}});y("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/ui/Collection","tinymce/ui/DomUtils"],function(l,k,d,h){var a=k.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu",
" "),b={},c="onmousewheel"in document,f=l.extend({Statics:{elementIdCache:b},isRtl:function(){return f.rtl},classPrefix:"mce-",init:function(a){var b=this,c,d;b.settings=a=k.extend({},b.Defaults,a);b._id=a.id||h.id();b._text=b._name="";b._width=b._height=0;b._aria={role:a.role};if(c=a.classes)for(c=c.split(" "),c.map={},d=c.length;d--;)c.map[c[d]]=!0;b._classes=c||[];b.visible(!0);k.each("title text width height name classes visible disabled active value".split(" "),function(c){var d=a[c];if(void 0!==
d)b[c](d);else void 0===b["_"+c]&&(b["_"+c]=!1)});b.on("click",function(){if(b.disabled())return!1});a.classes&&k.each(a.classes.split(" "),function(a){b.addClass(a)});b.settings=a;b._borderBox=b.parseBox(a.border);b._paddingBox=b.parseBox(a.padding);b._marginBox=b.parseBox(a.margin);a.hidden&&b.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&
c&&!(b=c[a.id]);)a=a.parentNode;return b},parseBox:function(a){var b;if(a){if("number"===typeof a)return a=a||0,{top:a,left:a,bottom:a,right:a};a=a.split(" ");b=a.length;1===b?a[1]=a[2]=a[3]=a[0]:2===b?(a[2]=a[0],a[3]=a[1]):3===b&&(a[3]=a[1]);return{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}}},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(a,
b){function c(b){var g=document.defaultView;return g?(b=b.replace(/[A-Z]/g,function(a){return"-"+a}),g.getComputedStyle(a,null).getPropertyValue(b)):a.currentStyle[b]}function d(a){a=parseFloat(c(a),10);return isNaN(a)?0:a}return{top:d(b+"TopWidth"),right:d(b+"RightWidth"),bottom:d(b+"BottomWidth"),left:d(b+"LeftWidth")}},initLayoutRect:function(){var a=this.settings,b,c=this.getEl(),d,f,k,p,l,s;b=this._borderBox=this._borderBox||this.measureBox(c,"border");this._paddingBox=this._paddingBox||this.measureBox(c,
"padding");this._marginBox=this._marginBox||this.measureBox(c,"margin");d=h.getSize(c);l=a.minWidth;s=a.minHeight;c=l||d.width;k=s||d.height;d=a.width;f=a.height;p=a.autoResize;p="undefined"!=typeof p?p:!d&&!f;d=d||c;f=f||k;var n=b.left+b.right;b=b.top+b.bottom;var v=a.maxWidth||65535,w=a.maxHeight||65535;this._layoutRect=a={x:a.x||0,y:a.y||0,w:d,h:f,deltaW:n,deltaH:b,contentW:d-n,contentH:f-b,innerW:d-n,innerH:f-b,startMinWidth:l||0,startMinHeight:s||0,minW:Math.min(c,v),minH:Math.min(k,w),maxW:v,
maxH:w,autoResize:p,scrollW:0};this._lastLayoutRect={};return a},layoutRect:function(a){var b=this._layoutRect,c,d,h;b||(b=this.initLayoutRect());if(a){d=b.deltaW;h=b.deltaH;void 0!==a.x&&(b.x=a.x);void 0!==a.y&&(b.y=a.y);void 0!==a.minW&&(b.minW=a.minW);void 0!==a.minH&&(b.minH=a.minH);c=a.w;void 0!==c&&(c=c<b.minW?b.minW:c,c=c>b.maxW?b.maxW:c,b.w=c,b.innerW=c-d);c=a.h;void 0!==c&&(c=c<b.minH?b.minH:c,c=c>b.maxH?b.maxH:c,b.h=c,b.innerH=c-h);c=a.innerW;void 0!==c&&(c=c<b.minW-d?b.minW-d:c,c=c>b.maxW-
d?b.maxW-d:c,b.innerW=c,b.w=c+d);c=a.innerH;void 0!==c&&(c=c<b.minH-h?b.minH-h:c,c=c>b.maxH-h?b.maxH-h:c,b.innerH=c,b.h=c+h);void 0!==a.contentW&&(b.contentW=a.contentW);void 0!==a.contentH&&(b.contentH=a.contentH);a=this._lastLayoutRect;if(a.x!==b.x||a.y!==b.y||a.w!==b.w||a.h!==b.h)(c=f.repaintControls)&&c.map&&!c.map[this._id]&&(c.push(this),c.map[this._id]=!0),a.x=b.x,a.y=b.y,a.w=b.w,a.h=b.h;return this}return b},repaint:function(){var a,b,c,d,f=0;d=0;var h,k;k=document.createRange?function(a){return a}:
Math.round;a=this.getEl().style;c=this._layoutRect;h=this._lastRepaintRect||{};d=this._borderBox;f=d.left+d.right;d=d.top+d.bottom;c.x!==h.x&&(a.left=k(c.x)+"px",h.x=c.x);c.y!==h.y&&(a.top=k(c.y)+"px",h.y=c.y);c.w!==h.w&&(a.width=k(c.w-f)+"px",h.w=c.w);c.h!==h.h&&(a.height=k(c.h-d)+"px",h.h=c.h);this._hasBody&&c.innerW!==h.innerW&&(b=this.getEl("body").style,b.width=k(c.innerW)+"px",h.innerW=c.innerW);this._hasBody&&c.innerH!==h.innerH&&(b=b||this.getEl("body").style,b.height=k(c.innerH)+"px",h.innerH=
c.innerH);this._lastRepaintRect=h;this.fire("repaint",{},!1)},on:function(b,c){function d(a){var b,c;return function(e){b||f.parents().each(function(e){var g=e.settings.callbacks;if(g&&(b=g[a]))return c=e,!1});return b.call(c,e)}}var f=this,h,k,p,l;if(c)for("string"==typeof c&&(c=d(c)),p=b.toLowerCase().split(" "),l=p.length;l--;)b=p[l],h=f._bindings,h||(h=f._bindings={}),(k=h[b])||(k=h[b]=[]),k.push(c),a[b]&&(f._nativeEvents?f._nativeEvents[b]=!0:f._nativeEvents={name:!0},f._rendered&&f.bindPendingEvents());
return f},off:function(a,b){var c,d=this._bindings,f,h,k,l;if(d)if(a&&!{object:1,"function":1}[typeof a])for(k=a.toLowerCase().split(" "),c=k.length;c--;){a=k[c];f=d[a];if(!a){for(h in d)d[h].length=0;break}if(f)if(b)for(l=f.length;l--;)f[l]===b&&f.splice(l,1);else f.length=0}else this._bindings=[];return this},fire:function(a,b,c){function d(){return!1}function f(){return!0}var h,k,l;a=a.toLowerCase();b=b||{};b.type||(b.type=a);b.control||(b.control=this);b.preventDefault||(b.preventDefault=function(){b.isDefaultPrevented=
f},b.stopPropagation=function(){b.isPropagationStopped=f},b.stopImmediatePropagation=function(){b.isImmediatePropagationStopped=f},b.isDefaultPrevented=d,b.isPropagationStopped=d,b.isImmediatePropagationStopped=d);if(this._bindings&&(l=this._bindings[a]))for(h=0,k=l.length;h<k&&(b.isImmediatePropagationStopped()||!1!==l[h].call(this,b));h++);if(!1!==c)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},hasEventListeners:function(a){return a in this._bindings},parents:function(a){var b,
c=new d;for(b=this.parent();b;b=b.parent())c.add(b);a&&(c=c.filter(a));return c},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},findCommonAncestor:function(a,b){for(var c;a;){for(c=b;c&&a!=c;)c=c.parent();if(a==c)break;a=a.parent()}return a},hasClass:function(a,b){var c=this._classes[b||"control"];a=this.classPrefix+a;return c&&!!c.map[a]},addClass:function(a,b){var c,d;a=this.classPrefix+a;c=this._classes[b||
"control"];c||(c=[],c.map={},this._classes[b||"control"]=c);!c.map[a]&&(c.map[a]=a,c.push(a),this._rendered&&(d=this.getEl(b)))&&(d.className=c.join(" "));return this},removeClass:function(a,b){var c,d;a=this.classPrefix+a;if((c=this._classes[b||"control"])&&c.map[a])for(delete c.map[a],d=c.length;d--;)c[d]===a&&c.splice(d,1);this._rendered&&(d=this.getEl(b))&&(d.className=c.join(" "));return this},toggleClass:function(a,b,c){b?this.addClass(a,c):this.removeClass(a,c);return this},classes:function(a){return(a=
this._classes[a||"control"])?a.join(" "):""},innerHtml:function(a){h.innerHtml(this.getEl(),a);return this},getEl:function(a,c){var d=a?this._id+"-"+a:this._id;return b[d]=(!0===c?null:b[d])||h.get(d)},visible:function(a){var b;if("undefined"!==typeof a){if(this._visible!==a){this._rendered&&(this.getEl().style.display=a?"":"none");this._visible=a;if(b=this.parent())b._lastRect=null;this.fire(a?"show":"hide")}return this}return this._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},
focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){this.getEl().blur();return this},aria:function(a,b){var c=this.getEl(this.ariaTarget);if("undefined"===typeof b)return this._aria[a];this._aria[a]=b;this._rendered&&c.setAttribute("role"==a?a:"aria-"+a,b);return this},encode:function(a,b){!1!==b&&f.translate&&(a=f.translate(a));return(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},before:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this),
!0);return this},after:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this));return this},remove:function(){var a=this,c=a.getEl(),d=a.parent(),f,k;if(a.items){var l=a.items().toArray();for(k=l.length;k--;)l[k].remove()}d&&d.items&&(f=[],d.items().each(function(b){b!==a&&f.push(b)}),d.items().set(f),d._lastRect=null);a._eventsRoot&&a._eventsRoot==a&&h.off(c);(k=a.getRoot().controlIdLookup)&&delete k[a._id];delete b[a._id];if(c&&c.parentNode){d=c.getElementsByTagName("*");for(k=d.length;k--;)delete b[d[k].id];
c.parentNode.removeChild(c)}a._rendered=!1;return a},renderBefore:function(a){a.parentNode.insertBefore(h.createFragment(this.renderHtml()),a);this.postRender();return this},renderTo:function(a){a=a||this.getContainerElm();a.appendChild(h.createFragment(this.renderHtml()));this.postRender();return this},postRender:function(){var a=this.settings,b,c,d;for(c in a)if(0===c.indexOf("on"))this.on(c.substr(2),a[c]);if(this._eventsRoot){for(b=this.parent();!d&&b;b=b.parent())d=b._eventsRoot;if(d)for(c in d._nativeEvents)this._nativeEvents[c]=
!0}this.bindPendingEvents();a.style&&(b=this.getEl())&&(b.setAttribute("style",a.style),b.style.cssText=a.style);this._visible||h.css(this.getEl(),"display","none");this.settings.border&&(a=this.borderBox(),h.css(this.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));a=this.getRoot();a.controlIdLookup||(a.controlIdLookup={});a.controlIdLookup[this._id]=this;for(var f in this._aria)this.aria(f,this._aria[f]);this.fire("postrender",
{},!1)},scrollIntoView:function(a){var b=this.getEl(),c=b.parentNode,d,f,h,k,l;h=b;for(d=f=0;h&&h!=c&&h.nodeType;)d+=h.offsetLeft||0,f+=h.offsetTop||0,h=h.offsetParent;h=b.offsetWidth;b=b.offsetHeight;k=c.clientWidth;l=c.clientHeight;"end"==a?(d-=k-h,f-=l-b):"center"==a&&(d-=k/2-h/2,f-=l/2-b/2);c.scrollLeft=d;c.scrollTop=f;return this},bindPendingEvents:function(){function a(b){var c=k.getParentCtrl(b.target);c&&c.fire(b.type,b)}function b(){var a=s._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),
a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),s._lastHoverCtrl=null)}function d(a){var b=k.getParentCtrl(a.target);a=s._lastHoverCtrl;var c=0,e,f;if(b!==a){s._lastHoverCtrl=b;f=b.parents().toArray().reverse();f.push(b);if(a){b=a.parents().toArray().reverse();b.push(a);for(c=0;c<b.length&&f[c]===b[c];c++);for(e=b.length-1;e>=c;e--)a=b[e],a.fire("mouseleave",{target:a.getEl()})}for(e=c;e<f.length;e++)b=f[e],b.fire("mouseenter",{target:b.getEl()})}}function f(a){a.preventDefault();
"mousewheel"==a.type?(a.deltaY=-0.025*a.wheelDelta,a.wheelDeltaX&&(a.deltaX=-0.025*a.wheelDeltaX)):(a.deltaX=0,a.deltaY=a.detail);k.fire("wheel",a)}var k=this,l,p,r,s,n,v;k._rendered=!0;if(n=k._nativeEvents){r=k.parents().toArray();r.unshift(k);l=0;for(p=r.length;!s&&l<p;l++)s=r[l]._eventsRoot;s||(s=r[r.length-1]||k);k._eventsRoot=s;p=l;for(l=0;l<p;l++)r[l]._eventsRoot=s;for(v in n){if(!n)return!1;if("wheel"===v)if(c)h.on(k.getEl(),"mousewheel",f);else h.on(k.getEl(),"DOMMouseScroll",f);else"mouseenter"===
v||"mouseleave"===v?s._hasMouseEnter||(h.on(s.getEl(),"mouseleave",b),h.on(s.getEl(),"mouseover",d),s._hasMouseEnter=1):s[v]||(h.on(s.getEl(),v,a),s[v]=!0),n[v]=!1}}},getRoot:function(){for(var a=this,b,c=[];a;){if(a.rootControl){b=a.rootControl;break}c.push(a);b=a;a=a.parent()}b||(b=this);for(a=c.length;a--;)c[a].rootControl=b;return b},reflow:function(){this.repaint();return this}});return f});y("tinymce/ui/Factory",[],function(){var l={},k;return{add:function(d,h){l[d.toLowerCase()]=h},has:function(d){return!!l[d.toLowerCase()]},
create:function(d,h){var a,b;if(!k){b=tinymce.ui;for(a in b)l[a.toLowerCase()]=b[a];k=!0}"string"==typeof d?(h=h||{},h.type=d):(h=d,d=h.type);d=d.toLowerCase();a=l[d];if(!a)throw Error("Could not find control by type: "+d);a=new a(h);a.type=d;return a}}});y("tinymce/ui/KeyboardNavigation",[],function(){return function(l){function k(a){return(a=a||s)&&a.getAttribute("role")}function d(a){for(var b=a||s;b=b.parentNode;)if(a=k(b))return a}function h(a){var b=s;if(b)return b.getAttribute("aria-"+a)}function a(a){function b(a){if(1==
a.nodeType&&"none"!=a.style.display){var e;e="INPUT"!=a.tagName&&"TEXTAREA"!=a.tagName||a.hidden?/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(k(a))?!0:!1:!0;e&&c.push(a);for(e=0;e<a.childNodes.length;e++)b(a.childNodes[e])}}var c=[];b(a||r.getEl());return c}function b(a){var b,c;a=a||n;c=a.parents().toArray();c.unshift(a);for(a=0;a<c.length&&(b=c[a],!b.settings.ariaRoot);a++);return b}function c(a,b){0>a?a=b.length-1:a>=b.length&&(a=0);b[a]&&b[a].focus();return a}function f(e,
d){var f=-1,g=b();d=d||a(g.getEl());for(var h=0;h<d.length;h++)d[h]===s&&(f=h);g.lastAriaIndex=c(f+e,d)}function e(){"tablist"==d()?f(-1,a(s.parentNode)):n.parent().submenu?q():f(-1)}function g(){var b=k(),c=d();"tablist"==c?f(1,a(s.parentNode)):"menuitem"==b&&"menu"==c&&h("haspopup")?p():f(1)}function t(){f(-1)}function u(){var a=k(),b=d();"menuitem"==a&&"menubar"==b?p():"button"==a&&h("haspopup")?p({key:"down"}):f(1)}function m(b){"tablist"==d()?(b=a(n.getEl("body"))[0])&&b.focus():f(b.shiftKey?
-1:1)}function q(){n.fire("cancel")}function p(a){a=a||{};n.fire("click",{target:s,aria:a})}var r=l.root,s,n;s=document.activeElement;n=r.getParentCtrl(s);r.on("keydown",function(a){function b(a,c){"INPUT"==s.tagName||"TEXTAREA"==s.tagName||!1!==c(a)&&a.preventDefault()}if(!a.isDefaultPrevented())switch(a.keyCode){case 37:b(a,e);break;case 39:b(a,g);break;case 38:b(a,t);break;case 40:b(a,u);break;case 27:b(a,q);break;case 14:case 13:case 32:b(a,p);break;case 9:!1!==m(a)&&a.preventDefault()}});r.on("focusin",
function(a){s=a.target;n=a.control});return{focusFirst:function(e){e=b(e);var d=a(e.getEl());e.settings.ariaRemember&&"lastAriaIndex"in e?c(e.lastAriaIndex,d):c(0,d)}}}});y("tinymce/ui/Container","tinymce/ui/Control tinymce/ui/Collection tinymce/ui/Selector tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/util/Tools tinymce/ui/DomUtils".split(" "),function(l,k,d,h,a,b,c){var f={};return l.extend({layout:"",innerClass:"container-inner",init:function(a){this._super(a);a=this.settings;this._fixed=
a.fixed;this._items=new k;this.isRtl()&&this.addClass("rtl");this.addClass("container");this.addClass("container-body","body");a.containerCls&&this.addClass(a.containerCls);this._layout=h.create((a.layout||this.layout)+"layout");this.settings.items&&this.add(this.settings.items);this._hasBody=!0},items:function(){return this._items},find:function(a){a=f[a]=f[a]||new d(a);return a.find(this)},add:function(a){this.items().add(this.create(a)).parent(this);return this},focus:function(a){var b;if(a&&(a=
this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)){a.focusFirst(this);return}a=this.find("*");this.statusbar&&a.add(this.statusbar.items());a.each(function(a){if(a.settings.autofocus)return b=null,!1;a.canFocus&&(b=b||a)});b&&b.focus();return this},replace:function(a,b){var c;c=this.items();for(var d=c.length;d--;)if(c[d]===a){c[d]=b;break}0<=d&&((c=b.getEl())&&c.parentNode.removeChild(c),(c=a.getEl())&&c.parentNode.removeChild(c));b.parent(this)},create:function(a){var c=this,d,f=[];b.isArray(a)||
(a=[a]);b.each(a,function(a){a&&(a instanceof l||("string"==typeof a&&(a={type:a}),d=b.extend({},c.settings.defaults,a),a.type=d.type=d.type||a.type||c.settings.defaultType||(d.defaults?d.defaults.type:null),a=h.create(d)),f.push(a))});return f},renderNew:function(){var a=this;a.items().each(function(b,d){var f,h;b.parent(a);b._rendered||(f=a.getEl("body"),h=c.createFragment(b.renderHtml()),f.hasChildNodes()&&d<=f.childNodes.length-1?f.insertBefore(h,f.childNodes[d]):f.appendChild(h),b.postRender())});
a._layout.applyClasses(a);a._lastRect=null;return a},append:function(a){return this.add(a).renderNew()},prepend:function(a){this.items().set(this.create(a).concat(this.items().toArray()));return this.renderNew()},insert:function(a,b,c){var d;a=this.create(a);d=this.items();!c&&b<d.length-1&&(b+=1);0<=b&&b<d.length&&(c=d.slice(0,b).toArray(),b=d.slice(b).toArray(),d.set(c.concat(a,b)));return this.renderNew()},fromJSON:function(a){for(var b in a)this.find("#"+b).value(a[b]);return this},toJSON:function(){var a=
{};this.find("*").each(function(b){var c=b.name();b=b.value();c&&"undefined"!=typeof b&&(a[c]=b)});return a},preRender:function(){},renderHtml:function(){var a=this._layout,b=this.settings.role;this.preRender();a.preRender(this);return'<div id="'+this._id+'" class="'+this.classes()+'"'+(b?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"},postRender:function(){var b;this.items().exec("postRender");
this._super();this._layout.postRender(this);this._rendered=!0;this.settings.style&&c.css(this.getEl(),this.settings.style);this.settings.border&&(b=this.borderBox(),c.css(this.getEl(),{"border-top-width":b.top,"border-right-width":b.right,"border-bottom-width":b.bottom,"border-left-width":b.left}));this.parent()||(this.keyboardNav=new a({root:this}));return this},initLayoutRect:function(){var a=this._super();this._layout.recalc(this);return a},recalc:function(){var a=this._layoutRect,b=this._lastRect;
if(!b||b.w!=a.w||b.h!=a.h)return this._layout.recalc(this),a=this.layoutRect(),this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0},reflow:function(){var a;if(this.visible()){l.repaintControls=[];l.repaintControls.map={};this.recalc();for(a=l.repaintControls.length;a--;)l.repaintControls[a].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();l.repaintControls=[]}return this}})});y("tinymce/ui/DragHelper",["tinymce/ui/DomUtils"],function(l){return function(k,d){var h,a=
document,b,c,f,e,g;d=d||{};f=function(a){if(a.button!==b)return c(a);a.deltaX=a.screenX-e;a.deltaY=a.screenY-g;a.preventDefault();d.drag(a)};c=function(b){l.off(a,"mousemove",f);l.off(a,"mouseup",c);h.parentNode.removeChild(h);d.stop&&d.stop(b)};this.destroy=function(){l.off(a.getElementById(d.handle||k))};l.on(a.getElementById(d.handle||k),"mousedown",function(t){var u,m;m=document;var q,p,r,s,n,v;v=Math.max;u=m.documentElement;q=m.body;p=v(u.scrollWidth,q.scrollWidth);r=v(u.clientWidth,q.clientWidth);
s=v(u.offsetWidth,q.offsetWidth);m=v(u.scrollHeight,q.scrollHeight);n=v(u.clientHeight,q.clientHeight);v=v(u.offsetHeight,q.offsetHeight);u=p<s?r:p;m=m<v?n:m;t.preventDefault();b=t.button;n=a.getElementById(d.handle||k);e=t.screenX;g=t.screenY;n=window.getComputedStyle?window.getComputedStyle(n,null).getPropertyValue("cursor"):n.runtimeStyle.cursor;h=a.createElement("div");l.css(h,{position:"absolute",top:0,left:0,width:u,height:m,zIndex:2147483647,opacity:1E-4,background:"red",cursor:n});a.body.appendChild(h);
l.on(a,"mousemove",f);l.on(a,"mouseup",c);d.start(t)})}});y("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(l,k){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function d(){function c(c,g,h,k,p,r){var s,n,v;if(s=a.getEl("scroll"+c))n=g.toLowerCase(),v=h.toLowerCase(),a.getEl("absend")&&l.css(a.getEl("absend"),n,a.layoutRect()[k]-1),p?(l.css(s,"display","block"),k=a.getEl("body"),c=a.getEl("scroll"+c+"t"),p=k["client"+h]-2*b,p-=
d&&e?s["client"+r]:0,h=k["scroll"+h],h=p/h,r={},r[n]=k["offset"+g]+b,r[v]=p,l.css(s,r),r={},r[n]=k["scroll"+g]*h,r[v]=p*h,l.css(c,r)):l.css(s,"display","none")}var d,e,g;g=a.getEl("body");d=g.scrollWidth>g.clientWidth;e=g.scrollHeight>g.clientHeight;c("h","Left","Width","contentW",d,"Height");c("v","Top","Height","contentH",e,"Width")}function h(){function c(c,e,d,h,u){var m,q=a._id+"-scroll"+c,p=a.classPrefix;a.getEl().appendChild(l.createFragment('<div id="'+q+'" class="'+p+"scrollbar "+p+"scrollbar-"+
c+'"><div id="'+q+'t" class="'+p+'scrollbar-thumb"></div></div>'));a.draghelper=new k(q+"t",{start:function(){m=a.getEl("body")["scroll"+e];l.addClass(l.get(q),p+"active")},drag:function(k){var l,n,p;n=a.layoutRect();l=n.contentW>n.innerW;n=n.contentH>n.innerH;p=a.getEl("body")["client"+d]-2*b;p-=l&&n?a.getEl("scroll"+c)["client"+u]:0;l=p/a.getEl("body")["scroll"+d];a.getEl("body")["scroll"+e]=m+k["delta"+h]/l},stop:function(){l.removeClass(l.get(q),p+"active")}})}a.addClass("scroll");c("v","Top",
"Height","Y","Width");c("h","Left","Width","X","Height")}var a=this,b=2;a.settings.autoScroll&&(a._hasScroll||(a._hasScroll=!0,h(),a.on("wheel",function(b){var f=a.getEl("body");f.scrollLeft+=10*(b.deltaX||0);f.scrollTop+=10*b.deltaY;d()}),l.on(a.getEl("body"),"scroll",d)),d())}}});y("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(l,k){return l.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[k],renderHtml:function(){var d=this._layout,h=this.settings.html;
this.preRender();d.preRender(this);"undefined"==typeof h?h='<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+d.renderHtml(this)+"</div>":("function"==typeof h&&(h=h.call(this)),this._hasBody=!1);return'<div id="'+this._id+'" class="'+this.classes()+'" hideFocus="1" tabIndex="-1" role="group">'+(this._preBodyHtml||"")+h+"</div>"}})});y("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(l){function k(d,h,a){var b,c,f,e;f=l.getViewPort();b=l.getPos(h);c=b.x;b=b.y;d._fixed&&(c-=f.x,b-=
f.y);d=d.getEl();e=l.getSize(d);d=e.width;f=e.height;e=l.getSize(h);h=e.width;e=e.height;a=(a||"").split("");"b"===a[0]&&(b+=e);"r"===a[1]&&(c+=h);"c"===a[0]&&(b+=Math.round(e/2));"c"===a[1]&&(c+=Math.round(h/2));"b"===a[3]&&(b-=f);"r"===a[4]&&(c-=d);"c"===a[3]&&(b-=Math.round(f/2));"c"===a[4]&&(c-=Math.round(d/2));return{x:c,y:b,w:d,h:f}}return{testMoveRel:function(d,h){for(var a=l.getViewPort(),b=0;b<h.length;b++){var c=k(this,d,h[b]);if(this._fixed){if(0<c.x&&c.x+c.w<a.w&&0<c.y&&c.y+c.h<a.h)return h[b]}else if(c.x>
a.x&&c.x+c.w<a.w+a.x&&c.y>a.y&&c.y+c.h<a.h+a.y)return h[b]}return h[0]},moveRel:function(d,h){"string"!=typeof h&&(h=this.testMoveRel(d,h));var a=k(this,d,h);return this.moveTo(a.x,a.y)},moveBy:function(d,h){var a=this.layoutRect();this.moveTo(a.x+d,a.y+h);return this},moveTo:function(d,h){function a(a,b,c){return 0>a?0:a+c>b?(a=b-c,0>a?0:a):a}if(this.settings.constrainToViewport){var b=l.getViewPort(window),c=this.layoutRect();d=a(d,b.w+b.x,c.w);h=a(h,b.h+b.y,c.h)}this._rendered?this.layoutRect({x:d,
y:h}).repaint():(this.settings.x=d,this.settings.y=h);this.fire("move",{x:d,y:h});return this}}});y("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(l){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(k,d){if(1>=k||1>=d){var h=l.getWindowSize();k=1>=k?k*h.w:k;d=1>=d?d*h.h:d}this._layoutRect.autoResize=!1;return this.layoutRect({minW:k,minH:d,w:k,h:d}).reflow()},resizeBy:function(k,d){var h=this.layoutRect();return this.resizeTo(h.w+
k,h.h+d)}}});y("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils"],function(l,k,d,h){function a(a){var b;for(b=f.length;b--;)f[b]===a&&f.splice(b,1);for(b=e.length;b--;)e[b]===a&&e.splice(b,1)}var b,c,f=[],e=[],g,t=l.extend({Mixins:[k,d],init:function(a){function d(){var a,b=(t.zIndex||65535)+(zenarioAB.isOpen?3E5:0),c;if(e.length)for(a=0;a<e.length;a++)e[a].modal&&(b++,c=e[a]),e[a].getEl().style.zIndex=b,e[a].zIndex=b,b++;a=document.getElementById(l.classPrefix+
"modal-block");c?h.css(a,"z-index",c.zIndex-1):a&&(a.parentNode.removeChild(a),g=!1);t.currentZIndex=b}function k(a){function b(c,e){for(var d,g=0;g<f.length;g++)if(f[g]!=a)for(d=f[g].parent();d&&(d=d.parent());)d==a&&f[g].fixed(c).moveBy(0,e).repaint()}var c=h.getViewPort().y;a.settings.autofix&&(a._fixed?a._autoFixY>c&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-c)):(a._autoFixY=a.layoutRect().y,a._autoFixY<c&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,c-a._autoFixY))))}
var l=this;l._super(a);l._eventsRoot=l;l.addClass("floatpanel");a.autohide&&(b||(b=function(a){for(var b=f.length;b--;){var c=f[b],e=c.getParentCtrl(a.target);if(c.settings.autohide){if(e){var d;a:{d=e;for(var g=c;d;){if(d==g){d=!0;break a}d=d.parent()}d=void 0}if(d||c.parent()===e)continue}a=c.fire("autohide",{target:a.target});a.isDefaultPrevented()||c.hide()}}},h.on(document,"click",b)),f.push(l));a.autofix&&(c||(c=function(){var a;for(a=f.length;a--;)k(f[a])},h.on(window,"scroll",c)),l.on("move",
function(){k(this)}));l.on("postrender show",function(a){if(a.control==l){var b,c=l.classPrefix;l.modal&&!g&&(b=h.createFragment('<div id="'+c+'modal-block" class="'+c+"reset "+c+'fade"></div>'),b=b.firstChild,l.getContainerElm().appendChild(b),setTimeout(function(){h.addClass(b,c+"in");h.addClass(l.getEl(),c+"in")},0),g=!0);e.push(l);d()}});l.on("close hide",function(a){if(a.control==l){for(a=e.length;a--;)e[a]===l&&e.splice(a,1);d()}});l.on("show",function(){l.parents().each(function(a){if(a._fixed)return l.fixed(!0),
!1})});a.popover&&(l._preBodyHtml='<div class="'+l.classPrefix+'arrow"></div>',l.addClass("popover").addClass("bottom").addClass(l.isRtl()?"end":"start"))},fixed:function(a){if(this._fixed!=a){if(this._rendered){var b=h.getViewPort();a?this.layoutRect().y-=b.y:this.layoutRect().y+=b.y}this.toggleClass("fixed",a);this._fixed=a}return this},show:function(){var a,b=this._super();for(a=f.length;a--&&f[a]!==this;);-1===a&&f.push(this);return b},hide:function(){a(this);return this._super()},hideAll:function(){t.hideAll()},
close:function(){this.fire("close");return this.remove()},remove:function(){a(this);this._super()},postRender:function(){this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole);return this._super()}});t.hideAll=function(){for(var a=f.length;a--;){var b=f[a];b&&b.settings.autohide&&(b.hide(),f.splice(a,1))}};return t});y("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(l,k,d,h){return l.extend({modal:!0,
Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(a){var b=this;b._super(a);b.isRtl()&&b.addClass("rtl");b.addClass("window");b._fixed=!0;a.buttons&&(b.statusbar=new k({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:b.isRtl()?"start":"end",defaults:{type:"button"},items:a.buttons}),b.statusbar.addClass("foot"),b.statusbar.parent(b));b.on("click",
function(a){-1!=a.target.className.indexOf(b.classPrefix+"close")&&b.close()});b.on("cancel",function(){b.close()});b.aria("describedby",b.describedBy||b._id+"-none");b.aria("label",a.title);b._fullscreen=!1},recalc:function(){var a=this.statusbar,b,c,f;this._fullscreen&&(this.layoutRect(d.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);this._super();b=this.layoutRect();this.settings.title&&!this._fullscreen&&(c=b.headerW,c>b.w&&(f=b.x-Math.max(0,c/2),this.layoutRect({w:c,x:f}),
f=!0));a&&(a.layoutRect({w:this.layoutRect().innerW}).recalc(),c=a.layoutRect().minW+b.deltaW,c>b.w&&(f=b.x-Math.max(0,c-b.w),this.layoutRect({w:c,x:f}),f=!0));f&&this.recalc()},initLayoutRect:function(){var a=this._super(),b=0,c;this.settings.title&&!this._fullscreen&&(c=this.getEl("head"),c=d.getSize(c),a.headerW=c.width,a.headerH=c.height,b+=a.headerH);this.statusbar&&(b+=this.statusbar.layoutRect().h);a.deltaH+=b;a.minH+=b;a.h+=b;b=d.getWindowSize();a.x=Math.max(0,b.w/2-a.w/2);a.y=Math.max(0,
b.h/2-a.h/2);return a},renderHtml:function(){var a=this._layout,b=this._id,c=this.classPrefix,d=this.settings,e="",g="",h=d.html;this.preRender();a.preRender(this);d.title&&(e='<div id="'+b+'-head" class="'+c+'window-head"><div id="'+b+'-title" class="'+c+'title">'+this.encode(d.title)+'</div><button type="button" class="'+c+'close" aria-hidden="true">&times;</button><div id="'+b+'-dragh" class="'+c+'dragh"></div></div>');d.url&&(h='<iframe src="'+d.url+'" tabindex="-1"></iframe>');"undefined"==typeof h&&
(h=a.renderHtml(this));this.statusbar&&(g=this.statusbar.renderHtml());return'<div id="'+b+'" class="'+this.classes()+'" hideFocus="1"><div class="'+this.classPrefix+'reset" role="application">'+e+'<div id="'+b+'-body" class="'+this.classes("body")+'">'+h+"</div>"+g+"</div></div>"},fullscreen:function(a){var b=this,c=document.documentElement,f,e=b.classPrefix,g;a!=b._fullscreen&&(d.on(window,"resize",function(){var a;if(b._fullscreen)if(f)b._timer||(b._timer=setTimeout(function(){var a=d.getWindowSize();
b.moveTo(0,0).resizeTo(a.w,a.h);b._timer=0},50));else{a=(new Date).getTime();var c=d.getWindowSize();b.moveTo(0,0).resizeTo(c.w,c.h);50<(new Date).getTime()-a&&(f=!0)}}),g=b.layoutRect(),(b._fullscreen=a)?(b._initial={x:g.x,y:g.y,w:g.w,h:g.h},b._borderBox=b.parseBox("0"),b.getEl("head").style.display="none",g.deltaH-=g.headerH+2,d.addClass(c,e+"fullscreen"),d.addClass(document.body,e+"fullscreen"),b.addClass("fullscreen"),a=d.getWindowSize(),b.moveTo(0,0).resizeTo(a.w,a.h)):(b._borderBox=b.parseBox(b.settings.border),
b.getEl("head").style.display="",g.deltaH+=g.headerH,d.removeClass(c,e+"fullscreen"),d.removeClass(document.body,e+"fullscreen"),b.removeClass("fullscreen"),b.moveTo(b._initial.x,b._initial.y).resizeTo(b._initial.w,b._initial.h)));return b.reflow()},postRender:function(){var a,b,c=this;setTimeout(function(){c.addClass("in")},0);c._super();c.statusbar&&c.statusbar.postRender();c.focus();this.dragHelper=new h(c._id+"-dragh",{start:function(){a=c.layoutRect().x;b=c.layoutRect().y},drag:function(d){c.moveTo(a+
d.deltaX,b+d.deltaY)}});c.on("submit",function(a){a.isDefaultPrevented()||c.close()})},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var a=this.classPrefix;this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();this._fullscreen&&(d.removeClass(document.documentElement,a+"fullscreen"),d.removeClass(document.body,a+"fullscreen"))}})});y("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(l){var k=l.extend({init:function(d){d={border:1,
padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(d)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(d){var h,a=d.callback||function(){};switch(d.buttons){case k.OK_CANCEL:h=[{type:"button",text:"Ok",subtype:"primary",onClick:function(b){b.control.parents()[1].close();a(!0)}},{type:"button",text:"Cancel",onClick:function(b){b.control.parents()[1].close();
a(!1)}}];break;case k.YES_NO:h=[{type:"button",text:"Ok",subtype:"primary",onClick:function(b){b.control.parents()[1].close();a(!0)}}];break;case k.YES_NO_CANCEL:h=[{type:"button",text:"Ok",subtype:"primary",onClick:function(a){a.control.parents()[1].close()}}];break;default:h=[{type:"button",text:"Ok",subtype:"primary",onClick:function(b){b.control.parents()[1].close();a(!0)}}]}return(new l({padding:20,x:d.x,y:d.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:h,title:d.title,
role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:d.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:d.onClose,onCancel:function(){a(!1)}})).renderTo(document.body).reflow()},alert:function(d,h){"string"==typeof d&&(d={text:d});d.callback=h;return k.msgBox(d)},confirm:function(d,h){"string"==typeof d&&(d={text:d});d.callback=h;d.buttons=k.OK_CANCEL;return k.msgBox(d)}}});return k});y("tinymce/WindowManager",["tinymce/ui/Window",
"tinymce/ui/MessageBox"],function(l,k){return function(d){function h(){if(a.length)return a[a.length-1]}var a=[];this.windows=a;this.open=function(b,c){var f;d.editorManager.activeEditor=d;b.title=b.title||" ";b.url=b.url||b.file;b.url&&(b.width=parseInt(b.width||320,10),b.height=parseInt(b.height||240,10));b.body&&(b.items={defaults:b.defaults,type:b.bodyType||"form",items:b.body});b.url||b.buttons||(b.buttons=[{text:"Ok",subtype:"primary",onclick:function(){f.find("form")[0].submit();f.close()}},
{text:"Cancel",onclick:function(){f.close()}}]);f=new l(b);a.push(f);f.on("close",function(){for(var b=a.length;b--;)a[b]===f&&a.splice(b,1);d.focus()});if(b.data)f.on("postRender",function(){this.find("*").each(function(a){var c=a.name();c in b.data&&a.value(b.data[c])})});f.features=b||{};f.params=c||{};d.nodeChanged();return f.renderTo(document.body).reflow()};this.alert=function(a,c,f){k.alert(a,function(){c?c.call(f||this):d.focus()})};this.confirm=function(a,c,d){k.confirm(a,function(a){c.call(d||
this,a)})};this.close=function(){h()&&h().close()};this.getParams=function(){return h()?h().params:null};this.setParams=function(a){h()&&(h().params=a)}}});y("tinymce/util/Quirks","tinymce/util/VK tinymce/dom/RangeUtils tinymce/html/Node tinymce/html/Entities tinymce/Env tinymce/util/Tools".split(" "),function(l,k,d,h,a,b){return function(c){function f(a,b){try{c.getDoc().execCommand(a,!1,b)}catch(e){}}function e(){var a=c.getDoc().documentMode;return a?a:6}function g(){function a(e){var d=new MutationObserver(function(){});
b.each(c.getBody().getElementsByTagName("*"),function(a){"SPAN"==a.tagName&&a.setAttribute("mce-data-marked",1);!a.hasAttribute("data-mce-style")&&a.hasAttribute("style")&&c.dom.setAttrib(a,"style",a.getAttribute("style"))});d.observe(c.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]});c.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null);var f=c.selection.getRng(),g=f.startContainer.parentNode;b.each(d.takeRecords(),function(a){if("style"==a.attributeName){var e=a.target.getAttribute("data-mce-style");
e?a.target.setAttribute("style",e):a.target.removeAttribute("style")}b.each(a.addedNodes,function(a){if("SPAN"==a.nodeName&&!a.getAttribute("mce-data-marked")){var b,e;a==g&&(b=f.startOffset,e=a.firstChild);D.remove(a,!0);e&&(f.setStart(e,b),f.setEnd(e,b),c.selection.setRng(f))}})});d.disconnect();b.each(c.dom.select("span[mce-data-marked]"),function(a){a.removeAttribute("mce-data-marked")})}var e=c.getDoc();window.MutationObserver&&(c.on("keydown",function(b){var e=b.keyCode==L,d=l.metaKeyPressed(b);
if(!b.isDefaultPrevented()&&(e||b.keyCode==H)){var f=c.selection.getRng(),g=f.startContainer,h=f.startOffset;!d&&f.collapsed&&3==g.nodeType&&(e?h<g.data.length:0<h)||(b.preventDefault(),d&&c.selection.getSel().modify("extend",e?"forward":"backward","word"),a(e))}}),c.on("keypress",function(b){b.isDefaultPrevented()||I.isCollapsed()||!b.charCode||l.metaKeyPressed(b)||(b.preventDefault(),a(!0),c.selection.setContent(String.fromCharCode(b.charCode)))}),c.addCommand("Delete",function(){a()}),c.addCommand("ForwardDelete",
function(){a(!0)}),c.on("dragstart",function(a){a.dataTransfer.setData("URL","data:text/mce-internal,"+escape(c.selection.getContent()))}),c.on("drop",function(b){if(!b.isDefaultPrevented()){var d=b.dataTransfer.getData("URL");d&&-1!=d.indexOf("data:text/mce-internal,")&&e.caretRangeFromPoint&&(d=unescape(d.substr(23)),e.caretRangeFromPoint&&(b.preventDefault(),a(),c.selection.setRng(e.caretRangeFromPoint(b.x,b.y)),c.insertContent(d)))}}),c.on("cut",function(b){!b.isDefaultPrevented()&&b.clipboardData&&
(b.preventDefault(),b.clipboardData.clearData(),b.clipboardData.setData("text/html",c.selection.getContent()),b.clipboardData.setData("text/plain",c.selection.getContent({format:"text"})),a(!0))}))}function t(){c.on("keydown",function(a){!a.isDefaultPrevented()&&65==a.keyCode&&l.metaKeyPressed(a)&&(a.preventDefault(),c.execCommand("SelectAll"))})}function u(){c.settings.content_editable||(D.bind(c.getDoc(),"focusin",function(){I.setRng(I.getRng())}),D.bind(c.getDoc(),"mousedown",function(a){a.target==
c.getDoc().documentElement&&(c.getBody().focus(),I.setRng(I.getRng()))}))}function m(){c.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===H&&I.isCollapsed()&&0===I.getRng(!0).startOffset){var b=I.getNode(),c=b.previousSibling;"HR"==b.nodeName?(D.remove(b),a.preventDefault()):c&&c.nodeName&&"hr"===c.nodeName.toLowerCase()&&(D.remove(c),a.preventDefault())}})}function q(){if(!window.Range.prototype.getClientRects)c.on("mousedown",function(a){if(!a.isDefaultPrevented()&&"HTML"===a.target.nodeName){var b=
c.getBody();b.blur();setTimeout(function(){b.focus()},0)}})}function p(){c.on("click",function(a){a=a.target;/^(IMG|HR)$/.test(a.nodeName)&&I.getSel().setBaseAndExtent(a,0,a,1);"A"==a.nodeName&&D.hasClass(a,"mce-item-anchor")&&I.select(a);c.nodeChanged()})}function r(){function a(){var b=D.getAttribs(I.getStart().cloneNode(!1));return function(){var a=I.getStart();a!==c.getBody()&&(D.setAttrib(a,"style",null),x(b,function(b){a.setAttributeNode(b.cloneNode(!0))}))}}function b(){return!I.isCollapsed()&&
D.getParent(I.getStart(),D.isBlock)!=D.getParent(I.getEnd(),D.isBlock)}c.on("keypress",function(e){var d;if(!e.isDefaultPrevented()&&(8==e.keyCode||46==e.keyCode)&&b())return d=a(),c.getDoc().execCommand("delete",!1,null),d(),e.preventDefault(),!1});D.bind(c.getDoc(),"cut",function(c){var e;!c.isDefaultPrevented()&&b()&&(e=a(),setTimeout(function(){e()},0))})}function s(){var a,b;c.on("selectionchange",function(){b&&(clearTimeout(b),b=0);b=window.setTimeout(function(){var b=I.getRng();a&&k.compareRanges(b,
a)||(c.nodeChanged(),a=b)},50)})}function n(){7<e()||(f("RespectVisibilityInDesign",!0),c.contentStyles.push(".mceHideBrInPre pre br {display: none}"),D.addClass(c.getBody(),"mceHideBrInPre"),N.addNodeFilter("pre",function(a){for(var b=a.length,c,e,f,g;b--;)for(c=a[b].getAll("br"),e=c.length;e--;)f=c[e],(g=f.prev)&&3===g.type&&"\n"!=g.value.charAt(g.value-1)?g.value+="\n":f.parent.insert(new d("#text",3),f,!0).value="\n"}),T.addNodeFilter("pre",function(a){for(var b=a.length,c,e,d;b--;)for(c=a[b].getAll("br"),
e=c.length;e--;)d=c[e],(d=d.prev)&&3==d.type&&(d.value=d.value.replace(/\r?\n$/,""))}))}function v(){D.bind(c.getBody(),"mouseup",function(){var a,b=I.getNode();if("IMG"==b.nodeName){if(a=D.getStyle(b,"width"))D.setAttrib(b,"width",a.replace(/[^0-9%]+/g,"")),D.setStyle(b,"width","");if(a=D.getStyle(b,"height"))D.setAttrib(b,"height",a.replace(/[^0-9%]+/g,"")),D.setStyle(b,"height","")}})}function w(){function a(){c._refreshContentEditable();f("StyleWithCSS",!1);f("enableInlineTableEditing",!1);O.object_resizing||
f("enableObjectResizing",!1)}if(!O.readonly)c.on("BeforeExecCommand MouseDown",a)}function F(){function a(){x(D.select("a"),function(a){var b=a.parentNode,c=D.getRoot();if(b.lastChild===a){for(;b&&!D.isBlock(b);){if(b.parentNode.lastChild!==b||b===c)return;b=b.parentNode}D.add(b,"br",{"data-mce-bogus":1})}})}c.on("SetContent ExecCommand",function(b){"setcontent"!=b.type&&"mceInsertLink"!==b.command||a()})}function C(){if(O.forced_root_block)c.on("init",function(){f("DefaultParagraphSeparator",O.forced_root_block)})}
function y(){c.on("Undo Redo SetContent",function(a){a.initial||c.execCommand("mceRepaint")})}function B(){c.on("keydown",function(a){var b;a.isDefaultPrevented()||a.keyCode!=H||(b=c.getDoc().selection.createRange())&&b.item&&(a.preventDefault(),c.undoManager.beforeChange(),D.remove(b.item(0)),c.undoManager.add())})}function z(){var a;10<=e()&&(a="",x("p div h1 h2 h3 h4 h5 h6".split(" "),function(b,c){a+=(0<c?",":"")+b+":empty"}),c.contentStyles.push(a+"{padding-right: 1px !important}"))}function J(){9>
e()&&(N.addNodeFilter("noscript",function(a){for(var b=a.length,c,e;b--;)c=a[b],(e=c.firstChild)&&c.attr("data-mce-innertext",e.value)}),T.addNodeFilter("noscript",function(a){for(var b=a.length,c,e,f;b--;)if(c=a[b],e=a[b].firstChild)e.value=h.decode(e.value);else if(f=c.attributes.map["data-mce-innertext"])c.attr("data-mce-innertext",null),e=new d("#text",3),e.value=f,e.raw=!0,c.append(e)}))}function A(){function a(b,c){var e=d.createTextRange();try{e.moveToPoint(b,c)}catch(f){e=null}return e}function b(e){if(e.button){if(e=
a(e.x,e.y))0<e.compareEndPoints("StartToStart",g)?e.setEndPoint("StartToStart",g):e.setEndPoint("EndToEnd",g),e.select()}else c()}function c(){var a=e.selection.createRange();g&&!a.item&&0===a.compareEndPoints("StartToEnd",a)&&g.select();D.unbind(e,"mouseup",c);D.unbind(e,"mousemove",b);g=f=0}var e=D.doc,d=e.body,f,g,h;e.documentElement.unselectable=!0;D.bind(e,"mousedown contextmenu",function(d){"HTML"===d.target.nodeName&&(f&&c(),h=e.documentElement,!(h.scrollHeight>h.clientHeight)&&(f=1,g=a(d.x,
d.y)))&&(D.bind(e,"mouseup",c),D.bind(e,"mousemove",b),D.getRoot().focus(),g.select())})}function M(){if(!c.inline)c.on("keydown",function(){document.activeElement==document.body&&c.getWin().focus()})}function E(){c.inline||(c.contentStyles.push("body {min-height: 150px}"),c.on("click",function(a){"HTML"==a.target.nodeName&&(c.getBody().focus(),c.selection.normalize(),c.nodeChanged())}))}function K(){if(a.mac)c.on("keydown",function(a){!l.metaKeyPressed(a)||37!=a.keyCode&&39!=a.keyCode||(a.preventDefault(),
c.selection.getSel().modify("move",37==a.keyCode?"backward":"forward","word"))})}function P(){if(!c.inline)c.on("focus blur",function(){var a=c.dom.create("br");c.getBody().appendChild(a);a.parentNode.removeChild(a)},!0)}var x=b.each,H=l.BACKSPACE,L=l.DELETE,D=c.dom,I=c.selection,O=c.settings,N=c.parser,T=c.serializer,S=a.gecko,R=a.ie,U=a.webkit;(function(){c.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===H&&I.isCollapsed()&&0===I.getRng(!0).startOffset){var b=I.getNode().previousSibling;
if(b&&b.nodeName&&"table"===b.nodeName.toLowerCase())return a.preventDefault(),!1}})})();(function(){c.on("keydown",function(a){var b,e,d,f;if(!a.isDefaultPrevented()&&a.keyCode==l.BACKSPACE&&(a=I.getRng(),b=a.startContainer,e=a.startOffset,d=D.getRoot(),f=b,a.collapsed&&0===e)){for(;f&&f.parentNode&&f.parentNode.firstChild==f&&f.parentNode!=d;)f=f.parentNode;"BLOCKQUOTE"===f.tagName&&(c.formatter.toggle("blockquote",null,f),a=D.createRng(),a.setStart(b,0),a.setEnd(b,0),I.setRng(a))}})})();(function(){function a(b){var c=
D.create("body");b=b.cloneContents();c.appendChild(b);return I.serializer.serialize(c,{format:"html"})}c.on("keydown",function(b){var e=b.keyCode,d;if(!b.isDefaultPrevented()&&(e==L||e==H)&&(d=c.selection.isCollapsed(),e=c.getBody(),!d||D.isEmpty(e))){if(d=!d){d=c.selection.getRng();if(d.setStart){d=a(d);var f=D.createRng();f.selectNode(c.getBody());f=a(f);d=d===f}else d.item?d=!1:(f=d.duplicate(),f.moveToElementText(c.getBody()),d=k.compareRanges(d,f));d=!d}d||(b.preventDefault(),c.setContent(""),
e.firstChild&&D.isBlock(e.firstChild)?c.selection.setCursorLocation(e.firstChild,0):c.selection.setCursorLocation(e,0),c.nodeChanged())}})})();(function(){c.on("keyup focusin",function(a){65==a.keyCode&&l.metaKeyPressed(a)||I.normalize()})})();U&&(g(),u(),p(),C(),a.iOS?(s(),M(),E()):t());R&&11>a.ie&&(m(),document.body.setAttribute("role","application"),n(),v(),B(),z(),J(),A());11<=a.ie&&(E(),P());a.ie&&(t(),f("AutoUrlDetect",!1));S&&(m(),q(),r(),w(),F(),y(),c.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),
K())}});y("tinymce/util/Observable",["tinymce/util/Tools"],function(l){function k(){return!1}function d(){return!0}var h=l.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragstart dragend dragover draggesture dragdrop drop drag"," ");return{fire:function(a,b,c){var f,e,g,h;if(!this.removed){a=a.toLowerCase();b=b||{};b.type=a;b.target||(b.target=this);b.preventDefault||
(b.preventDefault=function(){b.isDefaultPrevented=d},b.stopPropagation=function(){b.isPropagationStopped=d},b.stopImmediatePropagation=function(){b.isImmediatePropagationStopped=d},b.isDefaultPrevented=k,b.isPropagationStopped=k,b.isImmediatePropagationStopped=k);if(this.__bindings&&(f=this.__bindings[a]))for(e=0,g=f.length;e<g;e++){f[e]=h=f[e];if(b.isImmediatePropagationStopped())break;if(!1===h.call(this,b))return b.preventDefault(),b}if(!1!==c&&this.parent)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,
b,!1),c=c.parent();return b}},on:function(a,b,c){var d,e,g,k;!1===b&&(b=function(){return!1});if(b)for(g=a.toLowerCase().split(" "),k=g.length;k--;)a=g[k],(d=this.__bindings)||(d=this.__bindings={}),e=d[a],e||(e=d[a]=[],this.bindNative&&h[a]&&this.bindNative(a)),c?e.unshift(b):e.push(b);return this},off:function(a,b){var c,d=this.__bindings,e,g,k,l;if(d)if(a&&!{object:1,"function":1}[typeof a])for(k=a.toLowerCase().split(" "),c=k.length;c--;){a=k[c];e=d[a];if(!a){for(g in d)d[a].length=0;break}if(e){if(b)for(l=
e.length;l--;)e[l]===b&&e.splice(l,1);else e.length=0;!e.length&&this.unbindNative&&h[a]&&(this.unbindNative(a),delete d[a])}}else{if(this.unbindNative)for(a in d)this.unbindNative(a);this.__bindings=[]}return this},hasEventListeners:function(a){var b=this.__bindings;a=a.toLowerCase();return!(!b||!b[a]||0===b[a].length)}}});y("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(l,k){var d=l.each,h=l.explode,a={f9:120,f10:121,f11:122};return function(b){var c={};b.on("keyup keypress keydown",
function(a){(a.altKey||a.ctrlKey||a.metaKey)&&d(c,function(b){if(b.ctrl==(k.mac?a.metaKey:a.ctrlKey)&&b.alt==a.altKey&&b.shift==a.shiftKey&&(a.keyCode==b.keyCode||a.charCode&&a.charCode==b.charCode))return a.preventDefault(),"keydown"==a.type&&b.func.call(b.scope),!0})});this.add=function(f,e,g,k){var u;u=g;"string"===typeof g?g=function(){b.execCommand(u,!1,null)}:l.isArray(u)&&(g=function(){b.execCommand(u[0],u[1],u[2])});d(h(f.toLowerCase()),function(f){var l={func:g,scope:k||b,desc:b.translate(e),
alt:!1,ctrl:!1,shift:!1};d(h(f,"+"),function(b){switch(b){case "alt":case "ctrl":case "shift":l[b]=!0;break;default:l.charCode=b.charCodeAt(0),l.keyCode=a[b]||b.toUpperCase().charCodeAt(0)}});c[(l.ctrl?"ctrl":"")+","+(l.alt?"alt":"")+","+(l.shift?"shift":"")+","+l.keyCode]=l});return!0}}});y("tinymce/Editor","tinymce/dom/DOMUtils tinymce/AddOnManager tinymce/html/Node tinymce/dom/Serializer tinymce/html/Serializer tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/dom/ScriptLoader tinymce/dom/EventUtils tinymce/WindowManager tinymce/html/Schema tinymce/html/DomParser tinymce/util/Quirks tinymce/Env tinymce/util/Tools tinymce/util/Observable tinymce/Shortcuts".split(" "),
function(l,k,d,h,a,b,c,f,e,g,t,u,m,q,p,r,s,n,v,w,F,C){function y(a,b){return"selectionchange"==b||!a.inline&&/^mouse|click|contextmenu|drop/.test(b)?a.getDoc():a.getBody()}function B(a,b,c){var e,d;e=this.documentBaseUrl=c.documentBaseURL;d=c.baseURI;this.settings=b=M({id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,
doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",
indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:this.convertURL,url_converter_scope:this,ie7_compat:!0},b);k.language=b.language||"en";k.languageLoad=b.language_load;k.baseURL=c.baseURL;this.id=b.id=a;this.isNotDirty=!0;this.plugins={};this.documentBaseURI=new u(b.document_base_url||e,{base_uri:d});this.baseURI=d;this.contentCSS=
[];this.contentStyles=[];this.shortcuts=new C(this);this.execCommands={};this.queryStateCommands={};this.queryValueCommands={};this.loadedCSS={};this.suffix=c.suffix;this.editorManager=c;this.inline=b.inline;c.fire("SetupEditor",this);this.execCallback("setup",this)}var z=l.DOM,J=k.ThemeManager,A=k.PluginManager,M=w.extend,E=w.each,K=w.explode,W=w.inArray,x=w.trim,H=w.resolve,L=q.Event,D=v.gecko,I=v.ie;B.prototype={render:function(){function a(){z.unbind(window,"ready",a);c.render()}function b(){var a=
m.ScriptLoader;e.language&&"en"!=e.language&&!e.language_url&&(e.language_url=c.editorManager.baseURL+"/langs/"+e.language+".js");e.language_url&&a.add(e.language_url);if(e.theme&&"function"!=typeof e.theme&&"-"!=e.theme.charAt(0)&&!J.urls[e.theme]){var d=e.theme_url,d=d?c.documentBaseURI.toAbsolute(d):"themes/"+e.theme+"/theme"+f+".js";J.load(e.theme,d)}w.isArray(e.plugins)&&(e.plugins=e.plugins.join(" "));E(e.external_plugins,function(a,b){A.load(b,a);e.plugins+=" "+b});E(e.plugins.split(/[ ,]/),
function(a){(a=x(a))&&!A.urls[a]&&("-"==a.charAt(0)?(a=a.substr(1,a.length),a=A.dependencies(a),E(a,function(a){a=A.createUrl({prefix:"plugins/",resource:a,suffix:"/plugin"+f+".js"},a);A.load(a.resource,a)})):A.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+f+".js"}))});a.loadQueue(function(){c.removed||c.init()})}var c=this,e=c.settings,d=c.id,f=c.suffix;if(!L.domLoaded)z.bind(window,"ready",a);else if(c.getElement()&&v.contentEditable){e.inline?c.inline=!0:(c.orgVisibility=c.getElement().style.visibility,
c.getElement().style.visibility="hidden");var g=c.getElement().form||z.getParent(d,"form");g&&(c.formElement=g,e.hidden_input&&!/TEXTAREA|INPUT/i.test(c.getElement().nodeName)&&(z.insertAfter(z.create("input",{type:"hidden",name:d}),d),c.hasHiddenInput=!0),c.formEventDelegate=function(a){c.fire(a.type,a)},z.bind(g,"submit reset",c.formEventDelegate),c.on("reset",function(){c.setContent(c.startContent,{format:"raw"})}),!e.submit_patch||g.submit.nodeType||g.submit.length||g._mceOldSubmit||(g._mceOldSubmit=
g.submit,g.submit=function(){c.editorManager.triggerSave();c.isNotDirty=!0;return g._mceOldSubmit(g)}));c.windowManager=new p(c);if("xml"==e.encoding)c.on("GetContent",function(a){a.save&&(a.content=z.encode(a.content))});if(e.add_form_submit_trigger)c.on("submit",function(){c.initialized&&c.save()});e.add_unload_trigger&&(c._beforeUnload=function(){!c.initialized||c.destroyed||c.isHidden()||c.save({format:"raw",no_events:!0,set_dirty:!1})},c.editorManager.on("BeforeUnload",c._beforeUnload));b()}},
init:function(){function a(c){var e=A.get(c),d;d=A.urls[c]||b.documentBaseUrl.replace(/\/$/,"");c=x(c);e&&-1===W(l,c)&&(E(A.dependencies(c),function(b){a(b)}),e=new e(b,d),b.plugins[c]=e,e.init&&(e.init(b,d),l.push(c)))}var b=this,c=b.settings,e=b.getElement(),d,f,g,h,k,l=[];b.rtl=this.editorManager.i18n.rtl;b.editorManager.add(b);c.aria_label=c.aria_label||z.getAttrib(e,"aria-label",b.getLang("aria.rich_text_area"));c.theme&&("function"!=typeof c.theme?(c.theme=c.theme.replace(/-/,""),d=J.get(c.theme),
b.theme=new d(b,J.urls[c.theme]),b.theme.init&&b.theme.init(b,J.urls[c.theme]||b.documentBaseUrl.replace(/\/$/,""))):b.theme=c.theme);E(c.plugins.replace(/\-/g,"").split(/[ ,]/),a);c.render_ui&&b.theme&&(b.orgDisplay=e.style.display,"function"!=typeof c.theme?(d=c.width||e.style.width||e.offsetWidth,f=c.height||e.style.height||e.offsetHeight,g=c.min_height||100,h=/^[0-9\.]+(|px)$/i,h.test(""+d)&&(d=Math.max(parseInt(d,10),100)),h.test(""+f)&&(f=Math.max(parseInt(f,10),g)),h=b.theme.renderUI({targetNode:e,
width:d,height:f,deltaWidth:c.delta_width,deltaHeight:c.delta_height}),c.content_editable||(z.setStyles(h.sizeContainer||h.editorContainer,{wi2dth:d,h2eight:f}),f=(h.iframeHeight||f)+("number"==typeof f?h.deltaHeight||0:""),f<g&&(f=g))):(h=c.theme(b,e),h.editorContainer.nodeType&&(h.editorContainer=h.editorContainer.id=h.editorContainer.id||b.id+"_parent"),h.iframeContainer.nodeType&&(h.iframeContainer=h.iframeContainer.id=h.iframeContainer.id||b.id+"_iframecontainer"),f=h.iframeHeight||e.offsetHeight),
b.editorContainer=h.editorContainer);c.content_css&&E(K(c.content_css),function(a){b.contentCSS.push(b.documentBaseURI.toAbsolute(a))});c.content_style&&b.contentStyles.push(c.content_style);if(c.content_editable)return e=f=h=null,b.initContentBody();b.iframeHTML=c.doctype+"<html><head>";c.document_base_url!=b.documentBaseUrl&&(b.iframeHTML+='<base href="'+b.documentBaseURI.getURI()+'" />');!v.caretAfter&&c.ie7_compat&&(b.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />');b.iframeHTML+=
'<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(e=0;e<b.contentCSS.length;e++)d=b.contentCSS[e],b.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+d+'" />',b.loadedCSS[d]=!0;e=c.body_id||"tinymce";-1!=e.indexOf("=")&&(e=b.getParam("body_id","","hash"),e=e[b.id]||e);c=c.body_class||"";-1!=c.indexOf("=")&&(c=b.getParam("body_class","","hash"),c=c[b.id]||"");b.iframeHTML+='</head><body id="'+e+'" class="mce-content-body '+c+'" onload="window.parent.tinymce.get(\''+
b.id+"').fire('load');\"><br></body></html>";c='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+b.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&(k=c);f=z.add(h.iframeContainer,"iframe",{id:b.id+"_ifr",src:k||'javascript:""',frameBorder:"0",allowTransparency:"true",title:b.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),
style:{width:"100%",height:f,display:"block"}});if(I)try{b.getDoc()}catch(n){f.src=k=c}b.contentAreaContainer=h.iframeContainer;h.editorContainer&&(z.get(h.editorContainer).style.display=b.orgDisplay);z.get(b.id).style.display="none";z.setAttrib(b.id,"aria-hidden",!0);k||b.initContentBody();e=f=h=null},initContentBody:function(a){var k=this,m=k.settings,p=z.get(k.id),q=k.getDoc(),v;m.inline||(k.getElement().style.visibility=k.orgVisibility);a||m.content_editable||(q.open(),q.write(k.iframeHTML),q.close());
m.content_editable&&(k.on("remove",function(){var a=this.getBody();z.removeClass(a,"mce-content-body");z.removeClass(a,"mce-edit-focus");z.setAttrib(a,"tabIndex",null);z.setAttrib(a,"contentEditable",null)}),z.addClass(p,"mce-content-body"),p.tabIndex=-1,k.contentDocument=q=m.content_document||document,k.contentWindow=m.content_window||window,k.bodyElement=p,m.content_document=m.content_window=null,m.root_name=p.nodeName.toLowerCase());a=k.getBody();a.disabled=!0;m.readonly||(k.inline&&"static"==
z.getStyle(a,"position",!0)&&(a.style.position="relative"),a.contentEditable=k.getParam("content_editable_state",!0));a.disabled=!1;k.schema=new r(m);k.dom=new l(q,{keep_values:!0,url_converter:k.convertURL,url_converter_scope:k,hex_colors:m.force_hex_style_colors,class_filter:m.class_filter,update_styles:!0,root_element:m.content_editable?k.id:null,collect:m.content_editable,schema:k.schema,onSetAttrib:function(a){k.fire("SetAttrib",a)}});k.parser=new s(m,k.schema);k.parser.addAttributeFilter("src,href,style",
function(a,b){for(var c=a.length,e,d=k.dom,f,g;c--;)e=a[c],f=e.attr(b),g="data-mce-"+b,e.attributes.map[g]||("style"===b?e.attr(g,d.serializeStyle(d.parseStyle(f),e.name)):e.attr(g,k.convertURL(f,b,e.name)))});k.parser.addNodeFilter("script",function(a){for(var b=a.length,c;b--;)c=a[b],c.attr("type","mce-"+(c.attr("type")||"text/javascript"))});k.parser.addNodeFilter("#cdata",function(a){for(var b=a.length,c;b--;)c=a[b],c.type=8,c.name="#comment",c.value="[CDATA["+c.value+"]]"});k.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",
function(a){for(var b=a.length,c,e=k.schema.getNonEmptyElements();b--;)c=a[b],c.isEmpty(e)&&(c.empty().append(new d("br",1)).shortEnded=!0)});k.serializer=new h(m,k);k.selection=new b(k.dom,k.getWin(),k.serializer,k);k.formatter=new c(k);k.undoManager=new f(k);k.forceBlocks=new g(k);k.enterKey=new e(k);k.editorCommands=new t(k);k.fire("PreInit");m.browser_spellcheck||m.gecko_spellcheck||(q.body.spellcheck=!1,z.setAttrib(a,"spellcheck","false"));k.fire("PostRender");k.quirks=n(k);m.directionality&&
(a.dir=m.directionality);m.nowrap&&(a.style.whiteSpace="nowrap");if(m.protect)k.on("BeforeSetContent",function(a){E(m.protect,function(b){a.content=a.content.replace(b,function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});k.on("SetContent",function(){k.addVisual(k.getBody())});if(m.padd_empty_editor)k.on("PostProcess",function(a){a.content=a.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")});k.load({initial:!0,format:"html"});k.startContent=k.getContent({format:"raw"});
k.initialized=!0;E(k._pendingNativeEvents,function(a){k.dom.bind(y(k,a),a,function(a){k.fire(a.type,a)})});k.fire("init");k.focus(!0);k.nodeChanged({initial:!0});k.execCallback("init_instance_callback",k);0<k.contentStyles.length&&(v="",E(k.contentStyles,function(a){v+=a+"\r\n"}),k.dom.addStyle(v));E(k.contentCSS,function(a){k.loadedCSS[a]||(k.dom.loadCSS(a),k.loadedCSS[a]=!0)});m.auto_focus&&setTimeout(function(){var a=k.editorManager.get(m.auto_focus);a.selection.select(a.getBody(),1);a.selection.collapse(1);
a.getBody().focus();a.getWin().focus()},100);p=q=a=null},focus:function(a){var b,c=this.selection,e=this.settings.content_editable,d,f=this.getDoc();if(!a){a=c.getRng();a.item&&(d=a.item(0));this._refreshContentEditable();e||(v.opera||this.getBody().focus(),this.getWin().focus());if(D||e)a=this.getBody(),a.setActive&&11>v.ie?a.setActive():a.focus(),e&&c.normalize();d&&d.ownerDocument==f&&(a=f.body.createControlRange(),a.addElement(d),a.select())}this.editorManager.activeEditor!=this&&((b=this.editorManager.activeEditor)&&
b.fire("deactivate",{relatedTarget:this}),this.fire("activate",{relatedTarget:b}));this.editorManager.activeEditor=this},execCallback:function(a){var b=this.settings[a],c;if(b)return this.callbackLookup&&(c=this.callbackLookup[a])&&(b=c.func,c=c.scope),"string"===typeof b&&(c=(c=b.replace(/\.\w+$/,""))?H(c):0,b=H(b),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:b,scope:c}),b.apply(c||this,Array.prototype.slice.call(arguments,1))},translate:function(a){var b=this.settings.language||
"en",c=this.editorManager.i18n;return a?c.data[b+"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(a,e){return c.data[b+"."+e]||"{#"+e+"}"}):""},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==P?b:"{#"+a+"}")},getParam:function(a,b,c){a=a in this.settings?this.settings[a]:b;var e;return"hash"===c?(e={},"string"===typeof a?E(0<a.indexOf("=")?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(a){a=a.split("=");1<a.length?e[x(a[0])]=x(a[1]):e[x(a[0])]=
x(a)}):e=a,e):a},nodeChanged:function(){var a=this.selection,b,c,e;!this.initialized||this.settings.disable_nodechange||this.settings.readonly||(e=this.getBody(),b=a.getStart()||e,b=I&&b.ownerDocument!=this.getDoc()?this.getBody():b,"IMG"==b.nodeName&&a.isCollapsed()&&(b=b.parentNode),c=[],this.dom.getParent(b,function(a){if(a===e)return!0;c.push(a)}),this.fire("NodeChange",{element:b,parents:c}))},addButton:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});b.text||b.icon||
(b.icon=a);c.buttons=c.buttons||{};b.tooltip=b.tooltip||b.title;c.buttons[a]=b},addMenuItem:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});c.menuItems=c.menuItems||{};c.menuItems[a]=b},addCommand:function(a,b,c){this.execCommands[a]={func:b,scope:c||this}},addQueryStateHandler:function(a,b,c){this.queryStateCommands[a]={func:b,scope:c||this}},addQueryValueHandler:function(a,b,c){this.queryValueCommands[a]={func:b,scope:c||this}},addShortcut:function(a,b,c,e){this.shortcuts.add(a,
b,c,e)},execCommand:function(a,b,c,e){var d=this,f=0,g;/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(a)||e&&e.skip_focus||d.focus();e=M({},e);e=d.fire("BeforeExecCommand",{command:a,ui:b,value:c});if(e.isDefaultPrevented())return!1;if((g=d.execCommands[a])&&!0!==g.func.call(g.scope,b,c))return d.fire("ExecCommand",{command:a,ui:b,value:c}),!0;E(d.plugins,function(e){if(e.execCommand&&e.execCommand(a,b,c))return d.fire("ExecCommand",{command:a,ui:b,value:c}),f=!0,!1});if(f)return f;
if(d.theme&&d.theme.execCommand&&d.theme.execCommand(a,b,c)||d.editorCommands.execCommand(a,b,c))return d.fire("ExecCommand",{command:a,ui:b,value:c}),!0;d.getDoc().execCommand(a,b,c);d.fire("ExecCommand",{command:a,ui:b,value:c})},queryCommandState:function(a){var b;if(!this._isHidden()){if(b=this.queryStateCommands[a])if(b=b.func.call(b.scope),!0!==b)return b;b=this.editorCommands.queryCommandState(a);if(-1!==b)return b;try{return this.getDoc().queryCommandState(a)}catch(c){}}},queryCommandValue:function(a){var b;
if(!this._isHidden()){if(b=this.queryValueCommands[a])if(b=b.func.call(b.scope),!0!==b)return b;b=this.editorCommands.queryCommandValue(a);if(b!==P)return b;try{return this.getDoc().queryCommandValue(a)}catch(c){}}},show:function(){z.show(this.getContainer());z.hide(this.id);this.load();this.fire("show")},hide:function(){var a=this.getDoc();I&&a&&!this.inline&&a.execCommand("SelectAll");this.save();z.hide(this.getContainer());z.setStyle(this.id,"display",this.orgDisplay);this.fire("hide")},isHidden:function(){return!z.isHidden(this.id)},
setProgressState:function(a,b){this.fire("ProgressState",{state:a,time:b})},load:function(a){var b=this.getElement(),c;if(b)return a=a||{},a.load=!0,c=this.setContent(b.value!==P?b.value:b.innerHTML,a),a.element=b,a.no_events||this.fire("LoadContent",a),a.element=null,c},save:function(a){var b=this,c=b.getElement(),e,d;if(c&&b.initialized)return a=a||{},a.save=!0,a.element=c,e=a.content=b.getContent(a),a.no_events||b.fire("SaveContent",a),e=a.content,/TEXTAREA|INPUT/i.test(c.nodeName)?c.value=e:(b.inline||
(c.innerHTML=e),(d=z.getParent(b.id,"form"))&&E(d.elements,function(a){if(a.name==b.id)return a.value=e,!1})),a.element=c=null,!1!==a.set_dirty&&(b.isNotDirty=!0),e},setContent:function(b,c){var e=this.getBody(),d;c=c||{};c.format=c.format||"html";c.set=!0;c.content=b;c.no_events||this.fire("BeforeSetContent",c);b=c.content;0===b.length||/^\s+$/.test(b)?((d=this.settings.forced_root_block)&&this.schema.isValidChild(e.nodeName.toLowerCase(),d.toLowerCase())?(b=I&&11>I?"":'<br data-mce-bogus="1">',
b=this.dom.createHTML(d,this.settings.forced_root_block_attrs,b)):I||(b='<br data-mce-bogus="1">'),e.innerHTML=b,this.fire("SetContent",c)):("raw"!==c.format&&(b=(new a({},this.schema)).serialize(this.parser.parse(b,{isRootContent:!0}))),c.content=x(b),this.dom.setHTML(e,c.content),c.no_events||this.fire("SetContent",c));return c.content},getContent:function(a){var b;b=this.getBody();a=a||{};a.format=a.format||"html";a.get=!0;a.getInner=!0;a.no_events||this.fire("BeforeGetContent",a);b="raw"==a.format?
b.innerHTML:"text"==a.format?b.innerText||b.textContent:this.serializer.serialize(b,a);a.content="text"!=a.format?x(b):b;a.no_events||this.fire("GetContent",a);return a.content},insertContent:function(a){this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return!this.isNotDirty},getContainer:function(){this.container||(this.container=z.get(this.editorContainer||this.id+"_parent"));return this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return z.get(this.settings.content_element||
this.id)},getWin:function(){var a;!this.contentWindow&&(a=z.get(this.id+"_ifr"))&&(this.contentWindow=a.contentWindow);return this.contentWindow},getDoc:function(){var a;!this.contentDocument&&(a=this.getWin())&&(this.contentDocument=a.document);return this.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(a,b,c){var e=this.settings;return e.urlconverter_callback?this.execCallback("urlconverter_callback",a,c,!0,b):!e.convert_urls||c&&"LINK"==c.nodeName||
0===a.indexOf("file:")||0===a.length?a:e.relative_urls?this.documentBaseURI.toRelative(a):a=this.documentBaseURI.toAbsolute(a,e.remove_script_host)},addVisual:function(a){var b=this,c=b.settings,e=b.dom,d;a=a||b.getBody();b.hasVisual===P&&(b.hasVisual=c.visual);E(e.select("table,a",a),function(a){var f;switch(a.nodeName){case "TABLE":d=c.visual_table_class||"mce-item-table";(f=e.getAttrib(a,"border"))&&"0"!=f||(b.hasVisual?e.addClass(a,d):e.removeClass(a,d));break;case "A":e.getAttrib(a,"href",!1)||
(f=e.getAttrib(a,"name")||a.id,d=c.visual_anchor_class||"mce-item-anchor",f&&(b.hasVisual?e.addClass(a,d):e.removeClass(a,d)))}});b.fire("VisualAid",{element:a,hasVisual:b.hasVisual})},remove:function(){if(!this.removed){this.fire("remove");this.off();this.removed=1;this.hasHiddenInput&&z.remove(this.getElement().nextSibling);this.save();z.setStyle(this.id,"display",this.orgDisplay);this.settings.content_editable||(L.unbind(this.getWin()),L.unbind(this.getDoc()));var a=this.getContainer();L.unbind(this.getBody());
L.unbind(a);this.editorManager.remove(this);z.remove(a);this.destroy()}},bindNative:function(a){var b=this;b.settings.readonly||(b.initialized?b.dom.bind(y(b,a),a,function(c){b.fire(a,c)}):b._pendingNativeEvents?b._pendingNativeEvents.push(a):b._pendingNativeEvents=[a])},unbindNative:function(a){this.initialized&&this.dom.unbind(a)},destroy:function(a){if(!this.destroyed)if(a||this.removed){a&&D&&(L.unbind(this.getDoc()),L.unbind(this.getWin()),L.unbind(this.getBody()));a||(this.editorManager.off("beforeunload",
this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),this.selection.destroy(),this.dom.destroy());if(a=this.formElement)a._mceOldSubmit&&(a.submit=a._mceOldSubmit,a._mceOldSubmit=null),z.unbind(a,"submit reset",this.formEventDelegate);this.contentAreaContainer=this.formElement=this.container=this.editorContainer=null;this.settings.content_element=this.bodyElement=this.contentDocument=this.contentWindow=null;this.selection&&(this.selection=this.selection.win=this.selection.dom=
this.selection.dom.doc=null);this.destroyed=1}else this.remove()},_refreshContentEditable:function(){var a,b;this._isHidden()&&(a=this.getBody(),b=a.parentNode,b.removeChild(a),b.appendChild(a),a.focus())},_isHidden:function(){var a;if(!D)return 0;a=this.selection.getSel();return!a||!a.rangeCount||0===a.rangeCount}};M(B.prototype,F);return B});y("tinymce/util/I18n",[],function(){var l={};return{rtl:!1,add:function(k,d){for(var h in d)l[h]=d[h];this.rtl=this.rtl||"rtl"===l._dir},translate:function(k){if("undefined"==
typeof k)return k;if("string"!=typeof k&&k.raw)return k.raw;if(k.push){var d=k.slice(1);k=(l[k[0]]||k[0]).replace(/\{([^\}]+)\}/g,function(h,a){return d[a]})}return l[k]||k},data:l}});y("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(l,k){function d(f){function e(a){return a&&a.startContainer?{startContainer:a.startContainer,startOffset:a.startOffset,endContainer:a.endContainer,endOffset:a.endOffset}:a}function g(a,b){var c;b.startContainer?(c=a.getDoc().createRange(),c.setStart(b.startContainer,
b.startOffset),c.setEnd(b.endContainer,b.endOffset)):c=b;return c}f.on("AddEditor",function(l){var u=l.editor;u.on("init",function(){if("onbeforedeactivate"in document&&11>k.ie)u.dom.bind(u.getBody(),"beforedeactivate",function(){try{u.pendingRng=u.selection.getRng()}catch(a){}}),u.dom.bind(u.getBody(),"blur",function(){u.pendingRng&&(u.lastRng=u.pendingRng,u.selection.lastFocusBookmark=e(u.lastRng),u.pendingRng=null)});else if(u.inline||10<k.ie)u.on("nodechange keyup",function(){var a=document.activeElement;
a&&a.id==u.id+"_ifr"&&(a=u.getBody());a:{for(var b=u.getBody();a;){if(a==b){a=!0;break a}a=a.parentNode}a=void 0}a&&(u.lastRng=u.selection.getRng())}),k.webkit&&!h&&(h=function(){var a=f.activeEditor;a&&a.selection&&(a=a.selection.getRng())&&!a.collapsed&&(u.lastRng=a)},c.bind(document,"selectionchange",h))});u.on("setcontent",function(){u.lastRng=null});u.on("mousedown",function(){u.selection.lastFocusBookmark=null});u.on("focusin",function(){var a=f.focusedEditor;u.selection.lastFocusBookmark&&
(u.selection.setRng(g(u,u.selection.lastFocusBookmark)),u.selection.lastFocusBookmark=null);a!=u&&(a&&a.fire("blur",{focusedEditor:u}),f.activeEditor=u,f.focusedEditor=u,u.fire("focus",{blurredEditor:a}),u.focus(!0));u.lastRng=null});u.on("focusout",function(){window.setTimeout(function(){var a=f.focusedEditor,b;try{b=document.activeElement}catch(e){b=document.body}c.getParent(b,d.isEditorUIElement)||a!=u||(u.fire("blur",{focusedEditor:null}),f.focusedEditor=null,u.selection&&(u.selection.lastFocusBookmark=
null))},0)});a||(a=function(a){var b=f.activeEditor;b&&a.target.ownerDocument==document&&(b.selection&&(b.selection.lastFocusBookmark=e(b.lastRng)),c.getParent(a.target,d.isEditorUIElement)||f.focusedEditor!=b||(b.fire("blur",{focusedEditor:null}),f.focusedEditor=null))},c.bind(document,"focusin",a));u.inline&&!b&&(b=function(a){var b=f.activeEditor;!b.inline||b.dom.isChildOf(a.target,b.getBody())||b.selection.getRng().collapsed||(b.lastRng=b.selection.getRng(),b.selection.lastFocusBookmark=e(b.lastRng))},
c.bind(document,"mouseup",b))});f.on("RemoveEditor",function(){f.activeEditor||(c.unbind(document,"selectionchange",h),c.unbind(document,"focusin",a),c.unbind(document,"mouseup",b),h=a=b=null)})}var h,a,b,c=l.DOM;d.isEditorUIElement=function(a){return-1!==a.className.indexOf("mce-")};return d});y("tinymce/EditorManager","tinymce/Editor tinymce/dom/DOMUtils tinymce/util/URI tinymce/Env tinymce/util/Tools tinymce/util/Observable tinymce/util/I18n tinymce/FocusManager".split(" "),function(l,k,d,h,a,
b,c,f){var e=k.DOM,g=a.explode,t=a.each,u=a.extend,m=0,q;k={majorVersion:"4",minorVersion:"0.19",releaseDate:"2014-03-11",editors:[],i18n:c,activeEditor:null,setup:function(){var a,b,c="",e;b=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");/[\/\\]$/.test(b)||(b+="/");if(e=window.tinymce||window.tinyMCEPreInit)a=e.base||e.baseURL,c=e.suffix;else{e=document.getElementsByTagName("script");for(var g=0;g<e.length;g++){var h=e[g].src;if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(h)){-1!=
h.indexOf(".min")&&(c=".min");a=h.substring(0,h.lastIndexOf("/"));break}}}this.baseURL=(new d(b)).toAbsolute(a);this.documentBaseURL=b;this.baseURI=new d(this.baseURL);this.suffix=c;this.focusManager=new f(this)},init:function(a){function b(a){var c=a.id;c||(c=(c=a.name)&&!e.get(c)?a.name:e.uniqueId(),a.setAttribute("id",c));return c}function c(a,b,e){var d=a[b];if(d)return d.apply(e||this,Array.prototype.slice.call(arguments,2))}function d(){var q,y;e.unbind(window,"ready",d);c(a,"onpageload");if(a.types)t(a.types,
function(c){t(e.select(c.selector),function(e){e=new l(b(e),u({},a,c),f);h.push(e);e.render(1)})});else if(a.selector)t(e.select(a.selector),function(c){c=new l(b(c),a,f);h.push(c);c.render(1)});else{switch(a.mode){case "exact":q=a.elements||"";0<q.length&&t(g(q),function(b){e.get(b)?(k=new l(b,a,f),h.push(k),k.render(!0)):t(document.forms,function(c){t(c.elements,function(c){c.name===b&&(b="mce_editor_"+m++,e.setAttrib(c,"id",b),k=new l(b,a,f),h.push(k),k.render(1))})})});break;case "textareas":case "specific_textareas":t(e.select("textarea"),
function(c){a.editor_deselector&&(a.editor_deselector.constructor===RegExp?a.editor_deselector.test(c.className):e.hasClass(c,a.editor_deselector))||a.editor_selector&&(a.editor_selector.constructor===RegExp?!a.editor_selector.test(c.className):!e.hasClass(c,a.editor_selector))||(k=new l(b(c),a,f),h.push(k),k.render(!0))})}a.oninit&&(q=y=0,t(h,function(b){y++;if(b.initialized)q++;else b.on("init",function(){q++;q==y&&c(a,"oninit")});q==y&&c(a,"oninit")}))}}var f=this,h=[],k;f.settings=a;e.bind(window,
"ready",d)},get:function(a){return a===P?this.editors:this.editors[a]},add:function(a){var b=this,c=b.editors;c[a.id]=a;c.push(a);b.activeEditor=a;b.fire("AddEditor",{editor:a});q||(q=function(){b.fire("BeforeUnload")},e.bind(window,"beforeunload",q));return a},createEditor:function(a,b){return this.add(new l(a,b,this))},remove:function(a){var b=this,c=b.editors,d,f;if(a)if("string"==typeof a)a=a.selector||a,t(e.select(a),function(a){b.remove(c[a.id])});else{d=a;if(!c[d.id])return null;delete c[d.id];
for(a=0;a<c.length;a++)if(c[a]==d){c.splice(a,1);f=!0;break}b.activeEditor==d&&(b.activeEditor=c[0]);f&&b.fire("RemoveEditor",{editor:d});c.length||e.unbind(window,"beforeunload",q);d.remove();return d}else for(a=c.length-1;0<=a;a--)b.remove(c[a])},execCommand:function(a,b,c){var e=this.get(c);switch(a){case "mceAddEditor":return this.get(c)||(new l(c,this.settings,this)).render(),!0;case "mceRemoveEditor":return e&&e.remove(),!0;case "mceToggleEditor":if(!e)return this.execCommand("mceAddEditor",
0,c),!0;e.isHidden()?e.show():e.hide();return!0}return this.activeEditor?this.activeEditor.execCommand(a,b,c):!1},triggerSave:function(){t(this.editors,function(a){a.save()})},addI18n:function(a,b){c.add(a,b)},translate:function(a){return c.translate(a)}};u(k,b);k.setup();return window.tinymce=window.tinyMCE=k});y("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(l,k){var d=k.each,h=k.explode;l.on("AddEditor",function(a){var b=a.editor;b.on("preInit",function(){function a(b,
c){d(c,function(a,c){a&&k.setStyle(b,c,a)});k.rename(b,"span")}function f(a){k=b.dom;l.convert_fonts_to_spans&&d(k.select("font,u,strike",a.node),function(a){e[a.nodeName.toLowerCase()](k,a)})}var e,g,k,l=b.settings;l.inline_styles&&(g=h(l.font_size_legacy_values),e={font:function(b,e){a(e,{backgroundColor:e.style.backgroundColor,color:e.color,fontFamily:e.face,fontSize:g[parseInt(e.size,10)-1]})},u:function(b,e){a(e,{textDecoration:"underline"})},strike:function(b,e){a(e,{textDecoration:"line-through"})}},
b.on("PreProcess SetContent",f))})})});y("tinymce/util/XHR",[],function(){return{send:function(l){function k(){!l.async||4==d.readyState||1E4<h++?(l.success&&1E4>h&&200==d.status?l.success.call(l.success_scope,""+d.responseText,d,l):l.error&&l.error.call(l.error_scope,1E4<h?"TIMED_OUT":"GENERAL",d,l),d=null):setTimeout(k,10)}var d,h=0;l.scope=l.scope||this;l.success_scope=l.success_scope||l.scope;l.error_scope=l.error_scope||l.scope;l.async=!1===l.async?!1:!0;l.data=l.data||"";if(d=new XMLHttpRequest){d.overrideMimeType&&
d.overrideMimeType(l.content_type);d.open(l.type||(l.data?"POST":"GET"),l.url,l.async);l.content_type&&d.setRequestHeader("Content-Type",l.content_type);d.setRequestHeader("X-Requested-With","XMLHttpRequest");d.send(l.data);if(!l.async)return k();setTimeout(k,10)}}}});y("tinymce/util/JSON",[],function(){function l(k,d){var h,a,b,c;d=d||'"';if(null===k)return"null";b=typeof k;if("string"==b)return a="\bb\tt\nn\ff\rr\"\"''\\\\",d+k.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(b,c){if('"'===
d&&"'"===b)return b;h=a.indexOf(c);if(h+1)return"\\"+a.charAt(h+1);b=c.charCodeAt().toString(16);return"\\u"+"0000".substring(b.length)+b})+d;if("object"==b){if(k.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(k)){h=0;for(a="[";h<k.length;h++)a+=(0<h?",":"")+l(k[h],d);return a+"]"}a="{";for(c in k)k.hasOwnProperty(c)&&(a+="function"!=typeof k[c]?(1<a.length?","+d:d)+c+d+":"+l(k[c],d):"");return a+"}"}return""+k}return{serialize:l,parse:function(k){try{return window[String.fromCharCode(101)+
"val"]("("+k+")")}catch(d){}}}});y("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(l,k,d){function h(b){this.settings=a({},b);this.count=0}var a=d.extend;h.sendRPC=function(a){return(new h).send(a)};h.prototype={send:function(b){var c=b.error,d=b.success;b=a(this.settings,b);b.success=function(a,g){a=l.parse(a);"undefined"==typeof a&&(a={error:"JSON Parse error."});a.error?c.call(b.error_scope||b.scope,a.error,g):d.call(b.success_scope||b.scope,a.result)};
b.error=function(a,d){c&&c.call(b.error_scope||b.scope,a,d)};b.data=l.serialize({id:b.id||"c"+this.count++,method:b.method,params:b.params});b.content_type="application/json";k.send(b)}};return h});y("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(l){return{callbacks:{},count:0,send:function(k){var d=this,h=l.DOM,a=k.count!==P?k.count:d.count,b="tinymce_jsonp_"+a;d.callbacks[a]=function(c){h.remove(b);delete d.callbacks[a];k.callback(c)};h.add(h.doc.body,"script",{id:b,src:k.url,type:"text/javascript"});
d.count++}}});y("tinymce/util/LocalStorage",[],function(){function l(){b=[];for(var c in a)b.push(c);d.length=b.length}function k(){var b,e="";if(f){for(var d in a)b=a[d],e+=(e?",":"")+d.length.toString(32)+","+d+","+b.length.toString(32)+","+b;h.setAttribute(c,e);try{h.save(c)}catch(k){}l()}}var d,h,a,b,c,f;try{if(window.localStorage)return localStorage}catch(e){}c="tinymce";h=document.documentElement;(f=!!h.addBehavior)&&h.addBehavior("#default#userData");d={key:function(a){return b[a]},getItem:function(b){return b in
a?a[b]:null},setItem:function(b,c){a[b]=""+c;k()},removeItem:function(b){delete a[b];k()},clear:function(){a={};k()}};(function(){function b(a){var c;c=a!==P?q+a:d.indexOf(",",q);if(-1===c||c>d.length)return null;a=d.substring(q,c);q=c+1;return a}var e,d,k,q=0;a={};if(f){h.load(c);d=h.getAttribute(c)||"";do{k=b();if(null===k)break;e=b(parseInt(k,32)||0);if(null!==e){k=b();if(null===k)break;k=b(parseInt(k,32)||0);e&&(a[e]=k)}}while(null!==e);l()}})();return d});y("tinymce/Compat","tinymce/dom/DOMUtils tinymce/dom/EventUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/util/Tools tinymce/Env".split(" "),
function(l,k,d,h,a,b){var c=window.tinymce;c.DOM=l.DOM;c.ScriptLoader=d.ScriptLoader;c.PluginManager=h.PluginManager;c.ThemeManager=h.ThemeManager;c.dom=c.dom||{};c.dom.Event=k.Event;a.each(a,function(a,b){c[b]=a});a.each(["isOpera","isWebKit","isIE","isGecko","isMac"],function(a){c[a]=b[a.substr(2).toLowerCase()]});return{}});y("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(l,k){return l.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(d){this.settings=
k.extend({},this.Defaults,d)},preRender:function(d){d.addClass(this.settings.containerClass,"body")},applyClasses:function(d){var h=this.settings,a,b;d=d.items().filter(":visible");a=h.firstControlClass;b=h.lastControlClass;d.each(function(c){c.removeClass(a).removeClass(b);h.controlClass&&c.addClass(h.controlClass)});d.eq(0).addClass(a);d.eq(-1).addClass(b)},renderHtml:function(d){var h=this.settings,a="";d=d.items();d.eq(0).addClass(h.firstControlClass);d.eq(-1).addClass(h.lastControlClass);d.each(function(b){h.controlClass&&
b.addClass(h.controlClass);a+=b.renderHtml()});return a},recalc:function(){},postRender:function(){}})});y("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(l){return l.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(k){k.items().filter(":visible").each(function(d){var h=d.settings;d.layoutRect({x:h.x,y:h.y,w:h.w,h:h.h});d.recalc&&d.recalc()})},renderHtml:function(k){return'<div id="'+k._id+'-absend" class="'+k.classPrefix+'abs-end"></div>'+this._super(k)}})});
y("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(l,k){return l.extend({Mixins:[k],Defaults:{classes:"widget tooltip tooltip-n"},text:function(d){return"undefined"!=typeof d?(this._value=d,this._rendered&&(this.getEl().lastChild.innerHTML=this.encode(d)),this):this._value},renderHtml:function(){var d=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes()+'" role="presentation"><div class="'+d+'tooltip-arrow"></div><div class="'+d+'tooltip-inner">'+this.encode(this._text)+
"</div></div>"},repaint:function(){var d,h;d=this.getEl().style;h=this._layoutRect;d.left=h.x+"px";d.top=h.y+"px";d.zIndex=131070+(zenarioAB.isOpen?3E5:0)}})});y("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(l,k){var d,h=l.extend({init:function(a){var b=this;b._super(a);b.canFocus=!0;a.tooltip&&!1!==h.tooltips&&(b.on("mouseenter",function(c){var d=b.tooltip().moveTo(-65535);c.control==b?(c=d.text(a.tooltip).show().testMoveRel(b.getEl(),["bc-tc","bc-tl","bc-tr"]),d.toggleClass("tooltip-n",
"bc-tc"==c),d.toggleClass("tooltip-nw","bc-tl"==c),d.toggleClass("tooltip-ne","bc-tr"==c),d.moveRel(b.getEl(),c)):d.hide()}),b.on("mouseleave mousedown click",function(){b.tooltip().hide()}));b.aria("label",a.ariaLabel||a.tooltip)},tooltip:function(){d||(d=new k({type:"tooltip"}),d.renderTo());return d},active:function(a){void 0!==a&&(this.aria("pressed",a),this.toggleClass("active",a));return this._super(a)},disabled:function(a){void 0!==a&&(this.aria("disabled",a),this.toggleClass("disabled",a));
return this._super(a)},postRender:function(){var a=this.settings;this._rendered=!0;this._super();this.parent()||!a.width&&!a.height||(this.initLayoutRect(),this.repaint());a.autofocus&&this.focus()},remove:function(){this._super();d&&(d.remove(),d=null)}});return h});y("tinymce/ui/Button",["tinymce/ui/Widget"],function(l){return l.extend({Defaults:{classes:"widget btn",role:"button"},init:function(k){var d;this.on("click mousedown",function(d){d.preventDefault()});this._super(k);d=k.size;k.subtype&&
this.addClass(k.subtype);d&&this.addClass("btn-"+d)},icon:function(k){var d=this.classPrefix;if("undefined"==typeof k)return this.settings.icon;k=(this.settings.icon=k)?d+"ico "+d+"i-"+this.settings.icon:"";if(this._rendered){var d=this.getEl().firstChild,h=d.getElementsByTagName("i")[0];k?(h&&h==d.firstChild||(h=document.createElement("i"),d.insertBefore(h,d.firstChild)),h.className=k):h&&d.removeChild(h);this.text(this._text)}return this},repaint:function(){var k=this.getEl().firstChild.style;k.width=
k.height="100%";this._super()},renderHtml:function(){var k=this._id,d=this.classPrefix,h=this.settings.icon,a="";this.settings.image&&(h="none",a=" style=\"background-image: url('"+this.settings.image+"')\"");h=this.settings.icon?d+"ico "+d+"i-"+h:"";return'<div id="'+k+'" class="'+this.classes()+'" tabindex="-1" aria-labelledby="'+k+'"><button role="presentation" type="button" tabindex="-1">'+(h?'<i class="'+h+'"'+a+"></i>":"")+(this._text?(h?"\u00a0":"")+this.encode(this._text):"")+"</button></div>"}})});
y("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(l){return l.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var k=this._layout;this.addClass("btn-group");this.preRender();k.preRender(this);return'<div id="'+this._id+'" class="'+this.classes()+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+k.renderHtml(this)+"</div></div>"}})});y("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(l){return l.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},
init:function(k){var d=this;d._super(k);d.on("click mousedown",function(d){d.preventDefault()});d.on("click",function(h){h.preventDefault();d.disabled()||d.checked(!d.checked())});d.checked(d.settings.checked)},checked:function(k){return"undefined"!=typeof k?(k?this.addClass("checked"):this.removeClass("checked"),this._checked=k,this.aria("checked",k),this):this._checked},value:function(k){return this.checked(k)},renderHtml:function(){var k=this._id,d=this.classPrefix;return'<div id="'+k+'" class="'+
this.classes()+'" unselectable="on" aria-labelledby="'+k+'-al" tabindex="-1"><i class="'+d+"ico "+d+'i-checkbox"></i><span id="'+k+'-al" class="'+d+'label">'+this.encode(this._text)+"</span></div>"}})});y("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(l,k){return l.extend({showPanel:function(){var d=this,h=d.settings;d.active(!0);if(d.panel)d.panel.show();else{var a=h.panel;a.type&&(a={layout:"grid",items:a});a.role=a.role||"dialog";a.popover=!0;a.autohide=!0;a.ariaRoot=
!0;d.panel=(new k(a)).on("hide",function(){d.active(!1)}).on("cancel",function(a){a.stopPropagation();d.focus();d.hidePanel()}).parent(d).renderTo(d.getContainerElm());d.panel.fire("show");d.panel.reflow()}d.panel.moveRel(d.getEl(),h.popoverAlign||(d.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var d=this;d.aria("haspopup",!0);d.on("click",function(h){h.control===d&&(d.panel&&d.panel.visible()?d.hidePanel():(d.showPanel(),
d.panel.focus(!!h.aria)))});return d._super()}})});y("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(l,k){var d=k.DOM;return l.extend({init:function(d){this._super(d);this.addClass("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},renderHtml:function(){var d=this._id,a=this.classPrefix,b=this.settings.icon?a+"ico "+a+"i-"+this.settings.icon:"",c=this.settings.image?" style=\"background-image: url('"+
this.settings.image+"')\"":"";return'<div id="'+d+'" class="'+this.classes()+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus type="button" tabindex="-1">'+(b?'<i class="'+b+'"'+c+"></i>":"")+'<span id="'+d+'-preview" class="'+a+'preview"></span>'+(this._text?(b?" ":"")+this._text:"")+'</button><button type="button" class="'+a+'open" hidefocus tabindex="-1"> <i class="'+a+'caret"></i></button></div>'},postRender:function(){var h=this,a=h.settings.onclick;h.on("click",
function(b){b.aria&&"down"==b.aria.key||b.control!=h||d.getParent(b.target,"."+h.classPrefix+"open")||(b.stopImmediatePropagation(),a.call(h,b))});delete h.settings.onclick;return h._super()}})});y("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils"],function(l,k,d){return l.extend({init:function(h){var a=this;a._super(h);a.addClass("combobox");a.subinput=!0;a.ariaTarget="inp";h=a.settings;h.menu=h.menu||h.values;h.menu&&(h.icon="caret");a.on("click",function(b){for(var c=
b.target,d=a.getEl();c&&c!=d;)c.id&&-1!=c.id.indexOf("-open")&&(a.fire("action"),h.menu&&(a.showMenu(),b.aria&&a.menu.items()[0].focus())),c=c.parentNode});a.on("keydown",function(b){"INPUT"==b.target.nodeName&&13==b.keyCode&&a.parents().reverse().each(function(c){b.preventDefault();a.fire("change");if(c.hasEventListeners("submit")&&c.toJSON)return c.fire("submit",{data:c.toJSON()}),!1})});h.placeholder&&(a.addClass("placeholder"),a.on("focusin",function(){a._hasOnChange||(d.on(a.getEl("inp"),"change",
function(){a.fire("change")}),a._hasOnChange=!0);a.hasClass("placeholder")&&(a.getEl("inp").value="",a.removeClass("placeholder"))}),a.on("focusout",function(){0===a.value().length&&(a.getEl("inp").value=h.placeholder,a.addClass("placeholder"))}))},showMenu:function(){var d=this,a=d.settings;d.menu||(a=a.menu||[],a.length?a={type:"menu",items:a}:a.type=a.type||"menu",d.menu=k.create(a).parent(d).renderTo(d.getContainerElm()),d.fire("createmenu"),d.menu.reflow(),d.menu.on("cancel",function(a){a.control===
d.menu&&d.focus()}),d.menu.on("show hide",function(a){a.control.items().each(function(a){a.active(a.value()==d.value())})}).fire("show"),d.menu.on("select",function(a){d.value(a.control.value())}),d.on("focusin",function(a){"INPUT"==a.target.tagName&&d.menu.hide()}),d.aria("expanded",!0));d.menu.show();d.menu.layoutRect({w:d.layoutRect().w});d.menu.moveRel(d.getEl(),d.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},value:function(d){return"undefined"!=typeof d?(this._value=d,this.removeClass("placeholder"),
this._rendered&&(this.getEl("inp").value=d),this):this._rendered?(d=this.getEl("inp").value,d!=this.settings.placeholder?d:""):this._value},disabled:function(d){this._rendered&&"undefined"!=typeof d&&(this.getEl("inp").disabled=d);return this._super(d)},focus:function(){this.getEl("inp").focus()},repaint:function(){var h=this.getEl(),a=this.getEl("open"),b=this.layoutRect(),c,a=a?b.w-d.getSize(a).width-10:b.w-10,b=document;b.all&&(!b.documentMode||8>=b.documentMode)&&(c=this.layoutRect().h-2+"px");
d.css(h.firstChild,{width:a,lineHeight:c});this._super();return this},postRender:function(){var h=this;d.on(this.getEl("inp"),"change",function(){h.fire("change")});return h._super()},remove:function(){d.off(this.getEl("inp"));this._super()},renderHtml:function(){var d=this._id,a=this.settings,b=this.classPrefix,c=a.value||a.placeholder||"",f,e="",g="";"spellcheck"in a&&(g+=' spellcheck="'+a.spellcheck+'"');a.maxLength&&(g+=' maxlength="'+a.maxLength+'"');a.size&&(g+=' size="'+a.size+'"');a.subtype&&
(g+=' type="'+a.subtype+'"');this.disabled()&&(g+=' disabled="disabled"');(f=a.icon)&&"caret"!=f&&(f=b+"ico "+b+"i-"+a.icon);a=this._text;if(f||a)e='<div id="'+d+'-open" class="'+b+"btn "+b+'open" tabIndex="-1" role="button"><button id="'+d+'-action" type="button" hidefocus tabindex="-1">'+("caret"!=f?'<i class="'+f+'"></i>':'<i class="'+b+'caret"></i>')+(a?(f?" ":"")+a:"")+"</button></div>",this.addClass("has-open");return'<div id="'+d+'" class="'+this.classes()+'"><input id="'+d+'-inp" class="'+
b+"textbox "+b+'placeholder" value="'+c+'" hidefocus="true"'+g+">"+e+"</div>"}})});y("tinymce/ui/Path",["tinymce/ui/Widget"],function(l){return l.extend({init:function(k){var d=this;k.delimiter||(k.delimiter="\u00bb");d._super(k);d.addClass("path");d.canFocus=!0;d.on("click",function(h){var a;(a=h.target.getAttribute("data-index"))&&d.fire("select",{value:d.data()[a],index:a})})},focus:function(){this.getEl().firstChild.focus();return this},data:function(k){return"undefined"!==typeof k?(this._data=
k,this.update(),this):this._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){this._super();this.data(this.settings.data)},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes()+'">'+this._getPathHtml()+"</div>"},_getPathHtml:function(){var k=this._data||[],d,h,a="",b=this.classPrefix;d=0;for(h=k.length;d<h;d++)a+=(0<d?'<div class="'+b+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+b+"path-item"+
(d==h-1?" "+b+"last":"")+'" data-index="'+d+'" tabindex="-1" id="'+this._id+"-"+d+'" aria-level="'+d+'">'+k[d].name+"</div>";a||(a='<div class="'+b+'path-item">&nbsp;</div>');return a}})});y("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(l,k){return l.extend({postRender:function(){function d(a){return 1!==a.nodeType||"BR"!=a.nodeName&&!a.getAttribute("data-mce-bogus")&&"bookmark"!==a.getAttribute("data-mce-type")?!1:!0}var h=this,a=k.activeEditor;h.on("select",function(b){var c=
[],f,e=a.getBody();a.focus();for(f=a.selection.getStart();f&&f!=e;)d(f)||c.push(f),f=f.parentNode;a.selection.select(c[c.length-1-b.index]);a.nodeChanged()});a.on("nodeChange",function(b){var c=[];b=b.parents;for(var f=b.length;f--;)if(1==b[f].nodeType&&!d(b[f])){var e=a.fire("ResolveName",{name:b[f].nodeName.toLowerCase(),target:b[f]});c.push({name:e.name})}h.data(c)});return h._super()}})});y("tinymce/ui/FormItem",["tinymce/ui/Container"],function(l){return l.extend({Defaults:{layout:"flex",align:"center",
defaults:{flex:1}},renderHtml:function(){var k=this._layout,d=this.classPrefix;this.addClass("formitem");k.preRender(this);return'<div id="'+this._id+'" class="'+this.classes()+'" hideFocus="1" tabIndex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+d+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+k.renderHtml(this)+"</div></div>"}})});y("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem"],
function(l,k){return l.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var d=this;d.items().each(function(h){var a;if(a=h.settings.label)a=new k({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",id:h._id+"-l",text:a,flex:0,forId:h._id,disabled:h.disabled()}]}),a.type="formitem",h.aria("labelledby",h._id+"-l"),"undefined"==typeof h.settings.flex&&
(h.settings.flex=1),d.replace(h,a),a.add(h)})},recalcLabels:function(){var d=0,h=[],a,b;if(!1!==this.settings.labelGapCalc)for(this.items().filter("formitem").each(function(a){a=a.items()[0];var b=a.getEl().clientWidth;d=b>d?b:d;h.push(a)}),b=this.settings.labelGap||0,a=h.length;a--;)h[a].settings.minWidth=d+b},visible:function(d){var h=this._super(d);!0===d&&this._rendered&&this.recalcLabels();return h},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();
this.recalcLabels();this.fromJSON(this.settings.data)}})});y("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(l){return l.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var k=this._layout,d=this.classPrefix;this.preRender();k.preRender(this);return'<fieldset id="'+this._id+'" class="'+this.classes()+'" hideFocus="1" tabIndex="-1">'+(this.settings.title?'<legend id="'+this._id+
'-title" class="'+d+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+k.renderHtml(this)+"</div></fieldset>"}})});y("tinymce/ui/FilePicker",["tinymce/ui/ComboBox"],function(l){return l.extend({init:function(k){var d=this,h=tinymce.activeEditor,a;k.spellcheck=!1;if(a=h.settings.file_browser_callback)k.icon="browse",k.onaction=function(){a(d.getEl("inp").id,d.getEl("inp").value,k.filetype,window)};d._super(k)}})});
y("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(l){return l.extend({recalc:function(k){var d=k.layoutRect(),h=k.paddingBox();k.items().filter(":visible").each(function(a){a.layoutRect({x:h.left,y:h.top,w:d.innerW-h.right-h.left,h:d.innerH-h.top-h.bottom});a.recalc&&a.recalc()})}})});y("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(l){return l.extend({recalc:function(k){var d,h,a,b,c,f,e,g,l,u,m,q,p,r=[],s,n,v,w,y,C,G,B,z,J,A,M,E,K,P,x,H,L,D=Math.max,I=Math.min;a=k.items().filter(":visible");
b=k.layoutRect();c=k._paddingBox;f=k.settings;d=k.isRtl()?f.direction||"row-reversed":f.direction;e=f.align;g=k.isRtl()?f.pack||"end":f.pack;f=f.spacing||0;if("row-reversed"==d||"column-reverse"==d)a=a.set(a.toArray().reverse()),d=d.split("-")[0];"column"==d?(y="y",v="h",w="minH",C="maxH",B="innerH",G="top",z="deltaH",J="contentH",P="left",E="w",A="x",M="innerW",K="minW",x="right",H="deltaW",L="contentW"):(y="x",v="w",w="minW",C="maxW",B="innerW",G="left",z="deltaW",J="contentW",P="top",E="h",A="y",
M="innerH",K="minH",x="bottom",H="deltaH",L="contentH");u=b[B]-c[G]-c[G];d=n=l=0;for(h=a.length;d<h;d++)m=a[d],q=m.layoutRect(),p=m.settings,p=p.flex,u-=d<h-1?f:0,0<p&&(l+=p,q[C]&&r.push(m),q.flex=p),u-=q[w],p=c[P]+q[K]+c[x],p>n&&(n=p);s={};s[w]=0>u?b[w]-u+b[z]:b[B]-u+b[z];s[K]=n+b[H];s[J]=b[B]-u;s[L]=n;s.minW=I(s.minW,b.maxW);s.minH=I(s.minH,b.maxH);s.minW=D(s.minW,b.startMinWidth);s.minH=D(s.minH,b.startMinHeight);if(!b.autoResize||s.minW==b.minW&&s.minH==b.minH){k=u/l;d=0;for(h=r.length;d<h;d++)m=
r[d],q=m.layoutRect(),m=q[C],p=q[w]+q.flex*k,p>m?(u-=q[C]-q[w],l-=q.flex,q.flex=0,q.maxFlexSize=m):q.maxFlexSize=0;k=u/l;r=c[G];s={};0===l&&("end"==g?r=u+c[G]:"center"==g?(r=Math.round(b[B]/2-(b[B]-u)/2)+c[G],0>r&&(r=c[G])):"justify"==g&&(r=c[G],f=Math.floor(u/(a.length-1))));s[A]=c[P];d=0;for(h=a.length;d<h;d++)m=a[d],q=m.layoutRect(),p=q.maxFlexSize||q[w],"center"===e?s[A]=Math.round(b[M]/2-q[E]/2):"stretch"===e?(s[E]=D(q[K]||0,b[M]-c[P]-c[x]),s[A]=c[P]):"end"===e&&(s[A]=b[M]-q[E]-c.top),0<q.flex&&
(p+=q.flex*k),s[v]=p,s[y]=r,m.layoutRect(s),m.recalc&&m.recalc(),r+=p+f}else if(s.w=s.minW,s.h=s.minH,k.layoutRect(s),this.recalc(k),null===k._lastRect&&(a=k.parent()))a._lastRect=null,a.recalc()}})});y("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(l){return l.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(k){k.items().filter(":visible").each(function(d){d.recalc&&d.recalc()})}})});y("tinymce/ui/FormatControls","tinymce/ui/Control tinymce/ui/Widget tinymce/ui/FloatPanel tinymce/util/Tools tinymce/EditorManager tinymce/Env".split(" "),
function(l,k,d,h,a,b){function c(a){function b(c){var d,g,h=a.dom,k="",l,m;m=a.settings.preview_styles;if(!1===m)return"";m||(m="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");if(c=a.formatter.get(c))return c=c[0],d=c.block||c.inline||"span",g=h.create(d),f(c.styles,function(a,b){(a=a.replace(/%(\w+)/g,""))&&h.setStyle(g,b,a)}),f(c.attributes,function(a,b){(a=a.replace(/%(\w+)/g,""))&&h.setAttrib(g,b,a)}),
f(c.classes,function(a){a=a.replace(/%(\w+)/g,"");h.hasClass(g,a)||h.addClass(g,a)}),a.fire("PreviewFormats"),h.setStyles(g,{position:"absolute",left:-65535}),a.getBody().appendChild(g),l=h.getStyle(a.getBody(),"fontSize",!0),l=/px$/.test(l)?parseInt(l,10):0,f(m.split(" "),function(b){var c=h.getStyle(g,b,!0);if("background-color"==b&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(c)&&(c=h.getStyle(a.getBody(),b,!0),"#ffffff"==h.toHex(c).toLowerCase()))return;if("color"!=b||"#000000"!=h.toHex(c).toLowerCase()){if("font-size"==
b&&/em|%$/.test(c)){if(0===l)return;c=parseFloat(c,10)/(/%$/.test(c)?100:1);c=c*l+"px"}"border"==b&&c&&(k+="padding:0 2px;");k+=b+":"+c+";"}}),a.fire("AfterPreviewFormats"),h.remove(g),k}function c(b,d){return function(){var c=this;a.on("nodeChange",function(g){var h=a.formatter,k=null;f(g.parents,function(a){f(b,function(b){d?h.matchNode(a,d,{value:b.value})&&(k=b.value):h.matchNode(a,b.value)&&(k=b.value);if(k)return!1});if(k)return!1});c.value(k)})}}function h(a){a=a.split(";");for(var b=a.length;b--;)a[b]=
a[b].split("=");return a}function k(){var b=this;b.disabled(!(a.undoManager&&a.undoManager.hasUndo()));a.on("Undo Redo AddUndo TypingUndo",function(){b.disabled(!(a.undoManager&&a.undoManager.hasUndo()))})}function l(){var b=this;b.disabled(!(a.undoManager&&a.undoManager.hasRedo()));a.on("Undo Redo AddUndo TypingUndo",function(){b.disabled(!(a.undoManager&&a.undoManager.hasRedo()))})}function p(b){b.control&&(b=b.control.value());b&&a.execCommand("mceToggleFormat",!1,b)}var r;r=function(){function c(a){var b=
[];if(a)return f(a,function(a){var e={text:a.title,icon:a.icon};if(a.items)e.menu=c(a.items);else{var f=a.format||"custom"+d++;a.format||(a.name=f,h.push(a));e.format=f}b.push(e)}),b}var d=0,h=[],k=[{title:"Headers",items:[{title:"Header 1",format:"h1"},{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",
format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",
format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];a.on("init",function(){f(h,function(b){a.formatter.register(b.name,b)})});return{type:"menu",items:a.settings.style_formats_merge?a.settings.style_formats?c(k.concat(a.settings.style_formats)):c(k):c(a.settings.style_formats||k),onPostRender:function(b){a.fire("renderFormatsMenu",{control:b.control})},itemDefaults:{preview:!0,
textStyle:function(){if(this.settings.format)return b(this.settings.format)},onPostRender:function(){var b=this,c=this.settings.format;if(c)b.parent().on("show",function(){b.disabled(!a.formatter.canApply(c));b.active(a.formatter.match(c))})},onclick:function(){this.settings.format&&p(this.settings.format)}}}}();f({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(b,c){a.addButton(c,{tooltip:b,onPostRender:function(){var b=
this;if(a.formatter)a.formatter.formatChanged(c,function(a){b.active(a)});else a.on("init",function(){a.formatter.formatChanged(c,function(a){b.active(a)})})},onclick:function(){p(c)}})});f({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids",
"mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1]})});f({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},
function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1],onPostRender:function(){var b=this;if(a.formatter)a.formatter.formatChanged(c,function(a){b.active(a)});else a.on("init",function(){a.formatter.formatChanged(c,function(a){b.active(a)})})}})});a.addButton("undo",{tooltip:"Undo",onPostRender:k,cmd:"undo"});a.addButton("redo",{tooltip:"Redo",onPostRender:l,cmd:"redo"});a.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"});a.addMenuItem("undo",{text:"Undo",
icon:"undo",shortcut:"Ctrl+Z",onPostRender:k,cmd:"undo"});a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:l,cmd:"redo"});a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var b=this;a.on("VisualAid",function(a){b.active(a.hasVisual)});b.active(a.hasVisual)},cmd:"mceToggleVisualAid"});f({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold",
"Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(b,c){a.addMenuItem(c,{text:b[0],icon:c,shortcut:b[2],cmd:b[1]})});a.on("mousedown",function(){d.hideAll()});a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:r});a.addButton("formatselect",function(){var d=[],k=h(a.settings.block_formats||
"Paragraph=p;Address=address;Pre=pre;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6");f(k,function(a){d.push({text:a[0],value:a[1],textStyle:function(){return b(a[1])}})});return{type:"listbox",text:k[0][0],values:d,fixedWidth:!0,onselect:p,onPostRender:c(d)}});a.addButton("fontselect",function(){var b=[],d=h(a.settings.font_formats||"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
f(d,function(a){b.push({text:{raw:a[0]},value:a[1],textStyle:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:b,fixedWidth:!0,onPostRender:c(b,"fontname"),onselect:function(b){b.control.settings.value&&a.execCommand("FontName",!1,b.control.settings.value)}}});a.addButton("fontsizeselect",function(){var b=[];f((a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(a){b.push({text:a,value:a})});
return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:b,fixedWidth:!0,onPostRender:c(b,"fontsize"),onclick:function(b){b.control.settings.value&&a.execCommand("FontSize",!1,b.control.settings.value)}}});a.addMenuItem("formats",{text:"Formats",menu:r})}var f=h.each;a.on("AddEditor",function(a){a.editor.rtl&&(l.rtl=!0);c(a.editor)});l.translate=function(b){return a.translate(b)};k.tooltips=!b.iOS});y("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(l){return l.extend({recalc:function(k){var d=
k.settings,h,a,b,c,f,e,g,l,u,m,q,p,r,s,n,v,w,y=[],C=[],d=k.settings;b=k.items().filter(":visible");c=k.layoutRect();a=d.columns||Math.ceil(Math.sqrt(b.length));h=Math.ceil(b.length/a);s=d.spacingH||d.spacing||0;n=d.spacingV||d.spacing||0;v=d.alignH||d.align;w=d.alignV||d.align;p=k._paddingBox;v&&"string"==typeof v&&(v=[v]);w&&"string"==typeof w&&(w=[w]);for(l=0;l<a;l++)y.push(0);for(f=0;f<h;f++)C.push(0);for(f=0;f<h;f++)for(l=0;l<a;l++){g=b[f*a+l];if(!g)break;e=g.layoutRect();g=e.minW;e=e.minH;y[l]=
g>y[l]?g:y[l];C[f]=e>C[f]?e:C[f]}e=c.innerW-p.left-p.right;for(l=g=0;l<a;l++)g+=y[l]+(0<l?s:0),e-=(0<l?s:0)+y[l];u=c.innerH-p.top-p.bottom;for(f=l=0;f<h;f++)l+=C[f]+(0<f?n:0),u-=(0<f?n:0)+C[f];g+=p.left+p.right;l+=p.top+p.bottom;f={};f.minW=g+(c.w-c.innerW);f.minH=l+(c.h-c.innerH);f.contentW=f.minW-c.deltaW;f.contentH=f.minH-c.deltaH;f.minW=Math.min(f.minW,c.maxW);f.minH=Math.min(f.minH,c.maxH);f.minW=Math.max(f.minW,c.startMinWidth);f.minH=Math.max(f.minH,c.startMinHeight);if(!c.autoResize||f.minW==
c.minW&&f.minH==c.minH){c.autoResize&&(f=k.layoutRect(f),f.contentW=f.minW-c.deltaW,f.contentH=f.minH-c.deltaH);k="start"==d.packV?0:0<u?Math.floor(u/h):0;f=0;if(d=d.flexWidths)for(l=0;l<d.length;l++)f+=d[l];else f=a;f=e/f;for(l=0;l<a;l++)y[l]+=d?d[l]*f:f;m=p.top;for(f=0;f<h;f++){u=p.left;c=C[f]+k;for(l=0;l<a;l++){g=b[f*a+l];if(!g)break;q=g.settings;e=g.layoutRect();d=Math.max(y[l],e.startMinWidth);e.x=u;e.y=m;r=q.alignH||(v?v[l]||v[0]:null);"center"==r?e.x=u+d/2-e.w/2:"right"==r?e.x=u+d-e.w:"stretch"==
r&&(e.w=d);r=q.alignV||(w?w[l]||w[0]:null);"center"==r?e.y=m+c/2-e.h/2:"bottom"==r?e.y=m+c-e.h:"stretch"==r&&(e.h=c);g.layoutRect(e);u+=d+s;g.recalc&&g.recalc()}m+=c+n}}else if(f.w=f.minW,f.h=f.minH,k.layoutRect(f),this.recalc(k),null===k._lastRect&&(h=k.parent()))h._lastRect=null,h.recalc()}})});y("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(l){return l.extend({renderHtml:function(){this.addClass("iframe");this.canFocus=!1;return'<iframe id="'+this._id+'" class="'+this.classes()+'" tabindex="-1" src="'+
(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(k){this.getEl().src=k},html:function(k,d){var h=this,a=this.getEl().contentWindow.document.body;a?(a.innerHTML=k,d&&d()):setTimeout(function(){h.html(k)},0);return this}})});y("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(l,k){return l.extend({init:function(d){this._super(d);this.addClass("widget");this.addClass("label");this.canFocus=!1;d.multiline&&this.addClass("autoscroll");d.strong&&this.addClass("strong")},
initLayoutRect:function(){var d=this._super();this.settings.multiline&&(k.getSize(this.getEl()).width>d.maxW&&(d.minW=d.maxW,this.addClass("multiline")),this.getEl().style.width=d.minW+"px",d.startMinH=d.h=d.minH=Math.min(d.maxH,k.getSize(this.getEl()).height));return d},repaint:function(){this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px");return this._super()},text:function(d){this._rendered&&d&&this.innerHtml(this.encode(d));return this._super(d)},renderHtml:function(){var d=
this.settings.forId;return'<label id="'+this._id+'" class="'+this.classes()+'"'+(d?' for="'+d+'"':"")+">"+this.encode(this._text)+"</label>"}})});y("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(l){return l.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(k){this._super(k);this.addClass("toolbar")},postRender:function(){this.items().addClass("toolbar-item");return this._super()}})});y("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(l){return l.extend({Defaults:{role:"menubar",
containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})});y("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(l,k,d){var h=l.extend({init:function(a){this._renderOpen=!0;this._super(a);this.addClass("menubtn");a.fixedWidth&&this.addClass("fixed-width");this.aria("haspopup",!0);this.hasPopup=!0},showMenu:function(){var a=this,b=a.settings;if(a.menu&&a.menu.visible())return a.hideMenu();a.menu||(b=b.menu||[],b.length?b={type:"menu",items:b}:
b.type=b.type||"menu",a.menu=k.create(b).parent(a).renderTo(),a.fire("createmenu"),a.menu.reflow(),a.menu.on("cancel",function(b){b.control.parent()===a.menu&&(b.stopPropagation(),a.focus(),a.hideMenu())}),a.menu.on("select",function(){a.focus()}),a.menu.on("show hide",function(b){b.control==a.menu&&a.activeMenu("show"==b.type);a.aria("expanded","show"==b.type)}).fire("show"));a.menu.show();a.menu.layoutRect({w:a.layoutRect().w});a.menu.moveRel(a.getEl(),a.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},
hideMenu:function(){this.menu&&(this.menu.items().each(function(a){a.hideMenu&&a.hideMenu()}),this.menu.hide())},activeMenu:function(a){this.toggleClass("active",a)},renderHtml:function(){var a=this._id,b=this.classPrefix,c=this.settings.icon?b+"ico "+b+"i-"+this.settings.icon:"";this.aria("role",this.parent()instanceof d?"menuitem":"button");return'<div id="'+a+'" class="'+this.classes()+'" tabindex="-1" aria-labelledby="'+a+'"><button id="'+a+'-open" role="presentation" type="button" tabindex="-1">'+
(c?'<i class="'+c+'"></i>':"")+"<span>"+(this._text?(c?"\u00a0":"")+this.encode(this._text):"")+'</span> <i class="'+b+'caret"></i></button></div>'},postRender:function(){var a=this;a.on("click",function(b){var c;if(c=b.control===a)a:{c=b.target;for(var d=a.getEl();c;){if(d===c){c=!0;break a}c=c.parentNode}c=!1}c&&(a.showMenu(),b.aria&&a.menu.items()[0].focus())});a.on("mouseenter",function(b){var c=b.control;b=a.parent();var d;c&&b&&c instanceof h&&c.parent()==b&&(b.items().filter("MenuButton").each(function(a){a.hideMenu&&
a!=c&&(a.menu&&a.menu.visible()&&(d=!0),a.hideMenu())}),d&&(c.focus(),c.showMenu()))});return a._super()},text:function(a){var b,c;if(this._rendered)for(c=this.getEl("open").getElementsByTagName("span"),b=0;b<c.length;b++)c[b].innerHTML=(this.settings.icon&&a?"\u00a0":"")+this.encode(a);return this._super(a)},remove:function(){this._super();this.menu&&this.menu.remove()}});return h});y("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(l){return l.extend({init:function(k){var d=this,h,a,b,c,
f;if(d._values=h=k.values){for(a=0;a<h.length;a++)if(b=h[a].selected||k.value===h[a].value){c=c||h[a].text;d._value=h[a].value;break}!b&&0<h.length&&(c=h[0].text,d._value=h[0].value);k.menu=h}k.text=k.text||c||h[0].text;d._super(k);d.addClass("listbox");d.on("select",function(a){var b=a.control;f&&(a.lastControl=f);k.multiple?b.active(!b.active()):d.value(a.control.settings.value);f=b})},value:function(k){function d(b,c){b.items().each(function(b){(h=b.value()===c)&&(a=a||b.text());b.active(h);b.menu&&
d(b.menu,c)})}var h,a,b,c;if("undefined"!=typeof k){if(this.menu)d(this.menu,k);else for(b=this.settings.menu,c=0;c<b.length;c++)(h=b[c].value==k)&&(a=a||b[c].text),b[c].active=h;this.text(a||this.settings.text)}return this._super(k)}})});y("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env"],function(l,k,d){return l.extend({Defaults:{border:0,role:"menuitem"},init:function(d){this.hasPopup=!0;this._super(d);d=this.settings;this.addClass("menu-item");d.menu&&this.addClass("menu-item-expand");
d.preview&&this.addClass("menu-item-preview");if("-"===this._text||"|"===this._text)this.addClass("menu-item-sep"),this.aria("role","separator"),this._text="-";d.selectable&&(this.aria("role","menuitemcheckbox"),this.addClass("menu-item-checkbox"),d.icon="selected");d.preview||d.selectable||this.addClass("menu-item-normal");this.on("mousedown",function(a){a.preventDefault()});d.menu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var d=this,a=d.settings,
b,c=d.parent();c.items().each(function(a){a!==d&&a.hideMenu()});a.menu&&((b=d.menu)?b.show():(b=a.menu,b.length?b={type:"menu",items:b}:b.type=b.type||"menu",c.settings.itemDefaults&&(b.itemDefaults=c.settings.itemDefaults),b=d.menu=k.create(b).parent(d).renderTo(),b.reflow(),b.fire("show"),b.on("cancel",function(a){a.stopPropagation();d.focus();b.hide()}),b.on("hide",function(a){a.control===b&&d.removeClass("selected")}),b.submenu=!0),b._parentMenu=c,b.addClass("menu-sub"),a=b.testMoveRel(d.getEl(),
d.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),b.moveRel(d.getEl(),a),b.rel=a,a="menu-sub-"+a,b.removeClass(b._lastRel),b.addClass(a),b._lastRel=a,d.addClass("selected"),d.aria("expanded",!0))},hideMenu:function(){this.menu&&(this.menu.items().each(function(d){d.hideMenu&&d.hideMenu()}),this.menu.hide(),this.aria("expanded",!1));return this},renderHtml:function(){var h=this._id,a=this.settings,b=this.classPrefix,c=this.encode(this._text),f=this.settings.icon,e="",g=
a.shortcut;f&&this.parent().addClass("menu-has-icons");a.image&&(e=" style=\"background-image: url('"+a.image+"')\"");g&&d.mac&&(g=g.replace(/ctrl\+alt\+/i,"&#x2325;&#x2318;"),g=g.replace(/ctrl\+/i,"&#x2318;"),g=g.replace(/alt\+/i,"&#x2325;"),g=g.replace(/shift\+/i,"&#x21E7;"));f=b+"ico "+b+"i-"+(this.settings.icon||"none");return'<div id="'+h+'" class="'+this.classes()+'" tabindex="-1">'+("-"!==c?'<i class="'+f+'"'+e+"></i>&nbsp;":"")+("-"!==c?'<span id="'+h+'-text" class="'+b+'text">'+c+"</span>":
"")+(g?'<div id="'+h+'-shortcut" class="'+b+'menu-shortcut">'+g+"</div>":"")+(a.menu?'<div class="'+b+'caret"></div>':"")+"</div>"},postRender:function(){var d=this,a=d.settings,b=a.textStyle;"function"==typeof b&&(b=b.call(this));if(b){var c=d.getEl("text");c&&c.setAttribute("style",b)}d.on("mouseenter click",function(b){b.control===d&&(a.menu||"click"!==b.type?(d.showMenu(),b.aria&&d.menu.focus(!0)):(d.fire("select"),d.parent().hideAll()))});d._super();return d},active:function(d){"undefined"!=
typeof d&&this.aria("checked",d);return this._super(d)},remove:function(){this._super();this.menu&&this.menu.remove()}})});y("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/util/Tools"],function(l,k,d){return l.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(h){h.autohide=!0;h.constrainToViewport=!0;if(h.itemDefaults)for(var a=h.items,b=a.length;b--;)a[b]=d.extend({},h.itemDefaults,a[b]);this._super(h);
this.addClass("menu")},repaint:function(){this.toggleClass("menu-align",!0);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){this.hideAll();this.fire("select")},hideAll:function(){this.find("menuitem").exec("hideMenu");return this._super()},preRender:function(){var d=this;d.items().each(function(a){a=a.settings;if(a.icon||a.selectable)return d._hasIcons=!0,!1});return d._super()}})});y("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(l){return l.extend({Defaults:{classes:"radio",
role:"radio"}})});y("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(l,k){return l.extend({renderHtml:function(){var d=this.classPrefix;this.addClass("resizehandle");"both"==this.settings.direction&&this.addClass("resizehandle-both");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes()+'"><i class="'+d+"ico "+d+'i-resize"></i></div>'},postRender:function(){var d=this;d._super();d.resizeDragHelper=new k(this._id,{start:function(){d.fire("ResizeStart")},
drag:function(h){"both"!=d.settings.direction&&(h.deltaX=0);d.fire("Resize",h)},stop:function(){d.fire("ResizeEnd")}})},remove:function(){this.resizeDragHelper&&this.resizeDragHelper.destroy();return this._super()}})});y("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(l){return l.extend({renderHtml:function(){this.addClass("spacer");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes()+'"></div>'}})});y("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils"],function(l,
k){return l.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var d=this.getEl(),h=this.layoutRect(),a;this._super();a=d.firstChild;d=d.lastChild;k.css(a,{width:h.w-k.getSize(d).width,height:h.h-2});k.css(d,{height:h.h-2});return this},activeMenu:function(d){k.toggleClass(this.getEl().lastChild,this.classPrefix+"active",d)},renderHtml:function(){var d=this.classPrefix,h=this.settings.icon?d+"ico "+d+"i-"+this.settings.icon:"";return'<div id="'+this._id+'" class="'+
this.classes()+'" role="button" tabindex="-1"><button type="button" hidefocus tabindex="-1">'+(h?'<i class="'+h+'"></i>':"")+(this._text?(h?" ":"")+this._text:"")+'</button><button type="button" class="'+d+'open" hidefocus tabindex="-1">'+(this._menuBtnText?(h?"\u00a0":"")+this._menuBtnText:"")+' <i class="'+d+'caret"></i></button></div>'},postRender:function(){var d=this.settings.onclick;this.on("click",function(h){var a=h.target;if(h.control==this)for(;a;){if(h.aria&&"down"!=h.aria.key||"BUTTON"==
a.nodeName&&-1==a.className.indexOf("open")){h.stopImmediatePropagation();d.call(this,h);break}a=a.parentNode}});delete this.settings.onclick;return this._super()}})});y("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(l){return l.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})});y("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],function(l,k){return l.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},
activateTab:function(d){var h;this.activeTabId&&(h=this.getEl(this.activeTabId),k.removeClass(h,this.classPrefix+"active"),h.setAttribute("aria-selected","false"));this.activeTabId="t"+d;h=this.getEl("t"+d);h.setAttribute("aria-selected","true");k.addClass(h,this.classPrefix+"active");d!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=d);this.items()[d].show().fire("showtab");this.reflow()},renderHtml:function(){var d=this,h=d._layout,a="",b=d.classPrefix;d.preRender();h.preRender(d);
d.items().each(function(c,f){var e=d._id+"-t"+f;c.aria("role","tabpanel");c.aria("labelledby",e);a+='<div id="'+e+'" class="'+b+'tab" unselectable="on" role="tab" aria-controls="'+c._id+'" aria-selected="false" tabIndex="-1">'+d.encode(c.settings.title)+"</div>"});return'<div id="'+d._id+'" class="'+d.classes()+'" hideFocus="1" tabIndex="-1"><div id="'+d._id+'-head" class="'+b+'tabs" role="tablist">'+a+'</div><div id="'+d._id+'-body" class="'+d.classes("body")+'">'+h.renderHtml(d)+"</div></div>"},
postRender:function(){var d=this;d._super();d.settings.activeTab=d.settings.activeTab||0;d.activateTab(d.settings.activeTab);this.on("click",function(h){var a=h.target.parentNode;if(h.target.parentNode.id==d._id+"-head")for(var b=a.childNodes.length;b--;)a.childNodes[b]==h.target&&d.activateTab(b)})},initLayoutRect:function(){var d=this,h,a,b;a=k.getSize(d.getEl("head")).width;a=0>a?0:a;b=0;d.items().each(function(c,e){a=Math.max(a,c.layoutRect().minW);b=Math.max(b,c.layoutRect().minH);d.settings.activeTab!=
e&&c.hide()});d.items().each(function(c){c.settings.x=0;c.settings.y=0;c.settings.w=a;c.settings.h=b;c.layoutRect({x:0,y:0,w:a,h:b})});var c=k.getSize(d.getEl("head")).height;d.settings.minWidth=a;d.settings.minHeight=b+c;h=d._super();h.deltaH+=c;h.innerH=h.h-h.deltaH;return h}})});y("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(l,k){return l.extend({init:function(d){var h=this;h._super(d);h._value=d.value||"";h.addClass("textbox");if(d.multiline)h.addClass("multiline");
else h.on("keydown",function(a){13==a.keyCode&&h.parents().reverse().each(function(b){a.preventDefault();if(b.hasEventListeners("submit")&&b.toJSON)return b.fire("submit",{data:b.toJSON()}),!1})})},disabled:function(d){this._rendered&&"undefined"!=typeof d&&(this.getEl().disabled=d);return this._super(d)},value:function(d){return"undefined"!=typeof d?(this._value=d,this._rendered&&(this.getEl().value=d),this):this._rendered?this.getEl().value:this._value},repaint:function(){var d,h,a,b=0;a=0;var c;
d=this.getEl().style;h=this._layoutRect;c=this._lastRepaintRect||{};b=document;!this.settings.multiline&&b.all&&(!b.documentMode||8>=b.documentMode)&&(d.lineHeight=h.h-a+"px");a=this._borderBox;b=a.left+a.right+8;a=a.top+a.bottom+(this.settings.multiline?8:0);h.x!==c.x&&(d.left=h.x+"px",c.x=h.x);h.y!==c.y&&(d.top=h.y+"px",c.y=h.y);h.w!==c.w&&(d.width=h.w-b+"px",c.w=h.w);h.h!==c.h&&(d.height=h.h-a+"px",c.h=h.h);this._lastRepaintRect=c;this.fire("repaint",{},!1);return this},renderHtml:function(){var d=
this._id,h=this.settings,a=this.encode(this._value,!1),b="";"spellcheck"in h&&(b+=' spellcheck="'+h.spellcheck+'"');h.maxLength&&(b+=' maxlength="'+h.maxLength+'"');h.size&&(b+=' size="'+h.size+'"');h.subtype&&(b+=' type="'+h.subtype+'"');this.disabled()&&(b+=' disabled="disabled"');return h.multiline?'<textarea id="'+d+'" class="'+this.classes()+'" '+(h.rows?' rows="'+h.rows+'"':"")+' hidefocus="true"'+b+">"+a+"</textarea>":'<input id="'+d+'" class="'+this.classes()+'" value="'+a+'" hidefocus="true"'+
b+">"},postRender:function(){var d=this;k.on(d.getEl(),"change",function(h){d.fire("change",h)});return d._super()},remove:function(){k.off(this.getEl());this._super()}})});y("tinymce/ui/Throbber",["tinymce/ui/DomUtils"],function(l){return function(k){var d=this,h;d.show=function(a){d.hide();h=!0;window.setTimeout(function(){h&&k.appendChild(l.createFragment('<div class="mce-throbber"></div>'))},a||0);return d};d.hide=function(){var a=k.lastChild;a&&-1!=a.className.indexOf("throbber")&&a.parentNode.removeChild(a);
h=!1;return d}}});(function(l){for(var k=0;k<l.length;k++){for(var d=ca,h=l[k],a=h.split(/[.\/]/),b=0;b<a.length-1;++b)d[a[b]]===P&&(d[a[b]]={}),d=d[a[b]];d[a[a.length-1]]=$[h]}})("tinymce/dom/Sizzle tinymce/html/Styles tinymce/dom/EventUtils tinymce/dom/TreeWalker tinymce/util/Tools tinymce/dom/Range tinymce/html/Entities tinymce/Env tinymce/dom/StyleSheetLoader tinymce/dom/DOMUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/html/Node tinymce/html/Schema tinymce/html/SaxParser tinymce/html/DomParser tinymce/html/Writer tinymce/html/Serializer tinymce/dom/Serializer tinymce/dom/TridentSelection tinymce/util/VK tinymce/dom/ControlSelection tinymce/dom/RangeUtils tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/util/Class tinymce/ui/Selector tinymce/ui/Collection tinymce/ui/DomUtils tinymce/ui/Control tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/ui/Container tinymce/ui/DragHelper tinymce/ui/Scrollable tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/FloatPanel tinymce/ui/Window tinymce/ui/MessageBox tinymce/WindowManager tinymce/util/Quirks tinymce/util/Observable tinymce/Shortcuts tinymce/Editor tinymce/util/I18n tinymce/FocusManager tinymce/EditorManager tinymce/LegacyInput tinymce/util/XHR tinymce/util/JSON tinymce/util/JSONRequest tinymce/util/JSONP tinymce/util/LocalStorage tinymce/Compat tinymce/ui/Layout tinymce/ui/AbsoluteLayout tinymce/ui/Tooltip tinymce/ui/Widget tinymce/ui/Button tinymce/ui/ButtonGroup tinymce/ui/Checkbox tinymce/ui/PanelButton tinymce/ui/ColorButton tinymce/ui/ComboBox tinymce/ui/Path tinymce/ui/ElementPath tinymce/ui/FormItem tinymce/ui/Form tinymce/ui/FieldSet tinymce/ui/FilePicker tinymce/ui/FitLayout tinymce/ui/FlexLayout tinymce/ui/FlowLayout tinymce/ui/FormatControls tinymce/ui/GridLayout tinymce/ui/Iframe tinymce/ui/Label tinymce/ui/Toolbar tinymce/ui/MenuBar tinymce/ui/MenuButton tinymce/ui/ListBox tinymce/ui/MenuItem tinymce/ui/Menu tinymce/ui/Radio tinymce/ui/ResizeHandle tinymce/ui/Spacer tinymce/ui/SplitButton tinymce/ui/StackLayout tinymce/ui/TabPanel tinymce/ui/TextBox tinymce/ui/Throbber".split(" "))})(this);
