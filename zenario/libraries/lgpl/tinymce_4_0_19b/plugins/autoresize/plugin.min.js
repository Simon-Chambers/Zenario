tinymce.PluginManager.add("autoresize",function(a){function g(h){var b,c,f,l=tinymce.DOM,e,m;if(c=a.getDoc())if(b=c.body,f=c.documentElement,c=d.autoresize_min_height,b&&!(h&&"setcontent"===h.type&&h.initial||a.plugins.fullscreen&&a.plugins.fullscreen.isFullscreen())){e=a.dom.getStyle(b,"margin-top",!0);m=a.dom.getStyle(b,"margin-bottom",!0);e=b.offsetHeight+parseInt(e,10)+parseInt(m,10);if(isNaN(e)||0>=e)e=tinymce.Env.ie?b.scrollHeight:tinymce.Env.webkit&&0===b.clientHeight?0:b.offsetHeight;e>d.autoresize_min_height&&
(c=e);d.autoresize_max_height&&e>d.autoresize_max_height?(c=d.autoresize_max_height,b.style.overflowY="auto",f.style.overflowY="auto"):(b.style.overflowY="hidden",f.style.overflowY="hidden",b.scrollTop=0);c!==k&&(b=c-k,l.setStyle(l.get(a.id+"_ifr"),"height",c+"px"),k=c,tinymce.isWebKit&&0>b&&g(h))}}function f(a,b,c){setTimeout(function(){g({});a--?f(a,b,c):c&&c()},b)}var d=a.settings,k=0;if(!a.settings.inline){d.autoresize_min_height=parseInt(a.getParam("autoresize_min_height",a.getElement().offsetHeight),
10);d.autoresize_max_height=parseInt(a.getParam("autoresize_max_height",0),10);a.on("init",function(){var d=a.getParam("autoresize_overflow_padding",1);a.dom.setStyles(a.getBody(),{paddingBottom:a.getParam("autoresize_bottom_margin",50),paddingLeft:d,paddingRight:d})});a.on("change setcontent paste keyup",g);if(a.getParam("autoresize_on_init",!0))a.on("init",function(){f(20,100,function(){f(5,1E3)})});a.addCommand("mceAutoResize",g)}});
