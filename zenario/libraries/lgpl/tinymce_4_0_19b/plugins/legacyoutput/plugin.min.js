(function(b){b.on("AddEditor",function(b){b.editor.settings.inline_styles=!1});b.PluginManager.add("legacyoutput",function(c){c.on("init",function(){var e=b.explode(c.settings.font_size_style_values),d=c.schema;c.formatter.register({alignleft:{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",attributes:{align:"left"}},aligncenter:{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",attributes:{align:"center"}},alignright:{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",
attributes:{align:"right"}},alignjustify:{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",attributes:{align:"justify"}},bold:[{inline:"b",remove:"all"},{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}}],italic:[{inline:"i",remove:"all"},{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}}],underline:[{inline:"u",remove:"all"},{inline:"span",styles:{textDecoration:"underline"},exact:!0}],strikethrough:[{inline:"strike",remove:"all"},{inline:"span",
styles:{textDecoration:"line-through"},exact:!0}],fontname:{inline:"font",attributes:{face:"%value"}},fontsize:{inline:"font",attributes:{size:function(a){return b.inArray(e,a.value)+1}}},forecolor:{inline:"font",attributes:{color:"%value"}},hilitecolor:{inline:"font",styles:{backgroundColor:"%value"}}});b.each(["b","i","u","strike"],function(a){d.addValidElements(a+"[*]")});d.getElementRule("font")||d.addValidElements("font[face|size|color|style]");b.each("p h1 h2 h3 h4 h5 h6 td th div ul ol li table img".split(" "),
function(a){(a=d.getElementRule(a))&&!a.attributes.align&&(a.attributes.align={},a.attributesOrder.push("align"))})})})})(tinymce);
