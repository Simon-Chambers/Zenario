(function(b,n,s){function e(a,r,x){a=n.createElement(a);r&&(a.id=p+r);x&&(a.style.cssText=x);return b(a)}function Y(){return s.innerHeight?s.innerHeight:b(s).height()}function Q(a,r){r!==Object(r)&&(r={});this.cache={};this.el=a;this.value=function(a){var d;void 0===this.cache[a]&&(d=b(this.el).attr("data-cbox-"+a),void 0!==d?this.cache[a]=d:void 0!==r[a]?this.cache[a]=r[a]:void 0!==Z[a]&&(this.cache[a]=Z[a]));return this.cache[a]};this.get=function(a){a=this.value(a);return b.isFunction(a)?a.call(this.el,
this):a}}function R(a){var b=k.length;a=(q+a)%b;return 0>a?b+a:a}function l(a,b){return Math.round((/%/.test(a)?("x"===b?t.width():Y())/100:1)*parseInt(a,10))}function ka(a,b){return a.get("retinaUrl")&&1<s.devicePixelRatio?b.replace(a.get("photoRegex"),a.get("retinaSuffix")):b}function la(a){"contains"in c[0]&&!c[0].contains(a.target)&&a.target!==u[0]&&(a.stopPropagation(),c.focus())}function K(a){K.str!==a&&(c.add(u).removeClass(K.str).addClass(a),K.str=a)}function qa(){q=0;rel&&"nofollow"!==rel?
(k=b("."+H).filter(function(){var a=b.data(this,B);return(new Q(this,a)).get("rel")===rel}),q=k.index(a.el),-1===q&&(k=k.add(a.el),q=k.length-1)):k=b(a.el)}function F(a){b(n).trigger(a);w.triggerHandler(a)}function S(d){var r;if(!L){r=b(d).data("colorbox");a=new Q(d,r);rel=a.get("rel");qa();if(!y&&(y=M=!0,K(a.get("className")),c.css({visibility:"hidden",display:"block",opacity:""}),h=e(g,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),v.css({width:"",height:""}).append(h),
z=$.height()+aa.height()+v.outerHeight(!0)-v.height(),A=ba.width()+ca.width()+v.outerWidth(!0)-v.width(),C=h.outerHeight(!0),D=h.outerWidth(!0),a.w=l(a.get("initialWidth"),"x"),a.h=l(a.get("initialHeight"),"y"),h.css({width:"",height:a.h}),m.position(),F(ra),a.get("onOpen"),da.add(ea).hide(),c.focus(),a.get("trapFocus")&&n.addEventListener&&(n.addEventListener("focus",la,!0),w.one(fa,function(){n.removeEventListener("focus",la,!0)})),a.get("returnFocus")))w.one(fa,function(){b(a.el).focus()});u.css({opacity:parseFloat(a.get("opacity"))||
"",cursor:a.get("overlayClose")?"pointer":"",visibility:"visible"}).show();a.get("closeButton")?T.html(a.get("close")).appendTo(v):T.appendTo("<div/>");sa()}}function ma(){!c&&n.body&&(ga=!1,t=b(s),c=e(g).attr({id:B,"class":!1===b.support.opacity?p+"IE":"",role:"dialog",tabindex:"-1"}).hide(),u=e(g,"Overlay").hide(),U=b([e(g,"LoadingOverlay")[0],e(g,"LoadingGraphic")[0]]),G=e(g,"Wrapper"),v=e(g,"Content").append(ea=e(g,"Title"),ha=e(g,"Current"),N=b('<button type="button"/>').attr({id:p+"Previous"}),
O=b('<button type="button"/>').attr({id:p+"Next"}),I=e("button","Slideshow"),U),T=b('<button type="button"/>').attr({id:p+"Close"}),G.append(e(g).append(e(g,"TopLeft"),$=e(g,"TopCenter"),e(g,"TopRight")),e(g,!1,"clear:left").append(ba=e(g,"MiddleLeft"),v,ca=e(g,"MiddleRight")),e(g,!1,"clear:left").append(e(g,"BottomLeft"),aa=e(g,"BottomCenter"),e(g,"BottomRight"))).find("div div").css({"float":"left"}),P=e(g,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),da=
O.add(N).add(ha).add(I),b(n.body).append(u,c.append(G,P)))}function ta(){function d(a){1<a.which||a.shiftKey||a.altKey||a.metaKey||a.ctrlKey||(a.preventDefault(),S(this))}if(c){if(!ga)if(ga=!0,O.click(function(){m.next()}),N.click(function(){m.prev()}),T.click(function(){m.close()}),u.click(function(){a.get("overlayClose")&&m.close()}),b(n).bind("keydown."+p,function(b){var d=b.keyCode;y&&a.get("escKey")&&27===d&&(b.preventDefault(),m.close());y&&a.get("arrowKey")&&k[1]&&!b.altKey&&(37===d?(b.preventDefault(),
N.click()):39===d&&(b.preventDefault(),O.click()))}),b.isFunction(b.fn.on))b(n).on("click."+p,"."+H,d);else b("."+H).live("click."+p,d);return!0}return!1}function sa(){var d,c,x=m.prep,J,na=++ia;M=!0;f=!1;F(V);F(W);a.get("onLoad");a.h=a.get("height")?l(a.get("height"),"y")-C-z:a.get("innerHeight")&&l(a.get("innerHeight"),"y");a.w=a.get("width")?l(a.get("width"),"x")-D-A:a.get("innerWidth")&&l(a.get("innerWidth"),"x");a.mw=a.w;a.mh=a.h;a.get("maxWidth")&&(a.mw=l(a.get("maxWidth"),"x")-D-A,a.mw=a.w&&
a.w<a.mw?a.w:a.mw);a.get("maxHeight")&&(a.mh=l(a.get("maxHeight"),"y")-C-z,a.mh=a.h&&a.h<a.mh?a.h:a.mh);d=a.get("href");oa=setTimeout(function(){U.show()},100);a.get("inline")?(J=e(g).hide().insertBefore(b(d)[0]),w.one(V,function(){J.replaceWith(h.children())}),x(b(d))):a.get("iframe")?x(" "):a.get("html")?x(a.get("html")):a.get("photo")||a.get("photoRegex").test(d)?(d=ka(a,d),f=n.createElement("img"),b(f).addClass(p+"Photo").bind("error",function(){x(e(g,"Error").html(a.get("imgError")))}).one("load",
function(){var d;if(na===ia){b.each(["alt","longdesc","aria-describedby"],function(d,c){var r=b(a.el).attr(c)||b(a.el).attr("data-"+c);r&&f.setAttribute(c,r)});a.get("retinaImage")&&1<s.devicePixelRatio&&(f.height/=s.devicePixelRatio,f.width/=s.devicePixelRatio);a.get("scalePhotos")&&(c=function(){f.height-=f.height*d;f.width-=f.width*d},a.mw&&f.width>a.mw&&(d=(f.width-a.mw)/f.width,c()),a.mh&&f.height>a.mh&&(d=(f.height-a.mh)/f.height,c()));if(a.h||a.minHeight)f.style.marginTop=Math.max((a.mh||a.minHeight)-
f.height,0)/2+"px";k[1]&&(a.get("loop")||k[q+1])&&(f.style.cursor="pointer",f.onclick=function(){m.next()});f.style.width=f.width+"px";f.style.height=f.height+"px";setTimeout(function(){x(f)},1)}}),setTimeout(function(){f.src=d},1)):d&&P.load(d,a.get("data"),function(d,c){na===ia&&x("error"===c?e(g,"Error").html(a.get("xhrError")):b(this).contents())})}var Z={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:Math.floor(0.9*
b(s).width()),height:!1,initialHeight:"450",innerHeight:!1,maxHeight:Math.floor(0.9*b(s).height()),scalePhotos:!0,scrolling:!0,opacity:0.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,
retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"{current} / {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return b(this).attr("href")},title:function(){return this.title}},B="colorbox",p="cbox",H=p+"Element",ra=p+"_open",W=p+"_load",X=p+"_complete",ja=p+"_cleanup",fa=
p+"_closed",V=p+"_purge",u,c,G,v,$,ba,ca,aa,k,t,h,P,U,ea,ha,I,O,N,T,da,w=b("<a/>"),a,z,A,C,D,q,f,y,M,L,oa,m,g="div",ia=0,pa={},ga,ua=function(){function b(){clearTimeout(n)}function f(){if(a.get("loop")||k[q+1])b(),n=setTimeout(m.next,a.get("slideshowSpeed"))}function e(){I.html(a.get("slideshowStop")).unbind(E).one(E,J);w.bind(X,f).bind(W,b);c.removeClass(l+"off").addClass(l+"on")}function J(){b();w.unbind(X,f).unbind(W,b);I.html(a.get("slideshowStart")).unbind(E).one(E,function(){m.next();e()});
c.removeClass(l+"on").addClass(l+"off")}function g(){h=!1;I.hide();b();w.unbind(X,f).unbind(W,b);c.removeClass(l+"off "+l+"on")}var h,l=p+"Slideshow_",E="click."+p,n;return function(){h?a.get("slideshow")||(w.unbind(ja,g),g()):a.get("slideshow")&&k[1]&&(h=!0,w.one(ja,g),a.get("slideshowAuto")?e():J(),I.show())}}();b.colorbox||(b(ma),m=b.fn[B]=b[B]=function(a,c){var f,e=this;a=a||{};if(b.isFunction(e))e=b("<a/>"),a.open=!0;else if(!e[0])return e;if(!e[0])return e;ma();ta()&&(c&&(a.onComplete=c),e.each(function(){var c=
b.data(this,B)||{};b.data(this,B,b.extend(c,a))}).addClass(H),f=new Q(e[0],a),f.get("open")&&S(e[0]));return e},m.position=function(d,e){function f(){$[0].style.width=aa[0].style.width=v[0].style.width=parseInt(c[0].style.width,10)-A+"px";v[0].style.height=ba[0].style.height=ca[0].style.height=parseInt(c[0].style.height,10)-z+"px"}var g,h=0,k=0,n=c.offset(),E,q;t.unbind("resize."+p);c.css({top:-9E4,left:-9E4});E=t.scrollTop();q=t.scrollLeft();a.get("fixed")?(n.top-=E,n.left-=q,c.css({position:"fixed"})):
(h=E,k=q,c.css({position:"absolute"}));k=!1!==a.get("right")?k+Math.max(t.width()-a.w-D-A-l(a.get("right"),"x"),0):!1!==a.get("left")?k+l(a.get("left"),"x"):k+Math.round(Math.max(t.width()-a.w-D-A,0)/2);h=!1!==a.get("bottom")?h+Math.max(Y()-a.h-C-z-l(a.get("bottom"),"y"),0):!1!==a.get("top")?h+l(a.get("top"),"y"):h+Math.round(Math.max(Y()-a.h-C-z,0)/2);c.css({top:n.top,left:n.left,visibility:"visible"});G[0].style.width=G[0].style.height="9999px";g={width:a.w+D+A,height:a.h+C+z,top:h,left:k};if(d){var s=
0;b.each(g,function(a){g[a]!==pa[a]&&(s=d)});d=s}pa=g;d||c.css(g);c.dequeue().animate(g,{duration:d||0,complete:function(){f();M=!1;G[0].style.width=a.w+D+A+"px";G[0].style.height=a.h+C+z+"px";a.get("reposition")&&setTimeout(function(){t.bind("resize."+p,m.position)},1);e&&e()},step:f})},m.resize=function(b){var c;y&&(b=b||{},b.width&&(a.w=l(b.width,"x")-D-A),b.innerWidth&&(a.w=l(b.innerWidth,"x")),h.css({width:a.w}),b.height&&(a.h=l(b.height,"y")-C-z),b.innerHeight&&(a.h=l(b.innerHeight,"y")),b.innerHeight||
b.height||(c=h.scrollTop(),h.css({height:"auto"}),a.h=h.height()),h.css({height:a.h}),c&&h.scrollTop(c),m.position("none"===a.get("transition")?0:a.get("speed")))},m.prep=function(d){function r(){a.w=a.w||h.width();a.minWidth&&a.w<a.minWidth&&(a.w=l(a.minWidth,"x"));a.w=a.mw&&a.mw<a.w?a.mw:a.w;return a.w}function s(){a.h=a.h||h.height();a.minHeight&&a.h<a.minHeight&&(a.h=l(a.minHeight,"y"));a.h=a.mh&&a.mh<a.h?a.mh:a.h;return a.h}if(y){var t,u="none"===a.get("transition")?0:a.get("speed");h.remove();
h=e(g,"LoadedContent").append(d);h.hide().appendTo(P.show()).css({width:r(),overflow:a.get("scrolling")?"auto":"hidden"}).css({height:s()}).prependTo(v);P.hide();b(f).css({"float":"none"});K(a.get("className"));t=function(){function e(){!1===b.support.opacity&&c[0].style.removeAttribute("filter")}var f=k.length,d,g;y&&(g=function(){clearTimeout(oa);U.hide();F(X);a.get("onComplete")},ea.html(a.get("title")).show(),h.show(),1<f?("string"===typeof a.get("current")&&ha.html(a.get("current").replace("{current}",
q+1).replace("{total}",f)).show(),O[a.get("loop")||q<f-1?"show":"hide"]().html(a.get("next")),N[a.get("loop")||q?"show":"hide"]().html(a.get("previous")),ua(),a.get("preloading")&&b.each([R(-1),R(1)],function(){var a,c=k[this];a=new Q(c,b.data(c,B));(c=a.get("href"))&&(a.get("photo")||a.get("photoRegex").test(c))&&(c=ka(a,c),a=n.createElement("img"),a.src=c)})):da.hide(),a.get("iframe")?(d=n.createElement("iframe"),"frameBorder"in d&&(d.frameBorder=0),"allowTransparency"in d&&(d.allowTransparency=
"true"),a.get("scrolling")||(d.scrolling="no"),b(d).attr({src:a.get("href"),name:(new Date).getTime(),"class":p+"Iframe",allowFullScreen:!0}).one("load",g).appendTo(h),w.one(V,function(){d.src="//about:blank"}),a.get("fastIframe")&&b(d).trigger("load")):g(),"fade"===a.get("transition")?c.fadeTo(u,1,e):e())};"fade"===a.get("transition")?c.fadeTo(u,0,function(){m.position(0,t)}):m.position(u,t)}},m.next=function(){!M&&k[1]&&(a.get("loop")||k[q+1])&&(q=R(1),S(k[q]))},m.prev=function(){!M&&k[1]&&(a.get("loop")||
q)&&(q=R(-1),S(k[q]))},m.close=function(){y&&!L&&(L=!0,y=!1,F(ja),a.get("onCleanup"),t.unbind("."+p),u.fadeTo(a.get("fadeOut")||0,0),c.stop().fadeTo(a.get("fadeOut")||0,0,function(){c.hide();u.hide();F(V);h.remove();setTimeout(function(){L=!1;F(fa);a.get("onClosed")},1)}))},m.remove=function(){c&&(c.stop(),b.colorbox.close(),c.stop().remove(),u.remove(),L=!1,c=null,b("."+H).removeData(B).removeClass(H),b(n).unbind("click."+p))},m.element=function(){return b(a.el)},m.settings=Z)})(jQuery,document,
window);
